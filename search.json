[
  {
    "objectID": "exercises/02-booting/05-ex-week3.html",
    "href": "exercises/02-booting/05-ex-week3.html",
    "title": "Desxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)",
    "section": "",
    "text": "Aprendre a personalitzar la initramfs per buscar una clau en un disc secundari (emulant un USB).\nDesxifrar autom√†ticament una partici√≥ LUKS durant l‚Äôarrencada amb una keyfile.\nEntendre els hooks i scripts d‚Äôinitramfs-tools i com incloure binaris (cryptsetup) a la imatge."
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#objectius",
    "href": "exercises/02-booting/05-ex-week3.html#objectius",
    "title": "Desxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)",
    "section": "",
    "text": "Aprendre a personalitzar la initramfs per buscar una clau en un disc secundari (emulant un USB).\nDesxifrar autom√†ticament una partici√≥ LUKS durant l‚Äôarrencada amb una keyfile.\nEntendre els hooks i scripts d‚Äôinitramfs-tools i com incloure binaris (cryptsetup) a la imatge."
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#requeriments-previs",
    "href": "exercises/02-booting/05-ex-week3.html#requeriments-previs",
    "title": "Desxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una m√†quina virtual (MV) amb Debian instal¬∑lat, aquesta m√†quina virtual s‚Äôha d‚Äôhaver creat seleccionat l‚Äôopci√≥ de LVM xifrat durant la instal¬∑laci√≥.\nAfegeix un disc secundari a la m√†quina virtual que simular√† un USB de 4GB i de tipus SATA.\nTotes les comandes s‚Äôhan d‚Äôexecutar amb permisos de superusuari (root). Per tant, su -.\nRealitzar un apt update -y && apt upgrade -y per assegurar-se que el sistema est√† actualitzat.\nInstal¬∑lar el paquet apt install parted vim -y per gestionar particions."
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#passos",
    "href": "exercises/02-booting/05-ex-week3.html#passos",
    "title": "Desxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)",
    "section": "Passos",
    "text": "Passos\n\nCreaci√≥ del disc secundari amb la clau\nPrimer, cal crear un disc secundari que simuli un USB. Aix√≤ es pot fer afegint un nou disc a la m√†quina virtual. En aquest exemple, suposarem que el nou disc √©s /dev/sda. Si el teu disc √©s diferent, substitueix /dev/sda pel nom correcte. Per obtenir el nom del nou disc, pots utilitzar la comanda lsblk o df -h.\nparted --script /dev/sda mklabel msdos\nparted --script /dev/sda mkpart primary ext4 1MiB 100%\nmkfs.ext4 -L KEYDISK /dev/sda1\nAquestes comandes creen una taula de particions MBR i una partici√≥ prim√†ria que ocupa tot l‚Äôespai del disc, formatada amb el sistema de fitxers ext4 i amb l‚Äôetiqueta KEYDISK.\n\n\nMuntar el disc i crear la clau\nPrimer crearem un punt de muntatge i muntarem la partici√≥ del disc secundari. Despr√©s, generarem un fitxer de clau amb dades aleat√≤ries i li assignarem permisos restrictius per garantir la seva seguretat.\nmkdir -p /tmp/keydisk\nmount /dev/sda1 /tmp/keydisk\ndd if=/dev/urandom of=/tmp/keydisk/keyfile.bin bs=4096 count=1\nchmod 0400 /tmp/keydisk/keyfile.bin\n\n\nAfegir la clau a la partici√≥ LUKS\nAfegirem el fitxer de clau a la partici√≥ LUKS que cont√© la partici√≥ arrel. En aquest exemple, suposarem que la partici√≥ LUKS √©s /dev/nvme0n1p3. Si el teu dispositiu √©s diferent, substitueix /dev/nvme0n1p3 pel nom correcte.\ncryptsetup luksDump /dev/nvme0n1p3\ncryptsetup luksAddKey /dev/nvme0n1p3 /tmp/keydisk/keyfile.bin\nEn aquest punt, se‚Äôt demanar√† introdu√Ør una passphrase existent per autoritzar l‚Äôafegiment de la nova clau, entra la passphrase i comprova que la clau s‚Äôha afegit correctament amb:\ncryptsetup luksDump /dev/nvme0n1p3\nAra veuras una l√≠nia addicional a Key Slot. Indicant que la clau s‚Äôha afegit correctament."
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#edita-el-fitxer-etccrypttab",
    "href": "exercises/02-booting/05-ex-week3.html#edita-el-fitxer-etccrypttab",
    "title": "Desxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)",
    "section": "Edita el fitxer /etc/crypttab",
    "text": "Edita el fitxer /etc/crypttab\nAquest fitxer s‚Äôutilitza per definir les particions xifrades que s‚Äôhan de desxifrar durant l‚Äôarrencada. Edita el fitxer /etc/crypttab i afegeix la a entre el UUID de la partici√≥ LUKS i les opcions, la ruta al fitxer de clau que hem creat anteriorment. Per fer-ho, elimineu none i afegiu la ruta al fitxer de clau.\n# /etc/crypttab\nnvme0n1p3_crypt UUID=XXXXXXXXX /tmp/keydisk/keyfile.bin  luks,discard\nIndicarem que la keyfile es troba a /tmp/keydisk/keyfile.bin, ja que en la initramfs muntarem el disc secundari a /tmp/keydisk i llegirem la clau des d‚Äôall√†.\n\nCrear l‚Äôscript per muntar el disc i llegir la clau\nCrearem un script que s‚Äôexecutar√† durant l‚Äôarrencada per muntar el disc secundari, llegir la clau i desxifrar la partici√≥ LUKS. Aquest script es col¬∑locar√† a /etc/initramfs-tools/scripts/local-top/ i s‚Äôanomenar√† mount_disk.\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          mount_disk\n# Required-Start:    $local_fs\n# Required-Stop:\n# Default-Start:     S\n# Default-Stop:\n# Short-Description: Unlock LUKS root using a keyfile on a secondary disk\n# Description:       Finds and mounts a secondary disk\n### END INIT INFO\n\nlog_msg() {\n    echo \"mount_disk: $1\" &gt; /dev/kmsg\n}\n\nKEYDISK_UUID=\"XXXXXX\" # &lt;-- Substitueix amb el teu UUID corresponent al disc secundari\nKEYFILE_PATH=\"/keyfile.bin\"\n\nlog_msg \"Iniciant desxifrat autom√†tic amb keyfile.\"\n\nMNT_POINT=\"/tmp/keydisk\"\nmkdir -p \"$MNT_POINT\"\n\nDEV=$(blkid -U \"$KEYDISK_UUID\")\nif [ -n \"$DEV\" ]; then\n    log_msg \"Dispositiu trobat a $DEV. Muntant...\"\n    mount -t ext4 \"$DEV\" \"$MNT_POINT\"\n    if [ $? -ne 0 ]; then\n        log_msg \"ERROR: No s'ha pogut muntar $DEV.\"\n        exit 0\n    fi\nelse\n    log_msg \"ERROR: No s'ha trobat cap dispositiu amb l'UUID especificat.\"\n    exit 0\nfi\n\n# Comprovar si el keyfile existeix\nif [ -f \"$MNT_POINT/$KEYFILE_PATH\" ]; then\n    log_msg \"Keyfile trobat. Desxifrant LUKS...\"\nelse\n    log_msg \"ERROR: No s'ha trobat el keyfile.\"\nfi\n\nexit 0\nGuarda aquest script com a /etc/initramfs-tools/scripts/local-top/mount_disk i fes-lo executable:\nchmod +x /etc/initramfs-tools/scripts/local-top/mount_disk\n\n\nConfiigurar cryptsetup per a la initramfs\ncryptsetup ja esta incl√≤s en la initramfs per defecte, per√≤ cal assegurar-se que est√† configurat per utilitzar el fitxer de clau des del disc secundari. Edita el fitxer /etc/cryptsetup-initramfs/conf-hook i afegeix la seg√ºent l√≠nia que permet que no es demani la contrasenya si es troba el fitxer de clau:\n#  /etc/cryptsetup-initramfs/conf-hook\nASKPASS=n\n\n\nIncloure el fitxer /etc/crypttab a la initramfs\nPer assegurar que el fitxer /etc/crypttab es troba disponible durant l‚Äôarrencada, cal crear un script que el copi√Ø a la initramfs. Crearem un script anomenat copy-crypttab a /etc/initramfs-tools/hooks/.\n#!/bin/sh\ncp /etc/crypttab \"${DESTDIR}/cryptroot/crypttab\"\nexit\nGuarda aquest script com a /etc/initramfs-tools/hooks/copy-crypttab i fes-lo executable:\nchmod +x /etc/initramfs-tools/hooks/copy-crypttab\n\n\nActualitzar la initramfs\nPerqu√® els canvis tinguin efecte, cal actualitzar la initramfs. Aix√≤ es fa amb la comanda seg√ºent:\nupdate-initramfs -u -k $(uname -r)\n\n\nComprovar la inclusi√≥ de l‚Äôscript i cryptsetup a la initramfs\nPer assegurar-te que l‚Äôscript s‚Äôha incl√≤s correctament a la initramfs i que cryptsetup tamb√© hi √©s, pots utilitzar les seg√ºents comandes:\nlsinitramfs /boot/initrd.img-$(uname -r) | grep mount_disk\nlsinitramfs /boot/initrd.img-$(uname -r) | grep cryptsetup\n\n\nProva l‚Äôarrencada\nReinicia la m√†quina virtual per provar l‚Äôarrencada. Si tot est√† configurat correctament, la partici√≥ LUKS s‚Äôhauria de desxifrar autom√†ticament utilitzant la clau emmagatzemada al disc secundari. Sense demanar la contrasenya manualment.\nreboot\n\n\nConsultar el log d‚Äôarrencada\nDurant l‚Äôarrencada, el sistema registrar√† missatges al kernel log. Pots consultar aquests missatges per verificar que l‚Äôscript s‚Äôha executat correctament i que la partici√≥ LUKS s‚Äôha desxifrat. Utilitza la comanda seg√ºent per veure els missatges rellevants:\ndmesg | grep mount_disk"
  },
  {
    "objectID": "exercises/02-booting/02-ex-week2.html",
    "href": "exercises/02-booting/02-ex-week2.html",
    "title": "Arrancada UEFI b√†sica amb QEMU",
    "section": "",
    "text": "En aquest exercici aprendrem a crear un entorn d‚Äôarrencada UEFI senzill utilitzant QEMU. A difer√®ncia de la BIOS tradicional, la UEFI utilitza fitxers executables en format PE (Portable Executable) per carregar els sistemes operatius. Aquests fitxers es col¬∑loquen en una partici√≥ especial del disc anomenada ESP (EFI System Partition).\nL‚Äôobjectiu final √©s carregar i executar un petit joc de Tetris dins de l‚Äôentorn UEFI.\n\n\nPer a aquest laboratori, necessitem una m√†quina virtual amb Debian i una interf√≠cie gr√†fica, ja que la UEFI per defecte utilitza un entorn gr√†fic.\nSi no teniu una interf√≠cie gr√†fica, podeu instal¬∑lar-la amb la seg√ºent comanda:\nsu -c \"apt install task-gnome-desktop -y\"\n\n\n\n\n\n\nNotaNota\n\n\n\nUn cop instal¬∑lada la interf√≠cie gr√†fica, reinicieu la m√†quina virtual i inicieu sessi√≥ a l‚Äôentorn d‚Äôescriptori.\n\n\nA m√©s, necessitem instal¬∑lar les eines necess√†ries per compilar i executar el nostre codi UEFI.\nsu -c \"apt install qemu-system-x86 gcc-x86-64-linux-gnu nasm make gnu-efi gdisk mtools -y\"\nsu -c ‚Äúapt install qemu-system-x86 make gdisk mtools -y‚Äù\nFinalment, clonem el repositori amb el codi font del joc de Tetris per UEFI:\ngit clone https://github.com/a1ive/uefi-tetris.git\ncd uefi-tetris\n\n\n\n\n\n\nNotaNota\n\n\n\nQuan executeu les comandes QEMU, no ho feu amb la conexi√≥ SSH ja que us donar√† problemes amb la interf√≠cie gr√†fica. Utilitzeu la terminal de la m√†quina virtual directament.\n\n\n\n\n\nAquest m√®tode ens permetr√† executar r√†pidament un executable UEFI sense la necessitat de crear una imatge de disc. Utilitzarem la UEFI Shell, una l√≠nia de comandes que ens permet interactuar amb l‚Äôentorn UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=fat:rw:./ -net none\nOn aquest comandament:\n\nbios /usr/share/qemu/OVMF.fd: Carrega el firmware OVMF (Open Virtual Machine Firmware), que √©s la implementaci√≥ UEFI per a QEMU.\n-drive format=raw,file=fat:rw:./: Munta el directori actual (./) com si fos una partici√≥ FAT. La UEFI Shell reconeix aquest format de manera nativa, donant-nos acc√©s al nostre fitxer tetris.efi.\n-net none: Deshabilita la xarxa, ja que no la necessitem per a aquest exercici.\n\nEn executar la comanda, QEMU s‚Äôiniciar√† i, com que no hi ha cap sistema operatiu per arrencar, caur√† directament a la UEFI Shell.\n\n\nUn cop a la UEFI Shell, accedim a la partici√≥ que QEMU ha muntat per nosaltres.\nfs0:\nLa comanda fs0: ens canvia a la partici√≥ FAT que correspon al nostre directori.\n\n\n\n\n\n\nNotaNotes\n\n\n\n\nEl teclat est√† en angl√®s per defecte. Per escriure el car√†cter : heu de pr√©mer Shift + √ë.\nSi fs0: no funciona, podeu llistar les particions disponibles amb la comanda map i provar amb les altres.\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nUtilitzeu les comandes ls i cd per navegar pel sistema de fitxers fins que trobeu la carpeta uefi-tetris i dins d‚Äôella el fitxer tetris.efi.\n\n\nFinalment, executem el bootloader UEFI:\ntetris.efi\n\n\n\n\nAquest m√®tode simula un escenari m√©s real, on el fitxer executable es troba en una partici√≥ dedicada al disc. La partici√≥ ESP (EFI System Partition) √©s una partici√≥ especial, formatada en FAT32, on es guarden els fitxers d‚Äôarrencada del sistema operatiu.\n\n\nPrimer, creem un fitxer que far√† de disc dur virtual. Amb 64 MB n‚Äôhi ha prou.\nqemu-img create -f raw tetris.img 64M\n\n\n\nUtilitzarem gdisk per crear la partici√≥ ESP. La GPT (GUID Partition Table) √©s el format modern de taules de particions, necessari per a la UEFI.\nsu -\ncd /path/to/uefi-tetris # Canvia al directori on has clonat el repositori\ngdisk tetris.img\nA la consola de gdisk, utilitzarem les seg√ºents comandes:\n\nPr√©mer o per crear una nova taula GPT.\nPr√©mer n per crear una nova partici√≥.\nPr√®mer 1 per assignar el n√∫mero de partici√≥.\nPr√®mer Enter per acceptar l‚Äôinici per defecte.\nPr√®mer Enter per acceptar la mida per defecte (fins al final del disc).\nPr√®mer ef00 per assignar el tipus EFI System Partition.\nPr√®mer w per escriure els canvis i sortir.\n\n\n\n\n\n\n\nNotaNota\n\n\n\nConfirmeu tots els canvis escrivint Y quan se us demani. Per assegurar-vos que la partici√≥ s‚Äôha creat correctament, podeu utilitzar gdisk -l tetris.img per llistar les particions del fitxer d‚Äôimatge. Observeu que la partici√≥ t√© el tipus EF00, indicant que √©s una partici√≥ ESP.\n\n\n\n\n\nAra que tenim la partici√≥, l‚Äôhem de formatar, √©s a dir, donar-li un sistema de fitxers. La UEFI requereix que la partici√≥ ESP estigui formatada en FAT32.\n\nIdentificar el dispositiu de bucle:\n\n# Com a root\nlosetup --partscan --find --show tetris.img\nAquesta comanda mostrar√† el nom del dispositiu de bucle creat (p.¬†ex., /dev/loop1) i la seva partici√≥ (/dev/loop1p1). Anoteu-ho.\n\nFormatejar la partici√≥:\n\n# Com a root\nmkfs.fat -F 32 /dev/loop1p1\n\n\n\nAra, muntem la partici√≥ i copiem el fitxer tetris.efi a la ubicaci√≥ correcta dins de l‚Äôestructura de directoris esperada per la UEFI.\n# Com a root\nmount /dev/loop1p1 /mnt\nmkdir -p /mnt/EFI/BOOT\ncp tetris.efi /mnt/EFI/BOOT/BOOTX64.EFI\numount /mnt\nlosetup -d /dev/loop1\n\n\n\n\n\n\nNotaObservaci√≥\n\n\n\nLa UEFI espera trobar el fitxer d‚Äôarrencada en aquesta ubicaci√≥ espec√≠fica: \\EFI\\BOOT\\BOOTX64.EFI per a sistemes x86_64. Si utilitzeu una arquitectura diferent, assegureu-vos de canviar el nom del fitxer segons sigui necessari (per exemple, BOOTAA64.EFI per a ARM64). Com estem emulant un sistema x86_64, utilitzem BOOTX64.EFI.\n\n\n\n\n\nFinalment, podem arrencar la nostra imatge de disc amb QEMU utilitzant el firmware UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=tetris.img -net none\nSi tot ha anat b√©, haur√≠eu de veure el joc de Tetris en funcionament a la pantalla directament sense necessitat d‚Äôentrar a la UEFI Shell."
  },
  {
    "objectID": "exercises/02-booting/02-ex-week2.html#tetris-amb-uefi",
    "href": "exercises/02-booting/02-ex-week2.html#tetris-amb-uefi",
    "title": "Arrancada UEFI b√†sica amb QEMU",
    "section": "",
    "text": "En aquest exercici aprendrem a crear un entorn d‚Äôarrencada UEFI senzill utilitzant QEMU. A difer√®ncia de la BIOS tradicional, la UEFI utilitza fitxers executables en format PE (Portable Executable) per carregar els sistemes operatius. Aquests fitxers es col¬∑loquen en una partici√≥ especial del disc anomenada ESP (EFI System Partition).\nL‚Äôobjectiu final √©s carregar i executar un petit joc de Tetris dins de l‚Äôentorn UEFI.\n\n\nPer a aquest laboratori, necessitem una m√†quina virtual amb Debian i una interf√≠cie gr√†fica, ja que la UEFI per defecte utilitza un entorn gr√†fic.\nSi no teniu una interf√≠cie gr√†fica, podeu instal¬∑lar-la amb la seg√ºent comanda:\nsu -c \"apt install task-gnome-desktop -y\"\n\n\n\n\n\n\nNotaNota\n\n\n\nUn cop instal¬∑lada la interf√≠cie gr√†fica, reinicieu la m√†quina virtual i inicieu sessi√≥ a l‚Äôentorn d‚Äôescriptori.\n\n\nA m√©s, necessitem instal¬∑lar les eines necess√†ries per compilar i executar el nostre codi UEFI.\nsu -c \"apt install qemu-system-x86 gcc-x86-64-linux-gnu nasm make gnu-efi gdisk mtools -y\"\nsu -c ‚Äúapt install qemu-system-x86 make gdisk mtools -y‚Äù\nFinalment, clonem el repositori amb el codi font del joc de Tetris per UEFI:\ngit clone https://github.com/a1ive/uefi-tetris.git\ncd uefi-tetris\n\n\n\n\n\n\nNotaNota\n\n\n\nQuan executeu les comandes QEMU, no ho feu amb la conexi√≥ SSH ja que us donar√† problemes amb la interf√≠cie gr√†fica. Utilitzeu la terminal de la m√†quina virtual directament.\n\n\n\n\n\nAquest m√®tode ens permetr√† executar r√†pidament un executable UEFI sense la necessitat de crear una imatge de disc. Utilitzarem la UEFI Shell, una l√≠nia de comandes que ens permet interactuar amb l‚Äôentorn UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=fat:rw:./ -net none\nOn aquest comandament:\n\nbios /usr/share/qemu/OVMF.fd: Carrega el firmware OVMF (Open Virtual Machine Firmware), que √©s la implementaci√≥ UEFI per a QEMU.\n-drive format=raw,file=fat:rw:./: Munta el directori actual (./) com si fos una partici√≥ FAT. La UEFI Shell reconeix aquest format de manera nativa, donant-nos acc√©s al nostre fitxer tetris.efi.\n-net none: Deshabilita la xarxa, ja que no la necessitem per a aquest exercici.\n\nEn executar la comanda, QEMU s‚Äôiniciar√† i, com que no hi ha cap sistema operatiu per arrencar, caur√† directament a la UEFI Shell.\n\n\nUn cop a la UEFI Shell, accedim a la partici√≥ que QEMU ha muntat per nosaltres.\nfs0:\nLa comanda fs0: ens canvia a la partici√≥ FAT que correspon al nostre directori.\n\n\n\n\n\n\nNotaNotes\n\n\n\n\nEl teclat est√† en angl√®s per defecte. Per escriure el car√†cter : heu de pr√©mer Shift + √ë.\nSi fs0: no funciona, podeu llistar les particions disponibles amb la comanda map i provar amb les altres.\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nUtilitzeu les comandes ls i cd per navegar pel sistema de fitxers fins que trobeu la carpeta uefi-tetris i dins d‚Äôella el fitxer tetris.efi.\n\n\nFinalment, executem el bootloader UEFI:\ntetris.efi\n\n\n\n\nAquest m√®tode simula un escenari m√©s real, on el fitxer executable es troba en una partici√≥ dedicada al disc. La partici√≥ ESP (EFI System Partition) √©s una partici√≥ especial, formatada en FAT32, on es guarden els fitxers d‚Äôarrencada del sistema operatiu.\n\n\nPrimer, creem un fitxer que far√† de disc dur virtual. Amb 64 MB n‚Äôhi ha prou.\nqemu-img create -f raw tetris.img 64M\n\n\n\nUtilitzarem gdisk per crear la partici√≥ ESP. La GPT (GUID Partition Table) √©s el format modern de taules de particions, necessari per a la UEFI.\nsu -\ncd /path/to/uefi-tetris # Canvia al directori on has clonat el repositori\ngdisk tetris.img\nA la consola de gdisk, utilitzarem les seg√ºents comandes:\n\nPr√©mer o per crear una nova taula GPT.\nPr√©mer n per crear una nova partici√≥.\nPr√®mer 1 per assignar el n√∫mero de partici√≥.\nPr√®mer Enter per acceptar l‚Äôinici per defecte.\nPr√®mer Enter per acceptar la mida per defecte (fins al final del disc).\nPr√®mer ef00 per assignar el tipus EFI System Partition.\nPr√®mer w per escriure els canvis i sortir.\n\n\n\n\n\n\n\nNotaNota\n\n\n\nConfirmeu tots els canvis escrivint Y quan se us demani. Per assegurar-vos que la partici√≥ s‚Äôha creat correctament, podeu utilitzar gdisk -l tetris.img per llistar les particions del fitxer d‚Äôimatge. Observeu que la partici√≥ t√© el tipus EF00, indicant que √©s una partici√≥ ESP.\n\n\n\n\n\nAra que tenim la partici√≥, l‚Äôhem de formatar, √©s a dir, donar-li un sistema de fitxers. La UEFI requereix que la partici√≥ ESP estigui formatada en FAT32.\n\nIdentificar el dispositiu de bucle:\n\n# Com a root\nlosetup --partscan --find --show tetris.img\nAquesta comanda mostrar√† el nom del dispositiu de bucle creat (p.¬†ex., /dev/loop1) i la seva partici√≥ (/dev/loop1p1). Anoteu-ho.\n\nFormatejar la partici√≥:\n\n# Com a root\nmkfs.fat -F 32 /dev/loop1p1\n\n\n\nAra, muntem la partici√≥ i copiem el fitxer tetris.efi a la ubicaci√≥ correcta dins de l‚Äôestructura de directoris esperada per la UEFI.\n# Com a root\nmount /dev/loop1p1 /mnt\nmkdir -p /mnt/EFI/BOOT\ncp tetris.efi /mnt/EFI/BOOT/BOOTX64.EFI\numount /mnt\nlosetup -d /dev/loop1\n\n\n\n\n\n\nNotaObservaci√≥\n\n\n\nLa UEFI espera trobar el fitxer d‚Äôarrencada en aquesta ubicaci√≥ espec√≠fica: \\EFI\\BOOT\\BOOTX64.EFI per a sistemes x86_64. Si utilitzeu una arquitectura diferent, assegureu-vos de canviar el nom del fitxer segons sigui necessari (per exemple, BOOTAA64.EFI per a ARM64). Com estem emulant un sistema x86_64, utilitzem BOOTX64.EFI.\n\n\n\n\n\nFinalment, podem arrencar la nostra imatge de disc amb QEMU utilitzant el firmware UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=tetris.img -net none\nSi tot ha anat b√©, haur√≠eu de veure el joc de Tetris en funcionament a la pantalla directament sense necessitat d‚Äôentrar a la UEFI Shell."
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html",
    "href": "exercises/02-booting/01-ex-week2.html",
    "title": "Booting amb MBR i BIOS",
    "section": "",
    "text": "Entendre com funciona el proc√©s d‚Äôarrencada amb BIOS i MBR.\nCrear un bootloader senzill de primera i segona etapa.\nPracticar l‚Äô√∫s de QEMU per emular una m√†quina amb BIOS."
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html#objectiu",
    "href": "exercises/02-booting/01-ex-week2.html#objectiu",
    "title": "Booting amb MBR i BIOS",
    "section": "",
    "text": "Entendre com funciona el proc√©s d‚Äôarrencada amb BIOS i MBR.\nCrear un bootloader senzill de primera i segona etapa.\nPracticar l‚Äô√∫s de QEMU per emular una m√†quina amb BIOS."
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html#requisits-previs",
    "href": "exercises/02-booting/01-ex-week2.html#requisits-previs",
    "title": "Booting amb MBR i BIOS",
    "section": "Requisits previs",
    "text": "Requisits previs\n\nUna m√†quina virtual amb Debian i acc√©s a la terminal.\n\n\nPart 1: El Bootloader de Primera Etapa (MBR)\nL‚Äôobjectiu d‚Äôaquesta part √©s crear un disc virtual amb un MBR que la BIOS pugui recon√®ixer i executar, mostrant un missatge de benvinguda.\n\nCreaci√≥ de la imatge del disc\nCrearem un fitxer de 10 MiB que servir√† com a disc dur virtual. Utilitzarem la comanda dd:\ndd if=/dev/zero of=disk.img bs=512 count=20480\nObserveu que bs=512 estableix la mida del bloc a 512 bytes, i count=20480 indica que volem 20480 blocs, resultant en un fitxer de 10 MiB (512 bytes * 20480 blocs = 10 MiB). A m√©s, aquest fitxer estar√† inicialitzat amb zeros (if=/dev/zero) i es crear√† amb el nom disk.img.\n\n\n\n\n\n\nNotaRecordatori\n\n\n\nMBR significa Master Boot Record i ocupa els primers 512 bytes del disc.\n\n\n\n\nBootloader de primera etapa\nEl bootloader de primera etapa √©s un petit programa que s‚Äôexecuta quan la BIOS carrega el MBR. Aquest programa ha de ser molt petit, ja que nom√©s t√© 512 bytes per treballar. En aquest exercici, escriurem un bootloader senzill en llenguatge d‚Äôassemblador que mostrar√† un missatge de benvinguda.\nCrea un fitxer anomenat boot.asm amb el seg√ºent contingut:\n[org 0x7c00]      ; L'adre√ßa on la BIOS carrega el nostre codi\n\njmp short start   ; Salt a la rutina principal per evitar que la BIOS executi la taula de particions\nnop               ; \n\nstart:\n    ; Configurem els registres del segment\n    xor ax, ax      ; Posa AX a 0\n    mov ds, ax      ; Configurem DS (segment de dades) a 0\n    mov es, ax      ; Configurem ES (segment extra) a 0\n    mov ss, ax      ; Configurem SS (segment de pila) a 0\n    mov sp, 0x7c00  ; Configurem el punter de pila\n\n    ; Imprimir el missatge de benvinguda\n    mov si, msg     ; Carreguem l'adre√ßa del missatge a SI\n.print_loop:\n    lodsb           ; Carreguem un byte des de [DS:SI] a AL, i incrementem SI\n    cmp al, 0       ; Comparem AL amb zero\n    je .done_print  ; Si AL √©s zero, hem arribat al final del missatge\n    mov ah, 0x0e    ; Funci√≥ BIOS per a l'escriptura en mode teletip\n    int 0x10        ; Crida a la interrupci√≥ de v√≠deo\n    jmp .print_loop\n.done_print:\n\n    ; Bucle infinit per aturar l'execuci√≥\n    cli             ; Deshabilitem les interrupcions\n.halt:\n    hlt             ; Aturem la CPU\n    jmp .halt       ; Saltem a nosaltres mateixos en cas de despertar-nos d'un HLT\n\nmsg db \"Hola, soc l'MBR. La primera etapa d'arrencada ha funcionat!\", 0\n\n; Omplim la resta del sector amb zeros\ntimes 510 - ($-$$) db 0\n\n; La signatura MBR\ndw 0xaa55\nLa primera l√≠nia [org 0x7c00] indica a l‚Äôassemblador que el codi s‚Äôha de considerar com si s‚Äôexecut√©s a l‚Äôadre√ßa 0x7C00, que √©s on la BIOS carrega el sector MBR a la mem√≤ria.\nAbans de l‚Äôexecuci√≥ del nostre codi, els registres de segment de la CPU (DS, ES, SS) poden contenir valors aleatoris. Per garantir que les adreces de mem√≤ria siguin interpretades correctament en mode real, els inicialitzem a zero amb les instruccions mov ds, ax, mov es, ax i mov ss, ax.\nLa instrucci√≥ mov sp, 0x7c00 estableix el punter de pila (SP) a la mateixa adre√ßa on s‚Äôha carregat el MBR, evitant que la pila sobrescrigui el codi. En bootloaders m√©s complexos, aix√≤ permetria utilitzar instruccions com CALL, PUSH i POP sense problemes.\nLa rutina de bucle llegeix cada car√†cter de la cadena de text i el mostra a la pantalla mitjan√ßant la interrupci√≥ BIOS 0x10, funci√≥ teletip (AH=0x0E). Un cop s‚Äôha impr√®s tot el missatge, s‚Äôutilitza la instrucci√≥ HLT dins d‚Äôun bucle infinit per aturar la CPU. Aix√≤ evita que la CPU continu√Ø executant dades no definides m√©s enll√† del sector MBR, cosa que podria provocar comportaments inesperats.\n\n\nEnsamblar i escriure el bootloader al disc\nUtilitzarem nasm per ensamblar el nostre codi i dd per escriure‚Äôl al disc virtual:\n# Instal¬∑lar nasm si no el tens\nsu -c \"apt install nasm -y\"\n# Ensamblar el codi\nnasm -f bin -o boot.bin boot.asm\nOn -f bin indica que volem un fitxer binari pla, i -o boot.bin especifica el nom del fitxer de sortida.\n\n\n\n\n\n\nImportantProblemes\n\n\n\nSi la comanda d‚Äôinstalaci√≥ de qemu no acaba correctament, heu de fer un su -c \"apt update\" i problablement tamb√© un su -c \"apt upgrade -y\" abans de tornar a intentar instal¬∑lar qemu.\n\n\nAra, escrivim el bootloader al disc virtual:\ndd if=boot.bin of=disk.img bs=512 count=1 conv=notrunc\nOn conv=notrunc assegura que no truncarem el fitxer de sortida, mantenint la resta del disc intacta.\nPer comprovar que el bootloader s‚Äôha escrit correctament, podem utilitzar hexdump:\nhexdump -C -n 512 disk.img | sed -n '1,16p'\non -n 512 limita la sortida als primers 512 bytes (el sector MBR) i sed -n '1,16p' mostra nom√©s les primeres 16 l√≠nies de la sortida.\nTamb√© podem comprovar la signatura MBR (els √∫ltims dos bytes del sector) amb:\nhexdump -C -s 510 -n 2 disk.img\nHaurias de veure 55 aa, el 00000200 indica l‚Äôoffset.\n\n\nExecutar la imatge del disc amb QEMU\nFinalment, podem executar la nostra imatge de disc amb QEMU per veure el nostre missatge de benvinguda:\n# Instal¬∑lar QEMU si no el tens\nsu -c \"apt install qemu-system-x86 -y\"\n# Executar la imatge del disc\nqemu-system-x86_64 -drive file=disk.img,format=raw -nographic\n\n\n\n\n\n\nNotaNota\n\n\n\nLa nostra m√†quina virtual √©s mode text (-nographic), aix√≠ que hauries de veure el missatge de benvinguda a la terminal. Si teniu una interf√≠cie gr√†fica, podeu ometre -nographic per veure la sortida en una finestra de QEMU.\n\n\nEnhorabona! Acabes de crear i executar un bootloader de primera etapa senzill que mostra un missatge de benvinguda. Aquest √©s el primer pas per entendre com funciona el proc√©s d‚Äôarrencada d‚Äôun sistema operatiu.\n\n\n\n\n\n\nConsellSortir de QEMU\n\n\n\n\nPer sortir de QEMU, utilitza la combinaci√≥ de tecles Ctrl + A, seguida de X.\nAlternativament, pots Ctrl + C a la terminal per anar a la l√≠nia de comandes de QEMU i despr√©s escriure quit per sortir.\n\n\n\n\n\n\nPart 2: El Bootloader de Segona\nEn aquest punt, ja tenim el nostre bootloader de primera etapa, per√≤ la seva funci√≥ principal √©s passar el control a un programa m√©s gran. Aquest ser√† el nostre bootloader de segona etapa. Per fer-ho, el MBR ha de llegir un sector del disc i carregar-lo a la mem√≤ria. Normalment, el MBR analitzaria la taula de particions per trobar on comen√ßa el seg√ºent bootloader. No obstant aix√≤, per a aquest exercici, simplificarem aquest proc√©s i codificarem directament l‚Äôadre√ßa del nostre bootloader de segona etapa al codi.\nLa interrupci√≥ int 0x13h de la BIOS √©s la responsable de les operacions d‚Äôentrada/sortida de disc i requereix un paquet d‚Äôadreces de disc (DAP) per funcionar. Aquest DAP √©s una estructura de dades de 16 bytes que li diu a la BIOS on llegir i on escriure les dades. La proposta √©s configurar el nostre DAP per llegir el sector 2048 del disc (dword [si+8], 2048) i carregar-lo a la mem√≤ria a l‚Äôadre√ßa 0x8000 (word [si+4], 0x8000).\nEscriu un fitxer anomenat second_boot.asm amb el seg√ºent contingut:\n[org 0x8000]     ; Stage2 carregat pel MBR a 0x8000\n\nmov si, msg\n.print_loop:\n    lodsb\n    or al, al\n    jz .done\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop\n\n.done:\n    jmp $       \n\nmsg db \"Hola des del bootloader de segona etapa!\", 0\nAra ensamblarem aquest codi i el prepararem per ser carregat pel nostre bootloader de primera etapa.\nnasm -f bin -o second_boot.bin second_boot.asm\nAra, escriurem aquest bootloader de segona etapa al disc virtual, per√≤ no al principi. El MBR est√† dissenyat per carregar el bootloader de segona etapa des d‚Äôuna ubicaci√≥ espec√≠fica del disc. En aquest cas, utilitzarem el sector 2048 (1 MiB) per a aix√≤. Representaria la primera partici√≥ d‚Äôun disc amb una taula de particions est√†ndard.\ndd if=second_boot.bin of=disk.img bs=512 count=1 seek=2048 conv=notrunc\nModifiqueu el vostre boot.asm per carregar aquest bootloader de segona etapa des del sector 2048:\n[org 0x7c00]\n\njmp short start\nnop\n\nstart:\n    xor ax, ax\n    mov ds, ax\n    mov es, ax\n    mov ss, ax\n    mov sp, 0x7c00\n\n    ; Missatge Stage1\n    mov si, msg_mbr\n.print_loop_mbr:\n    lodsb\n    or al, al\n    jz .load_next_stage\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop_mbr\n\n.load_next_stage:\n    ; Configura DAP a 0x0600\n    mov si, 0x0600\n    mov byte [si], 0x10         ; mida del DAP\n    mov byte [si+1], 0x00\n    mov word [si+2], 1          ; sectors a llegir\n    mov word [si+4], 0x8000     ; offset dest√≠\n    mov word [si+6], 0x0000     ; segment dest√≠\n    mov dword [si+8], 2048      ; LBA\n    mov dword [si+12], 0        ; high LBA\n\n    ; BIOS extended read\n    mov ah, 0x42\n    mov dl, 0x80\n    int 0x13\n    jc .boot_failed\n\n    jmp 0:0x8000\n\n.boot_failed:\n    mov si, msg_fail\n.print_loop_fail:\n    lodsb\n    or al, al\n    jz .halt\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop_fail\n.halt:\n    cli\n    hlt\n    jmp .halt\n\nmsg_mbr db \"Hola, soc l'MBR. Carregant Stage2...\",0\nmsg_fail db \"Error carregant Stage2!\",0\n\ntimes 510-($-$$) db 0\ndw 0xAA55\nAra ensamblarem el nou MBR:\nnasm -f bin -o boot.bin boot.asm\nI escriurem el nou MBR al disc virtual:\ndd if=boot.bin of=disk.img bs=512 count=1 conv=notrunc\nFinalment, executem la imatge del disc amb QEMU per veure el nostre missatge de benvinguda i la c√†rrega del bootloader de segona etapa:\nqemu-system-x86_64 -drive file=disk.img,format=raw -nographic\nEnhorabona! Acabes de crear i executar un bootloader de primera etapa que carrega un bootloader de segona etapa des d‚Äôuna ubicaci√≥ espec√≠fica del disc."
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html",
    "href": "exercises/02-booting/03-ex-week2.html",
    "title": "Arrancada UEFI",
    "section": "",
    "text": "Entendre com funciona la UEFI i la partici√≥ ESP.\nConfigurar una m√†quina virtual amb dual boot.\nPracticar la gesti√≥ de l‚Äôordre d‚Äôarrencada i la creaci√≥ d‚Äôentrades UEFI.\n\nAl final, hauries de poder seleccionar entre AlmaLinux i Debian a l‚Äôinici de la m√†quina virtual."
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#objectiu",
    "href": "exercises/02-booting/03-ex-week2.html#objectiu",
    "title": "Arrancada UEFI",
    "section": "",
    "text": "Entendre com funciona la UEFI i la partici√≥ ESP.\nConfigurar una m√†quina virtual amb dual boot.\nPracticar la gesti√≥ de l‚Äôordre d‚Äôarrencada i la creaci√≥ d‚Äôentrades UEFI.\n\nAl final, hauries de poder seleccionar entre AlmaLinux i Debian a l‚Äôinici de la m√†quina virtual."
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#preparaci√≥-de-les-m√†quines-virtuals",
    "href": "exercises/02-booting/03-ex-week2.html#preparaci√≥-de-les-m√†quines-virtuals",
    "title": "Arrancada UEFI",
    "section": "Preparaci√≥ de les M√†quines Virtuals",
    "text": "Preparaci√≥ de les M√†quines Virtuals\nEn primer lloc, heu de crear dues m√†quines virtuals amb UEFI com a firmware.\n\n\n\nNom\nOS\nDisc\nFirmware\n\n\n\n\nVM1-AlmaLinux\nAlmaLinux 9\n20 GB\nUEFI\n\n\nVM2-Debian\nDebian 12\n20 GB\nUEFI\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nAssegureu-vos que ambdues m√†quines virtuals tinguin UEFI com a firmware. En el moment de fer les particions, heu de veure que es crea una partici√≥ ESP (EFI System Partition) autom√†ticament. Si no √©s aix√≠, pot ser que la m√†quina virtual no estigui configurada correctament per utilitzar UEFI. No continu√Øs fins que no tinguis aquesta partici√≥.\n\n\n\n\n\n\n\n\nAlertaAdvert√®ncia\n\n\n\nSi VMWare no us deixa seleccionar UEFI com a firmware, un cop creada la m√†quina virtual amb BIOS, heu de modificar el fitxer .vmx de la m√†quina virtual i afegir al final les l√≠nies seg√ºents:\nfirmware = \"efi\"\nefi.secureBoot.enabled = \"FALSE\"\nGuarda els canvis i inicia la m√†quina virtual de nou, i instal¬∑la el sistema operatiu."
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#migrar-el-disc-de-debian-a-la-m√†quina-virtual-dalmalinux",
    "href": "exercises/02-booting/03-ex-week2.html#migrar-el-disc-de-debian-a-la-m√†quina-virtual-dalmalinux",
    "title": "Arrancada UEFI",
    "section": "Migrar el disc de Debian a la m√†quina virtual d‚ÄôAlmaLinux",
    "text": "Migrar el disc de Debian a la m√†quina virtual d‚ÄôAlmaLinux\n\nApaga la m√†quina virtual de Debian si est√† en funcionament.\nLocalitza el fitxer de disc virtual de la m√†quina virtual de Debian. Aquest fitxer al programa VMware sol tenir l‚Äôextensi√≥ .vmdk.\nA la configuraci√≥ de la m√†quina virtual d‚ÄôAlmaLinux, aneu a l‚Äôopci√≥ de disc dur i afegiu un disc dur existent, seleccionant el disc dur de la m√†quina virtual de Debian que heu localitzat en el pas anterior.\nConfirmar els parametres i aplica els canvis.\n\n\nTest\nAssegureu-vos que la m√†quina virtual ara t√© dos discs durs: un amb AlmaLinux i un altre amb Debian utilitzant la comanda lsblk, hauria de mostrar-vos alguna cosa com aix√≤:\n[root@localhost ~]# lsblk\nNAME               MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS\nsr0                 11:0    1  1.7G  0 rom\nnvme0n1            259:0    0   20G  0 disk\n‚îú‚îÄnvme0n1p1        259:1    0  600M  0 part /boot/efi\n‚îú‚îÄnvme0n1p2        259:2    0    1G  0 part /boot\n‚îî‚îÄnvme0n1p3        259:3    0 18.4G  0 part\n‚îú‚îÄalmalinux-root 253:0    0 16.4G  0 lvm  /\n‚îî‚îÄalmalinux-swap 253:1    0    2G  0 lvm  [SWAP]\nnvme0n2            259:4    0   20G  0 disk\n‚îú‚îÄnvme0n2p1        259:5    0  512M  0 part\n‚îú‚îÄnvme0n2p2        259:6    0 18.5G  0 part\n‚îî‚îÄnvme0n2p3        259:7    0  976M  0 part\nOn nvme0n1 √©s el disc d‚ÄôAlmaLinux i nvme0n2 √©s el disc de Debian. Es posible que el nom del disc no sigui nvme, pot ser sda, vda, etc. Dep√®n del tipus de disc que tinguis."
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#tasca",
    "href": "exercises/02-booting/03-ex-week2.html#tasca",
    "title": "Arrancada UEFI",
    "section": "Tasca",
    "text": "Tasca\nReinicia la m√†quina virtual d‚ÄôAlmaLinux i entra a la UEFI (normalment prement F2 o Esc durant l‚Äôarrencada). La teva tasca es configurar la UEFI per afegir una entrada d‚Äôarrencada per a Debian. Has de poder arrancar tant AlmaLinux com Debian des del men√∫ d‚Äôarrencada de la UEFI.\n\nEl primer pas √©s identificar com podem arrancar Debian.\nAnalitzeu la comanda bcfg amb help bcfg per veure com funciona.\n\n\n\n\n\n\n\nImportantNota\n\n\n\nLa comanda bcfg es troba disponible a partir de la versi√≥ 2.3 de UEFI Shell. Si la vostra m√†quina virtual utilitza una versi√≥ anterior, √©s possible que no tingueu aquesta comanda disponible. En aquest cas, haureu d‚Äôactualitzar el firmware UEFI de la vostra m√†quina virtual o utilitzar una altra eina per gestionar les entrades d‚Äôarrencada com efibootmgr des de Linux.\n\n\nEn cas de no poder accedir a la shell o no tenir disponible la comanda bcfg encara que es compleixi el requisit de la versi√≥ de UEFI Shell &gt;= 2.3, cal arrencar des d‚Äôun fitxer EFI Shell V2 m√©s complet. Podeu descarregar-lo aqu√≠.\nPer poder arrencar aquest fitxer des de VMware, l‚Äôhem d‚Äôescriure amb el format correcte a una imatge vmdk:\n\nEl primer pas √©s crear una imatge de disc buida on despr√©s escriurem l‚Äôarbre de directoris adequat per EFI aix√≠ com el fitxer descarregat a arrencar.\ndd if=/dev/zero of=Shell.img bs=1M count=64\nAra utilitzem parted per crear una taula de particions GPT i una partici√≥ FAT32 marcada com a bootable.\nparted Shell.img --script mklabel gpt\nparted Shell.img --script mkpart ESP fat32 1MiB 100%\nparted Shell.img --script set 1 boot on\nPer poder treballar amb les particions dins del fitxer de disc, l‚Äôassociem a un dispositiu loop.\nsudo losetup -Pf Shell.img\nFormatem la partici√≥ EFI amb FAT32, obligatori per a UEFI:\nsudo mkfs.vfat -F32 /dev/loop0p1\nMuntem la partici√≥, creem l‚Äôarbre de directoris correcte i copiem el fitxer .efi amb el nom BOOTX64.EFI. Finalment, desmuntem la partici√≥ i desassociem el dispositiu loop.\nsudo mount /dev/loop0p1 /mnt\nsudo mkdir -p /mnt/EFI/BOOT\nsudo cp Shellx64.efi /mnt/EFI/BOOT/BOOTX64.EFI\nsudo umount /mnt\nsudo losetup -d /dev/loop0\nFinalment convertim la imatge RAW a VMDK perqu√® pugui ser utilitzada a VMware:\nqemu-img convert -f raw -O vmdk Shell.img Shell.vmdk\n\nPer usar aquest fitxer generat, afegiu un disc dur (Hard Disk) a la vostra m√†quina i obriu-lo.\n\n\n\n\n\n\nImportantNota\n\n\n\nEn cas de tenir un altre disc dur bootejable a la m√†quina virtual, per defecte no arrencar√† des del de UEFI Shell. Per poder executar-ho, heu d‚Äôentrar a la UEFI (normalment prement F2 o Esc durant l‚Äôarrencada) i seleccionar el disc dur corresponent a la UEFI Shell.\n\n\nSi per alguna ra√≥ no podeu executar les comandes per crear un disc dur amb l‚Äôimatge de UEFI Shell, el podeu descarregar des d‚Äôaqu√≠.\nA partir d‚Äôaquesta shell ja teniu disponible la comanda bcfg"
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#entrega",
    "href": "exercises/02-booting/03-ex-week2.html#entrega",
    "title": "Arrancada UEFI",
    "section": "Entrega",
    "text": "Entrega\nHas de presentar un document amb els seg√ºents punts:\n\nEls passos que has seguit per configurar la UEFI i afegir l‚Äôentrada d‚Äôarrencada per a Debian.\nFes una captura de pantalla del men√∫ d‚Äôarrencada de la UEFI mostrant les dues entrades (AlmaLinux i Debian) i puja-la a l‚Äôaula virtual juntament amb una breu descripci√≥ dels passos que has seguit per aconseguir-ho."
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html",
    "href": "exercises/03-fs/09-ex-week6.html",
    "title": "Administrant RAIDs",
    "section": "",
    "text": "Dos discs durs virtuals de 20 GB cadascun per la configuraci√≥ del RAID1.\nImatge iso basada en Alma Linux.\nUn software de virtualitzaci√≥ com VirtualBox, VMware, UTM o QEMU.\n\n\n\n\nConfigurar un RAID1 per la partici√≥ root (/) durant la instal¬∑laci√≥ d‚ÄôAlma Linux.\n\n\n\n\nInicieu la instal¬∑laci√≥ d‚ÄôAlma Linux fins a la pantalla de selecci√≥ de discs.\n\nSeleccioneu els dos discs virtuals i trieu l‚Äôopci√≥ Personalitzat.\n\nFeu clic a Fet.\n\nApareixer√† la finestra de particions manuals:\n\nLes particions creades seran:\n\n/boot/efi ‚Äì 600 MB\n\n/boot ‚Äì 1 GB\n\nswap ‚Äì 2 GB\n\n/ ‚Äì 16,4 GB\n\nPer configurar el RAID1, seleccioneu la partici√≥ / i feu clic a Editar.\n\n\nTrieu RAID1 com a tipus de dispositiu.\n\nFeu clic a Fet ‚Üí Acceptar canvis.\n\n\n\n\n\n\n\nUn cop finalitzada la instal¬∑laci√≥, el sistema es reiniciar√†.\n\nSi tot √©s correcte, Alma Linux arrencar√† sense problemes.\n\nObserveu que tenim dues particions / (una per disc).\n\n\n\n\n\n\n\nAlertaQu√® passa si el disc vda falla?\n\n\n\nEn cas de fallada del disc vda, el sistema no arrencar√† perqu√® la partici√≥ /boot no est√† replicada en RAID. Tenim replicada nom√©s la partici√≥ /. Per tant, si el disc vda falla, el sistema no podr√† accedir a la partici√≥ /boot i no podr√† arrencar."
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#installaci√≥-dun-raid1-a-alma-linux",
    "href": "exercises/03-fs/09-ex-week6.html#installaci√≥-dun-raid1-a-alma-linux",
    "title": "Administrant RAIDs",
    "section": "",
    "text": "Dos discs durs virtuals de 20 GB cadascun per la configuraci√≥ del RAID1.\nImatge iso basada en Alma Linux.\nUn software de virtualitzaci√≥ com VirtualBox, VMware, UTM o QEMU.\n\n\n\n\nConfigurar un RAID1 per la partici√≥ root (/) durant la instal¬∑laci√≥ d‚ÄôAlma Linux.\n\n\n\n\nInicieu la instal¬∑laci√≥ d‚ÄôAlma Linux fins a la pantalla de selecci√≥ de discs.\n\nSeleccioneu els dos discs virtuals i trieu l‚Äôopci√≥ Personalitzat.\n\nFeu clic a Fet.\n\nApareixer√† la finestra de particions manuals:\n\nLes particions creades seran:\n\n/boot/efi ‚Äì 600 MB\n\n/boot ‚Äì 1 GB\n\nswap ‚Äì 2 GB\n\n/ ‚Äì 16,4 GB\n\nPer configurar el RAID1, seleccioneu la partici√≥ / i feu clic a Editar.\n\n\nTrieu RAID1 com a tipus de dispositiu.\n\nFeu clic a Fet ‚Üí Acceptar canvis.\n\n\n\n\n\n\n\nUn cop finalitzada la instal¬∑laci√≥, el sistema es reiniciar√†.\n\nSi tot √©s correcte, Alma Linux arrencar√† sense problemes.\n\nObserveu que tenim dues particions / (una per disc).\n\n\n\n\n\n\n\nAlertaQu√® passa si el disc vda falla?\n\n\n\nEn cas de fallada del disc vda, el sistema no arrencar√† perqu√® la partici√≥ /boot no est√† replicada en RAID. Tenim replicada nom√©s la partici√≥ /. Per tant, si el disc vda falla, el sistema no podr√† accedir a la partici√≥ /boot i no podr√† arrencar."
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#migraci√≥-de-la-carpeta-home-a-un-raid5",
    "href": "exercises/03-fs/09-ex-week6.html#migraci√≥-de-la-carpeta-home-a-un-raid5",
    "title": "Administrant RAIDs",
    "section": "Migraci√≥ de la carpeta /home a un RAID5",
    "text": "Migraci√≥ de la carpeta /home a un RAID5\n\nüß∞ Requisits\nEn la m√†quina virtual anterior, podem afegir quatre discs durs virtuals de 1 GB cadascun (vdc, vdd, vde, vdf).\n\n\nüéØ Objectiu\nMigrar el contingut de la carpeta /home a un dispositiu RAID5 format per quatre discs virtuals.\n\n\nü™õ Procediment\n\nCreem el RAID5 amb la comanda seg√ºent:\nmdadm --create --verbose /dev/md0 --level=5 --raid-devices=4 /dev/vd[c-f]\nComprovem que el RAID s‚Äôha creat correctament amb la comanda:\ncat /proc/mdstat\nCreem un sistema de fitxers XFS en el dispositiu RAID5:\nmkfs.xfs /dev/md0\nMuntarem el dispositiu RAID5 en un directori temporal:\nmkdir /mnt/raid\nmount /dev/md0 /mnt/raid\nCopiem el contingut de la carpeta /home al dispositiu RAID5:\ncp -r /home/* /mnt/raid\nDesmuntem el dispositiu RAID5 del directori temporal:\numount /mnt/raid\nMuntarem el dispositiu RAID5 en la carpeta /home:\nmount /dev/md0 /home\nObtenim el UUID del dispositiu RAID5 amb la comanda:\nblkid /dev/md0\nFem una c√≤pia de seguretat del fitxer /etc/fstab:\n```bash\nPer fer que el muntatge sigui permanent, afegim la seg√ºent l√≠nia al fitxer /etc/fstab:\nUUID=&lt;UUID&gt;  /home  xfs  defaults  0 0\n\n\n\n‚úÖ Resultat final\n\nEl contingut de la carpeta /home s‚Äôha migrat correctament al dispositiu RAID5.\n\nEl sistema utilitza ara el RAID5 per emmagatzemar les dades dels usuaris"
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#simulaci√≥-de-fallades-en-el-raid5",
    "href": "exercises/03-fs/09-ex-week6.html#simulaci√≥-de-fallades-en-el-raid5",
    "title": "Administrant RAIDs",
    "section": "Simulaci√≥ de fallades en el RAID5",
    "text": "Simulaci√≥ de fallades en el RAID5\nAra simularem una fallada en un dels discs durs virtuals del RAID5. I observarem com el sistema continua funcionant sense problemes.\n\nCrearem un usuari de prova i un fitxer de text a la seva carpeta /home:\nuseradd test\necho \"Hola m√≥n\" &gt; /home/test/hola.txt\nchown -R test:test /home/test\nSimulem la fallada d‚Äôun disc dur virtual del RAID5:\nmdadm --manage /dev/md127 --fail /dev/vdc\nComprovem que podem accedir al fitxer de text creat anteriorment:\ncat /home/test/hola.txt\nAra intentarem simular la fallada d‚Äôun segon disc dur virtual del RAID5:\nmdadm --manage /dev/md127 --fail /dev/vdd\nComprovem que el sistema ens avisa que no es pot fallar un segon disc perqu√® el RAID5 nom√©s tolera la fallada d‚Äôun disc:\nmdadm: Cannot remove /dev/vdd from /dev/md0,\n       array will be failed."
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#exercicis",
    "href": "exercises/03-fs/09-ex-week6.html#exercicis",
    "title": "Administrant RAIDs",
    "section": "Exercicis",
    "text": "Exercicis\nEs demana instal¬∑lar un sistema AlmaLinux de forma tradicional sense RAID en un disc virtual de 20‚ÄØGB (vda), creant les quatre particions habituals: /boot/efi, /boot, swap i /.\nUn cop finalitzada la instal¬∑laci√≥:\n\nAfegiu dos discs durs virtuals addicionals de 20‚ÄØGB cadascun (vdb i vdc).\nMigrar les particions existents a RAID1 de la seg√ºent manera:\n\n/boot/efi ‚Üí RAID1 amb vdb1 i vdc1.\n/boot ‚Üí RAID1 amb vdb2 i vdc2.\nswap ‚Üí RAID1 amb vdb3 i vdc3.\n/ ‚Üí RAID1 amb vdb4 i vdc4.\n\nConfigureu el sistema perqu√® arranqui correctament des dels discs vdb i vdc.\nUn cop comprovat el correcte funcionament, elimineu el disc original vda.\nVerificar que el sistema arranca correctament despr√©s de la migraci√≥.\nConfirmar que totes les particions es troben en RAID1.\nDocumentar tot el proc√©s amb captures de pantalla, explicacions detallades i justificacions t√®cniques en un informe final."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html",
    "title": "Configuraci√≥ d‚Äôentorn de virtualitzaci√≥",
    "section": "",
    "text": "Aquest exercici t√© com a objectiu recordar i consolidar les habilitats en la configuraci√≥ d‚Äôentorns de virtualitzaci√≥ utilitzant m√†quines virtuals (MV). Durant el curs, la creaci√≥ i destrucci√≥ de MV ser√† una tasca recurrent, per la qual cosa √©s fonamental tenir una base s√≤lida. Preparant una plantilla preinstal¬∑lada, podreu estalviar temps significatiu evitant la reinstal¬∑laci√≥ completa del sistema operatiu cada cop que necessiteu un nou entorn de treball."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#requeriments-previs",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#requeriments-previs",
    "title": "Configuraci√≥ d‚Äôentorn de virtualitzaci√≥",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nDisposar d‚Äôun hipervisor de virtualitzaci√≥ instal¬∑lat a la vostra m√†quina hoste. Es recomana utilitzar VMware Workstation Pro o VMware Fusion. Podeu reutilitzar la instal¬∑laci√≥ que ja vau fer a l‚Äôassignatura de Sistemes Operatius."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#objectius",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#objectius",
    "title": "Configuraci√≥ d‚Äôentorn de virtualitzaci√≥",
    "section": "Objectius",
    "text": "Objectius\n\nCrear i configurar m√†quines virtuals amb distribucions Linux.\nUtilitzar snapshots per gestionar l‚Äôestat de les MV.\nConfigurar i establir una connexi√≥ remota segura a les MV utilitzant SSH."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#tasques",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#tasques",
    "title": "Configuraci√≥ d‚Äôentorn de virtualitzaci√≥",
    "section": "Tasques",
    "text": "Tasques\n\nCreaci√≥ de m√†quines virtuals\nCreareu dues m√†quines virtuals amb les distribucions Linux que farem servir durant el curs. Assegureu-vos de descarregar les imatges ISO correctament:\n\nAlmaLinux: Una distribuci√≥ de GNU/Linux basada en Red Hat Enterprise Linux (RHEL).Descarregueu la versi√≥ 9.6.\nDebian: Una distribuci√≥ popular coneguda per la seva estabilitat. Descarregueu la versi√≥ 12.5.0.\n\nEn la configuraci√≥ no necessitareu finestres gr√†fiques, i de moment podeu utilitzar una configuraci√≥ de disc i particions est√†ndard. M√©s endavant, durant el curs, anirem ajustant la configuraci√≥ segons les necessitats espec√≠fiques de cada pr√†ctica.\n\n\nCreaci√≥ de snapshots\nUn cop instal¬∑lades les dues m√†quines virtuals, creeu una snapshot de cadascuna. Una snapshot √©s una instant√†nia de l‚Äôestat actual de la m√†quina virtual, incloent-hi la seva mem√≤ria, configuraci√≥ i l‚Äôestat dels seus discos virtuals. Aquesta eina us permetr√† tornar r√†pidament a un estat inicial net en qualsevol moment, evitant haver de reinstal¬∑lar el sistema si alguna configuraci√≥ falla.\n\n\nConfiguraci√≥ d‚Äôacc√©s remot amb SSH\nPer facilitar la connexi√≥ i gesti√≥ de les m√†quines virtuals, configurarem l‚Äôacc√©s remot mitjan√ßant SSH (Secure Shell). Aix√≤ us permetr√† connectar-vos a les MV des de la vostra m√†quina hoste utilitzant una terminal o PowerShell amb suport SSH (Linux o MacOS).\nssh user@vm_ip_address\n\n\n√ös de la snapshot\nUn cop h√†giu completat la configuraci√≥ inicial i les proves amb les m√†quines virtuals, practiqueu l‚Äô√∫s de les snapshots:\n\nInstal¬∑leu algun programari a la MV amb debian com les eines de desenvolupament (gcc, make, etc).\n\n# Recordeu instal¬∑lar com a root\napt install build-essential\n\nComproveu que el programari est√† instal¬∑lat correctament.\n\ngcc --version\n\nDespr√©s, torneu a la snapshot creada anteriorment per veure que el programari ja no est√† instal¬∑lat."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#activitat-proposada",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#activitat-proposada",
    "title": "Configuraci√≥ d‚Äôentorn de virtualitzaci√≥",
    "section": "Activitat proposada",
    "text": "Activitat proposada\n\nEscriu un script senzill que et permeti obrir la MV i connectar-te via SSH amb un sol comandament. Aquest script hauria de:\n\nIniciar la m√†quina virtual si no est√† en funcionament.\nEsperar fins que la MV estigui completament engegada.\nConnectar-se a la MV mitjan√ßant SSH."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#benvinguda",
    "href": "slides/01-foundations-of-systems-administration.html#benvinguda",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Benvinguda",
    "text": "Benvinguda\n\n\n\n\n\n\n\n\n\n\n\nAdministraci√≥ i Manteniment de Sistemes i Aplicacions (AMSA)\n\n\n1r Semestre, 3r Curs del Grau en Enginyeria Inform√†tica. Impartida per Jordi Mateo, professor del Departament d‚ÄôEnginyeria Inform√†tica i Disseny Digital (DEIDD).\n\n\n\n\n\n\n\n\n\n(Font: Extret de Neowin)\n\n\n\n\nBenvinguts al curs 25/26 de Administraci√≥ i Manteniment de Sistemes i Aplicacions. Aquesta assignatura pret√©n introduir-vos en el m√≥n de l‚Äôadministraci√≥ de sistemes i aplicacions, aix√≠ com en la seva gesti√≥ i manteniment.\nAquesta vinyeta, amb un toc d‚Äôhumor, il¬∑lustra la dedicaci√≥ d‚Äôun administrador de sistemes. Malgrat el caos i els reptes, la seva prioritat √©s assegurar que els sistemes funcionin correctament i estiguin sempre disponibles. Independentment del que passi fora de la sala de servidors. La seva feina consisteix a mantenir la infraestructura, prevenir problemes i resoldre‚Äôls r√†pidament per garantir la continu√Øtat dels serveis."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-ladministraci√≥-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-ladministraci√≥-de-sistemes",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s l‚ÄôAdministraci√≥ de Sistemes?",
    "text": "Qu√® √©s l‚ÄôAdministraci√≥ de Sistemes?\n\n\n\n\nPer comen√ßar, m‚Äôagradaria con√®ixer la vostra opini√≥ sobre qu√® √©s l‚ÄôAdministraci√≥ de Sistemes. Per fer-ho, crearem un n√∫vol de paraules amb les vostres respostes, al final de curs analitzarem les respostes i veurem si la vostra opini√≥ ha canviat. Enlla√ß al wordcloud"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-ladministraci√≥-de-sistemes-1",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-ladministraci√≥-de-sistemes-1",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s l‚ÄôAdministraci√≥ de Sistemes?",
    "text": "Qu√® √©s l‚ÄôAdministraci√≥ de Sistemes?\n\n\n\n\nL‚Äôadministraci√≥ de sistemes √©s la disciplina t√®cnica que implica la configuraci√≥, la gesti√≥, la supervisi√≥ i el manteniment continu d‚Äôinfraestructures inform√†tiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.), per garantir la seva disponibilitat, rendiment, seguretat i funcionalitat, amb l‚Äôobjectiu de satisfer les necessitats operacionals i estrat√®giques de l‚Äôorganitzaci√≥.\n\n\nSi preguntem a ChatGPT que ens defineixi formalment qu√® √©s l‚ÄôAdministraci√≥ de Sistemes, ens dir√† que √©s la disciplina t√®cnica que implica la configuraci√≥, la gesti√≥, la supervisi√≥ i el manteniment continu d‚Äôinfraestructures inform√†tiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.), per garantir la seva disponibilitat, rendiment, seguretat i funcionalitat, amb l‚Äôobjectiu de satisfer les necessitats operacionals i estrat√®giques de l‚Äôorganitzaci√≥."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-administrador",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-administrador",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un administrador?",
    "text": "Qu√® √©s un administrador?\n\n\n\n\nUn administrador √©s una persona que t√© cura, gestiona o dirigeix els b√©ns o els interessos d‚Äôuna altra persona o entitat. En aquest cas, configurar, gestionar, supervisar i mantenir sistemes informatics.\n\n\nFixeu-vos en els elements clau de la definici√≥:\nSegons la RAE, un administrador √©s una persona que t√© cura, gestiona o dirigeix els b√©ns o els interessos d‚Äôuna altra persona o entitat. En aquest cas, configurar, gestionar, supervisar i mantenir sistemes informatics. Aix√≤ implica que la primera part de la definici√≥ de ChatGPT est√† en l√≠nia amb la definici√≥ de l‚Äôadministrador."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-sistema",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-sistema",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un sistema?",
    "text": "Qu√® √©s un sistema?\n\n\n\n\nUn sistema √©s un conjunt d‚Äôelements interconnectats que treballen junts per aconseguir un objectiu com√∫. El Sistema Inform√†tic est√† format per hardware, programari, dades, xarxes, persones, etc., que treballen junts per processar informaci√≥.\n\n\nSegons la RAE, un sistema √©s un conjunt d‚Äôelements interconnectats que treballen junts per aconseguir un objectiu com√∫. El Sistema Inform√†tic est√† format per hardware, programari, dades, xarxes, persones, etc., que treballen junts per processar informaci√≥. Aix√≤ implica que la segona part de la definici√≥ de ChatGPT necessita ser m√©s espec√≠fica per reflectir la complexitat i diversitat dels sistemes inform√†tics i no √∫nicament la infraestructura."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#quines-s√≥n-les-m√©triques-a-garantir",
    "href": "slides/01-foundations-of-systems-administration.html#quines-s√≥n-les-m√©triques-a-garantir",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Quines s√≥n les m√©triques a garantir?",
    "text": "Quines s√≥n les m√©triques a garantir?\n\nDisponibilitat: Capacitat d‚Äôun sistema per estar operatiu i accessible als usuaris en tot moment.\nRendiment: Mesura de l‚Äôefici√®ncia amb qu√® un sistema utilitza els recursos disponibles per executar tasques.\nSeguretat: Capacitat d‚Äôun sistema per protegir les dades i recursos contra accessos no autoritzats, atacs i p√®rdues.\nFuncionalitat: Conjunt de caracter√≠stiques i capacitats que un sistema ofereix per complir amb els requisits operatius i les necessitats dels usuaris.\n\n\nA qu√® ens referim quan diem garantir unes m√®triques com la disponibilitat, el rendiment, la seguretat i la funcionalitat d‚Äôun sistema?\n\nDisponibilitat: La disponibilitat d‚Äôun sistema es refereix a la capacitat d‚Äôaquest de romandre operatiu i accessible als usuaris en tot moment, minimitzant el temps d‚Äôinactivitat. Aix√≤ implica assegurar que el sistema estigui disponible per a l‚Äô√∫s en qualsevol moment, evitant interrupcions i fallades.\nRendiment: El rendiment d‚Äôun sistema es refereix a la mesura de l‚Äôefici√®ncia amb qu√® aquest utilitza els recursos disponibles per executar tasques de manera r√†pida i efectiva. Aix√≤ implica garantir que el sistema pugui processar dades i executar tasques de manera eficient, sense retards ni interrupcions.\nSeguretat: La seguretat d‚Äôun sistema es refereix a la capacitat d‚Äôaquest de protegir les dades i recursos contra accessos no autoritzats, atacs i p√®rdues. Aix√≤ implica implementar mesures de seguretat, com xifrat, autenticaci√≥, control d‚Äôacc√©s i monitoritzaci√≥, per protegir la informaci√≥ i els recursos del sistema.\nFuncionalitat: La funcionalitat d‚Äôun sistema es refereix al conjunt de caracter√≠stiques i capacitats que aquest ofereix per complir amb els requisits operatius i les necessitats dels usuaris. Aix√≤ implica garantir que el sistema pugui realitzar les tasques i funcions requerides, oferint una experi√®ncia d‚Äôusuari satisfact√≤ria i complint amb les expectatives dels usuaris."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#quines-s√≥n-les-necessitats-a-satisfer",
    "href": "slides/01-foundations-of-systems-administration.html#quines-s√≥n-les-necessitats-a-satisfer",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Quines s√≥n les necessitats a satisfer?",
    "text": "Quines s√≥n les necessitats a satisfer?\n\nNecessitats Operacionals: Requisits i objectius relacionats amb l‚Äôexecuci√≥ di√†ria i el funcionament eficient dels sistemes, com ara la disponibilitat, el rendiment i la seguretat.\nNecessitats Estrat√®giques: Objectius i metes a llarg termini de l‚Äôorganitzaci√≥, com ara la innovaci√≥, la competitivitat i l‚Äôadaptabilitat o la escalabilitat dels sistemes.\n\n\nFinalment, la definici√≥ de ChatGPT tamb√© fa refer√®ncia a les necessitats operacionals i estrat√®giques de l‚Äôorganitzaci√≥. Aix√≤ implica que l‚Äôadministraci√≥ de sistemes no nom√©s es centra en garantir el funcionament i la seguretat dels sistemes, sin√≥ que tamb√© t√© en compte els objectius i les metes de l‚Äôorganitzaci√≥ en conjunt. Aix√≤ significa que els administradors de sistemes han de tenir en compte les necessitats operacionals i estrat√®giques de l‚Äôorganitzaci√≥ per garantir que els sistemes compleixin amb els requisits i expectatives de l‚Äôempresa."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#millorant-la-definici√≥-feta-per-chatgpt",
    "href": "slides/01-foundations-of-systems-administration.html#millorant-la-definici√≥-feta-per-chatgpt",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Millorant la definici√≥ feta per ChatGPT",
    "text": "Millorant la definici√≥ feta per ChatGPT\nL‚Äôadministraci√≥ de sistemes √©s la disciplina t√®cnica que implica la configuraci√≥, gesti√≥, supervisi√≥ i manteniment continu d‚Äôinfraestructures inform√†tiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.)\naix√≠ com la coordinaci√≥ de les persones usu√†ries, pol√≠tiques, procediments i dades associades\nper garantir la disponibilitat, rendiment, seguretat i funcionalitat del sistema, amb l‚Äôobjectiu de satisfer les necessitats operacionals i estrat√®giques de l‚Äôorganitzaci√≥ en conjunt.\n\nLa definici√≥ de ChatGPT no √©s incorrecta, per√≤ √©s una mica limitada. Un sistema no nom√©s est√† format per infraestructures (hardware, programari, xarxes, etc.), sin√≥ que tamb√© inclou altres elements com les persones, les pol√≠tiques, els procediments, les dades que estan relacionades amb les necessitats operacionals i estrat√®giques. Per tant, la definici√≥ millorada inclou aquests elements per proporcionar una visi√≥ m√©s completa de l‚Äôadministraci√≥ de sistemes."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#analogia-amb-matrix",
    "href": "slides/01-foundations-of-systems-administration.html#analogia-amb-matrix",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Analogia amb Matrix",
    "text": "Analogia amb Matrix\n\nQuants de vosaltres heu vist la pel¬∑l√≠cula Matrix? Qu√® t√© a veure amb l‚ÄôAdministraci√≥ de Sistemes?\n\n\n\n\n\nIntroducci√≥ a System Administration - CBT Nuggets (0:32 fins a 2:16)\n\n\n\n\nL‚Äôautor del clip fa una analogia entre l‚Äôadministraci√≥ de sistemes i la pel¬∑l√≠cula Matrix. En aquesta pel¬∑l√≠cula, els personatges principals s√≥n capa√ßos de controlar i manipular el m√≥n virtual de Matrix, canviant la realitat a voluntat. Aquesta analogia reflecteix la capacitat dels administradors de sistemes per controlar i gestionar els sistemes inform√†tics, configurant-los, supervisant-los i mantenint-los per garantir el seu funcionament i seguretat. Compara matrix amb un super administrador de sistemes que controla tots els aspectes i us permet menjar dos pastilles per canviar la realitat (una de blava i una de vermella). Una us permet ser administrador de sistemes i l‚Äôaltra us permet ser usuari de sistemes. Aquesta analogia √©s una manera divertida de visualitzar el paper dels administradors de sistemes i la seva capacitat per controlar i gestionar els sistemes inform√†tics."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#evoluci√≥",
    "href": "slides/01-foundations-of-systems-administration.html#evoluci√≥",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Evoluci√≥",
    "text": "Evoluci√≥\n\n\n\n\n\nsequenceDiagram\n    participant Maquinari\n    participant Virtualitzaci√≥\n    participant Contenidors\n    participant DevOps\n    participant IaC as Infraestructura com a Codi\n    participant FaaS as Funcions com a Servei\n\n    rect rgb(255, 255, 204)\n        Note over Maquinari: 1. Configuraci√≥ Tradicional\n        Maquinari-&gt;&gt;Maquinari: L'administrador es centra en el hardware\n    end\n\n    rect rgb(204, 255, 204)\n        Note over Maquinari,Virtualitzaci√≥: 2. Virtualitzaci√≥\n        Maquinari-&gt;&gt;Virtualitzaci√≥: A√Øllament de S.O.\n    end\n\n    rect rgb(204, 255, 255)\n        Note over Maquinari,DevOps: 3. Contenidors i DevOps\n        Virtualitzaci√≥-&gt;&gt;Contenidors: A√Øllament d'aplicacions\n        Contenidors-&gt;&gt;DevOps: Faciliten el desplegament continu\n    end\n\n    rect rgb(255, 204, 255)\n        Note over Maquinari,IaC: 4. Infraestructura com a Codi (IaC)\n        DevOps-&gt;&gt;IaC: Automatitzaci√≥ total de la infraestructura\n    end\n\n    rect rgb(255, 204, 204)\n        Note over Maquinari,FaaS: 5. Funcions com a Servei (FaaS)\n        IaC-&gt;&gt;FaaS: Abstracci√≥ completa de la plataforma\n    end\n\n\n\n\n\n\n\nFa una d√®cada, el m√≥n del software i el hardware era molt diferent del que coneixem avui en dia. Els servidors eren f√≠sics, les aplicacions s‚Äôexecutaven en un √∫nic servidor i la infraestructura era est√†tica i dif√≠cil de modificar. Els administradors de sistemes treballaven en un entorn dominat pel hardware i els cables, dedicant moltes hores a configurar i mantenir els servidors. Al mateix temps, els desenvolupadors de software operaven en un univers separat, on les aplicacions s‚Äôexecutaven en servidors f√≠sics i tenien poc control sobre la infraestructura. Aquesta separaci√≥ va generar una divisi√≥ notable entre els dos grups, amb escassa comunicaci√≥ i col¬∑laboraci√≥.\nLa situaci√≥ va canviar radicalment amb l‚Äôarribada de la virtualitzaci√≥. Aquesta tecnologia va permetre als administradors de sistemes crear m√†quines virtuals i clons de servidors, simplificant enormement la gesti√≥ i configuraci√≥ de la infraestructura. La virtualitzaci√≥ va marcar un punt d‚Äôinflexi√≥, transformant la manera de gestionar els sistemes i permetent als desenvolupadors provar i desplegar aplicacions en entorns a√Øllats, millorant aix√≠ la qualitat i fiabilitat del software i apropant els dos grups.\nL‚Äôaparici√≥ dels contenidors va suposar un altre gran avan√ß en l‚Äôadministraci√≥ de sistemes. Aquesta tecnologia va permetre als desenvolupadors empaquetar aplicacions i les seves depend√®ncies en contenidors lleugers i port√†tils, que podien ser executats en qualsevol entorn. Aix√≤ va impulsar el concepte de DEVOPS, facilitant la col¬∑laboraci√≥ entre els equips de desenvolupament i operacions per automatitzar i millorar els processos de desplegament, monitoritzaci√≥ i gesti√≥ de la infraestructura.\nDEVOPS va emergir com a resposta a aquest canvi, promovent la col¬∑laboraci√≥, comunicaci√≥ i integraci√≥ entre els equips de desenvolupament i operacions, amb l‚Äôobjectiu de millorar la qualitat del software i accelerar el desplegament d‚Äôaplicacions. Aquesta metodologia va permetre als equips treballar conjuntament per automatitzar i perfeccionar els processos relacionats amb la infraestructura.\nLa pr√†ctica de Infrastructure as Code (IAC) va completar aquest proc√©s, permetent gestionar la infraestructura de manera program√†tica mitjan√ßant codi. Aix√≤ va permetre als equips de desenvolupament i operacions tractar la infraestructura com a codi, aplicant les mateixes pr√†ctiques de desenvolupament de software en la seva gesti√≥. Com a resultat, la col¬∑laboraci√≥, integraci√≥ i automatitzaci√≥ dels processos van millorar, augmentant la fiabilitat i escalabilitat de la infraestructura.\nFinalment, amb l‚Äôaparici√≥ dels conceptes serverless i Function as a Service (FAAS), la diferenciaci√≥ entre desenvolupament i operacions va desapar√®ixer completament. Aquest nou model (actual) permet als desenvolupadors executar funcions de manera a√Øllada i eficient, sense preocupar-se de la infraestructura subjacent. Aquesta nova forma de treballar ha millorat la productivitat i flexibilitat dels equips de desenvolupament, facilitant el desenvolupament i desplegament d‚Äôaplicacions en entorns din√†mics i escalables. Els administradors de sistemes han evolucionat de t√®cnics centrats en la infraestructura a enginyers de sistemes i aplicacions, amb un enfocament m√©s ampli i integrat en el desenvolupament de software."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#sortides-professionals",
    "href": "slides/01-foundations-of-systems-administration.html#sortides-professionals",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Sortides Professionals",
    "text": "Sortides Professionals\n\n\nL‚Äôadministraci√≥ de sistemes √©s una disciplina √†mplia i diversa, que no segueix una √∫nica via d‚Äôaprenentatge. Aquesta professi√≥ inclou una gran varietat de rols i especialitzacions, per√≤ no compta amb un itinerari professional clarament establert, fet que dificulta l‚Äôensenyament de tots els seus aspectes en una sola assignatura. Si observeu el pla d‚Äôestudis del Grau en Enginyeria Inform√†tica, veureu que inclou assignatures orientades a la programaci√≥, amb sortides professionals com a desenvolupadors de software en diferents √†mbits. Alhora, tamb√© ofereix formaci√≥ en computaci√≥ (xarxes, sistemes operatius, bases de dades), amb possibilitats laborals com a enginyer de xarxes o administrador de bases de dades.\nTradicionalment, l‚Äôadministraci√≥ de sistemes ha estat vinculada a les operacions, amb sortides professionals com a t√®cnic de suport o t√®cnic de centre de dades, sovint allunyades dels perfils d‚Äôun enginyer inform√†tic. No obstant aix√≤, avui en dia, l‚Äôadministraci√≥ de sistemes ha evolucionat significativament, donant lloc a perfils m√©s avan√ßats i t√®cnics com DevOps, SRE (Site Reliability Engineer), i Cloud Engineer, que ofereixen oportunitats laborals molt m√©s atractives i alineades amb les necessitats del mercat actual.\nAquesta assignatura t√© com a objectiu introduir-vos al m√≥n de l‚Äôadministraci√≥ de sistemes i aplicacions, aix√≠ com a la seva gesti√≥ i manteniment. Ho farem amb una visi√≥ actualitzada, orientada cap a les sortides professionals m√©s demandades en el mercat laboral, preparant-vos per a perfils amb m√©s responsabilitat i especialitzaci√≥ dins del camp de les tecnologies de la informaci√≥."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#objectius-del-curs",
    "href": "slides/01-foundations-of-systems-administration.html#objectius-del-curs",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Objectius del curs",
    "text": "Objectius del curs\n\nIntroduir-vos en el m√≥n de l‚Äôadministraci√≥ de sistemes i aplicacions, aix√≠ com en la seva gesti√≥ i manteniment.\nRepasar llenguatges de programaci√≥ i scripting per a l‚Äôautomatitzaci√≥ de tasques. Bash, AWK, YAML, que ens permetran utilitzar eines com Ansible, AWS CloudFormation, Docker, Kubernetes, etc.\nApendre a gestionar, configurar i monitoritzar servidors en entorns f√≠sics i virtuals.\nIntroduir-vos en el m√≥n del Cloud Computing i les seves principals plataformes (AWS, Azure, Google Cloud).\nDesplegar serveis Web, Bases de Dades, Aplicacions i Infraestructures en diferents entorns."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#metodologia",
    "href": "slides/01-foundations-of-systems-administration.html#metodologia",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Metodologia",
    "text": "Metodologia\n\nTeoria: En aquestes sessions, es presentaran els continguts te√≤rics de l‚Äôassignatura, que es complementaran amb exemples il¬∑lustratius. Com a material de suport, s‚Äôutilitzaran les diapositives de l‚Äôassignatura.\nPr√†ctiques: Aquestes sessions es basen en una metodologia activa i asincr√≤nica que permet a cada estudiant o grup avan√ßar al seu ritme. El contingut √©s autosuficient, i la funci√≥ del professor √©s fomentar el debat i ajudar a resoldre dubtes.\nTreball aut√≤nom: Aquesta part del curs implica la finalitzaci√≥ dels laboratoris i l‚Äôelaboraci√≥ d‚Äôinformes a partir dels reptes proposats. Tamb√© inclou la lectura i visualitzaci√≥ de documentaci√≥ t√®cnica; aix√≠ com la realitzaci√≥ d‚Äôactivitats al cloud AWS."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#planificaci√≥-part-i",
    "href": "slides/01-foundations-of-systems-administration.html#planificaci√≥-part-i",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Planificaci√≥ Part I",
    "text": "Planificaci√≥ Part I\n\n\n\n\n\n\n\n\nSet.\nDilluns\nDimecres\n\n\n\n\n1a\n-\nU1: Fonaments de l‚ÄôAdministraci√≥\n\n\n2a\nU2: Proc√©s d‚ÄôArrencada i Inicialitzaci√≥ del Sistema\nU2: Proc√©s d‚ÄôArrencada i Inicialitzaci√≥\n\n\n3a\nU2: Proc√©s d‚ÄôArrencada i Inicialitzaci√≥ del Sistema\nU2: Proc√©s d‚ÄôArrencada i Inicialitzaci√≥\n\n\n4a\nU3: Sis. de Fitxers i Emmagatzematge\nU3: Sis. de Fitxers i Emmagatzematge\n\n\n5a\nU3: Sis. de Fitxers i Emmagatzematge\nU3: Sis. de Fitxers i Emmagatzematge\n\n\n6a\nU3: Sis. de Fitxers i Emmagatzematge\nU4: Autenticaci√≥ i Autoritzaci√≥\n\n\n7a\nU4: Autenticaci√≥ i Autoritzaci√≥\nU4: Autenticaci√≥ i Autoritzaci√≥\n\n\n8a\nWorkshop\nWorkshop\n\n\n9a\nPARCIALS"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#planificaci√≥-part-ii",
    "href": "slides/01-foundations-of-systems-administration.html#planificaci√≥-part-ii",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Planificaci√≥ Part II",
    "text": "Planificaci√≥ Part II\n\n\n\nSet.\nDilluns\nDimecres\n\n\n\n\n10a\nU5: Virtualitzaci√≥\nU5: Virtualitzaci√≥\n\n\n11a\nU5: Virtualitzaci√≥\nU5: Virtualitzaci√≥\n\n\n12a\nU6: Computaci√≥ en el N√∫vol\nU6: Computaci√≥ en el N√∫vol\n\n\n13a\nU6: Computaci√≥ en el N√∫vol\nU6: Computaci√≥ en el N√∫vol\n\n\n14a\n-\nU7: Orquestraci√≥ i CI/CD\n\n\n15a\nWorkshop\nWorkshop\n\n\n16a\nPARCIALS\n\n\n\n17a\n\n\n\n\n18a\n\n\n\n\n19a\nRECUPERACIONS"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#criteris-davaluaci√≥",
    "href": "slides/01-foundations-of-systems-administration.html#criteris-davaluaci√≥",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Criteris d‚ÄôAvaluaci√≥",
    "text": "Criteris d‚ÄôAvaluaci√≥\n\n\n\n\n\n\n\n\n\n\nActivitat\nPes\nRecuperable?\nNota M√≠nima?\nGrup?\n\n\n\n\nExamen 1\n35%\nS√≠\nNo\nNo\n\n\nExamen 2\n35%\nS√≠\nNo\nNo\n\n\nLaboratori\n20%\nNo\nS√≠\nS√≠\n\n\nActivitats Async\n5%\nNo\nNo\nNo\n\n\nSeguiment i participaci√≥\n5%\nNo\nNo\nNo"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#ex√†mens",
    "href": "slides/01-foundations-of-systems-administration.html#ex√†mens",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Ex√†mens",
    "text": "Ex√†mens\nEls ex√†mens parcials (E1 i E2) s√≥n proves escrites que avaluen els coneixements te√≤rics i pr√†ctics adquirits durant el curs.\n\nS√≥n proves individuals i presencials.\nEs realitzaran en les dates establertes al calendari acad√®mic.\nNo es permet l‚Äô√∫s de cap dispositiu electr√≤nic (tel√®fons m√≤bils, ordinadors port√†tils o tauletes).\nSi es permet l‚Äô√∫s d‚Äôun resum de continguts, que ha de ser un document escrit a m√† i no pot excedir una fulla DIN A4 (per davant i per darrere)."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#recuperaci√≥",
    "href": "slides/01-foundations-of-systems-administration.html#recuperaci√≥",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Recuperaci√≥",
    "text": "Recuperaci√≥\n\nEls parcials s√≥n recuperables mitjan√ßant proves escrites addicionals que es realitzaran durant la setmana de recuperaci√≥.\nSi un estudiant necessita recuperar un √∫nic parcial (E1 o E2), podr√† fer una prova espec√≠fica per a aquest parcial. La qualificaci√≥ obtinguda en aquesta recuperaci√≥ substituir√† la nota del parcial corresponent.\nSi un estudiant necessita recuperar ambd√≥s parcials, haur√† de realitzar dues proves separades, una per a cada parcial (E1 i E2). Les qualificacions obtingudes en cadascuna d‚Äôaquestes proves de recuperaci√≥ substituiran les notes originals dels parcials respectius.\n√âs important notar que no hi haur√† un model d‚Äôexamen unificat per a la recuperaci√≥; cada prova de recuperaci√≥ se centrar√† exclusivament en els continguts del parcial al qual correspon."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#pr√†ctiques",
    "href": "slides/01-foundations-of-systems-administration.html#pr√†ctiques",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Pr√†ctiques",
    "text": "Pr√†ctiques\n\nLes pr√†ctiques de l‚Äôassignatura impliquen treball fora de l‚Äôaula i s‚Äôhan de lliurar de forma estricta en les dates establertes.\nLa seva avaluaci√≥ es far√† mitjan√ßant r√∫briques de correcci√≥, que estaran disponibles per als estudiants amb antelaci√≥.\nEl professorat pot entrevistar els estudiants per verificar l‚Äôautoria. Si es detecta que una activitat no ha estat realitzada per l‚Äôestudiant la seva qualificaci√≥ ser√† 0.\nQualsevol entrega fora del termini establert es considerar√† no v√†lida i es qualificar√† amb un 0.\nCadascuna pot tenir una ponderaci√≥ espec√≠fica indicada a la descripci√≥ de l‚Äôactivitat.\nAquestes pr√†ctiques no s√≥n recuperables.\nTot i ser activitats en grup, cada estudiant pot obtenir una nota diferent en funci√≥ de la seva participaci√≥ i aportacions individuals al grup."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#activitats-as√≠ncrones-a-aws",
    "href": "slides/01-foundations-of-systems-administration.html#activitats-as√≠ncrones-a-aws",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Activitats As√≠ncrones a AWS",
    "text": "Activitats As√≠ncrones a AWS\nAquestes activitats as√≠ncrones es realitzaran a la plataforma AWS al llarg del curs. La seva finalitat √©s que completis totes les activitats i laboratoris proposats, ja que la qualificaci√≥ es basar√† √≠ntegrament en la finalitzaci√≥ d‚Äôaquests. Completar totes les tasques et donar√† el 5% de la nota final. Si en fas nom√©s una part, la puntuaci√≥ ser√† proporcional a les activitats que hagis realitzat.\n\nNo recuperable: Aquesta activitat no disposa de recuperaci√≥.\nData l√≠mit: La data m√†xima per a la presentaci√≥ i finalitzaci√≥ √©s el dia de l‚ÄôE2.\nValor afegit: Obtenci√≥ d‚Äôun certificat oficial AWS."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#seguiment-i-participaci√≥",
    "href": "slides/01-foundations-of-systems-administration.html#seguiment-i-participaci√≥",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Seguiment i Participaci√≥",
    "text": "Seguiment i Participaci√≥\n\n\n\n\n\n\n\nR√∫brica d‚ÄôAvaluaci√≥\n\n\n\n\n\n\n\n\n\n\n\nPunts\nParticipaci√≥ Presencial\nParticipaci√≥ en F√≤rums\nActivitats Sessi√≥\n\n\n\n\n10\nContribucions excepcionals,enriqueix la discussi√≥.\nL√≠der en discussions, promou debat.\nQualitat excepcional, supera expectatives.\n\n\n9\nComentaris rellevants, mostra comprensi√≥, escolta activament.\nRespostes significatives.\nAlta qualitat, treball prec√≠s.\n\n\n8\nContribucions regulars, interactua amb companys.\nPublicacions rellevants, contribueix constructivament.\nCompleix tots requisits amb precisi√≥.\n\n\n7\nParticipa amb una comprensi√≥ b√†sica.\nCompleix m√≠nims, contribucions breus.\nQualitat inconsistent per√≤ acceptable.\n\n\n5-6\nPoca freq√º√®ncia, comentaris superficials.\nPublicacions rares, poc profundes.\nAlgunes activitats incompletes.\n\n\n1-4\nNom√©s participa si se li demana.\nPublicacions irrellevants.\nRarament completa activitats.\n\n\n0\nEvita participar, distret.\nPublicacions fora de tema.\nNo lliura activitats.\n\n\n\n\n\n\n\n\nL‚Äôassist√®ncia passiva no es puntua.\n\n\nAquest component d‚Äôavaluaci√≥ est√† dissenyat per fomentar la participaci√≥ activa i el comprom√≠s amb l‚Äôassignatura. La participaci√≥ no es limita nom√©s a l‚Äôassist√®ncia a classe, sin√≥ que tamb√© inclou la contribuci√≥ en discussions, f√≤rums en l√≠nia i activitats relacionades amb les sessions. Tota participaci√≥ ha de ser rellevant i constructiva per ser valorada positivament. En aquesta r√∫brica, es detallen els criteris espec√≠fics que s‚Äôutilitzaran per avaluar la participaci√≥ dels estudiants en diferents √†mbits."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#bonus-1",
    "href": "slides/01-foundations-of-systems-administration.html#bonus-1",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Bonus 1",
    "text": "Bonus 1\n\n\n\nObjectiu: Fomentar la reflexi√≥ i l‚Äôautoavaluaci√≥ dels continguts treballats a classe.\nMetodologia: Cada setmana, els estudiants han de fer un commit al seu repositori d‚Äôapunts amb les notes de les sessions de teoria i pr√†ctiques.\nAvaluaci√≥: Es valorar√† la qualitat de les notes, la seva coher√®ncia i la seva relaci√≥ amb els continguts treballats, aix√≠ com les reflexions i opinions personals incloses.\nPer participar cal crear un repositori a Github (p√∫blic) i fer-me arribar l‚Äôenlla√ß.\n\n\n\n\nExemple de Notes\n## Setmana X\n\n# Resum te√≤ric\n\n# Exemples pr√†ctics\n\n# Dubtes i preguntes\n\n# Reflexions personals\n\n\n\n\n\n\n\nNo es permet cap altre forma\n\n\nLes notes han de ser escrites en format Markdown i mantingudes en un repositori Git i Github.\n\n\n\n\n\n\nAquest bonus est√† dissenyat per incentivar els estudiants a mantenir un registre organitzat i reflexiu dels continguts treballats a classe. En fer un commit setmanal amb les seves notes, els estudiants no nom√©s reforcen el seu aprenentatge, sin√≥ que tamb√© desenvolupen habilitats de documentaci√≥ i autoavaluaci√≥. La qualitat de les notes ser√† clau en l‚Äôavaluaci√≥, ja que es valorar√† no nom√©s la precisi√≥ dels continguts, sin√≥ tamb√© la capacitat de reflexionar sobre el que s‚Äôha apr√®s i com s‚Äôha aplicat aquest coneixement. Es tracta d‚Äôuna oportinitat per als estudiants per crear el seu diari d‚Äôaprenentatge al llarg del curs. Per participar, els estudiants han de crear un repositori p√∫blic a Github i compartir l‚Äôenlla√ß amb el professorat."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#bonus-2",
    "href": "slides/01-foundations-of-systems-administration.html#bonus-2",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Bonus 2",
    "text": "Bonus 2\n\n\n\nEls materials s√≥n Open Source.\nQualsevol estudiant pot detectar errors, millorar els materials o afegir continguts nous.\nS‚Äôavaluar√† la quantitat i qualitat.\n\n\n\n\n\nUn altre bonus que oferim √©s la possibilitat de contribuir als materials de l‚Äôassignatura seguint la metodologia de Open Source. Aix√≤ significa que qualsevol estudiant pot detectar errors, suggerir millores o afegir continguts nous als materials proporcionats. Per participar, els estudiants poden fer un fork del repositori de l‚Äôassignatura, treballar en una branca separada i despr√©s obrir una pull request amb les seves propostes de canvi. La quantitat i qualitat de les contribucions seran avaluades, oferint aix√≠ una oportunitat per als estudiants de participar activament en la millora dels recursos educatius."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#gesti√≥-del-curs",
    "href": "slides/01-foundations-of-systems-administration.html#gesti√≥-del-curs",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Gesti√≥ del curs",
    "text": "Gesti√≥ del curs\n\nEs demana que els estudiants arribin puntuals a les sessions. L‚Äôentrada tardana pot interrompre la din√†mica de la classe i el treball dels companys.\nEs demana que els estudiants respectin les normes de conviv√®ncia i respecte mutu durant les sessions de classe. Aix√≤ inclou evitar interrupcions innecess√†ries, escoltar activament als companys i al professor, i mantenir un ambient de treball positiu i constructiu."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#comunicaci√≥-amb-el-professorat",
    "href": "slides/01-foundations-of-systems-administration.html#comunicaci√≥-amb-el-professorat",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Comunicaci√≥ amb el professorat",
    "text": "Comunicaci√≥ amb el professorat\n\nIntenteu comunicar-vos a trav√©s del correu electr√≤nic i no per l‚Äôeina del campus virtual per assegurar una resposta m√©s r√†pida.\nLes sessions de tutoria es realitzaran de manera presencial o virtual, segons les necessitats dels estudiants. √âs important que els estudiants sol¬∑licitin cita pr√®via per a les tutories utilitzant el correu electr√≤nic jordi.mateo@udl.cat indicant el motiu de la consulta i la disponibilitat hor√†ria i afegint l‚Äôassumpte [AMSA]: Sol¬∑licitud de Tutoria."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#treball-individual",
    "href": "slides/01-foundations-of-systems-administration.html#treball-individual",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Treball individual",
    "text": "Treball individual\n\nCada estudiant √©s responsable de la seva pr√≤pia feina i de com gestiona el seu temps.\nL‚Äôassist√®ncia a classe no √©s obligat√≤ria.\nCada alumne ha de presentar evid√®ncies pr√≤pies del treball realitzat, encara que es col¬∑labori en grup."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#√∫s-de-la-iag",
    "href": "slides/01-foundations-of-systems-administration.html#√∫s-de-la-iag",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "√ös de la IAG",
    "text": "√ös de la IAG\n\nPots utilitzar eines d‚ÄôIAG per generar idees, entendre conceptes complexos o esbossar l‚Äôestructura inicial del teu codi o projecte. No obstant aix√≤, la implementaci√≥ i la versi√≥ final han de ser sempre de la teva autoria.\nEst√† estrictament prohibit presentar codi o solucions generades directament per una IAG com a treball propi (√©s a dir, mitjan√ßant un simple copiar i enganxar).\nSi incorpores material assistit per una IAG, has de declarar-ho expl√≠citament. Aix√≤ implica identificar clarament les seccions generades per IAG i proporcionar el prompt exacte utilitzat per crear-les.\n\n\nL‚Äôincompliment d‚Äôaquestes directrius es considerar√† una violaci√≥ de la integritat acad√®mica.\n\n\nQualificaci√≥ de zero en la tasca.\nConseq√º√®ncies disciplin√†ries que estableix la Normativa de Conviv√®ncia de la UdL per frau acad√®mic."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#eines",
    "href": "slides/01-foundations-of-systems-administration.html#eines",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Eines",
    "text": "Eines\n\nOrdinador port√†til amb connexi√≥ a Internet.\n\nEs recomana portar el vostre propi ordinador per cursar l‚Äôassignatura.\nSi no disposeu d‚Äôordinador, podreu utilitzar els ordinadors de la classe durant les sessions de laboratori.\n\nDistribucions Linux (Debian i AlmaLinux)\n\n√âs obligatori utilitzar les distribucions indicades als laboratoris. Altres distribucions no rebran suport.\n\nSoftware de virtualitzaci√≥ (VMWare i QEMU)\n\nEs recomana utilitzar VMWare i QEMU, per√≤ podeu optar per altres opcions de virtualitzaci√≥. Heu de ser capa√ßos d‚Äôadaptar el material al vostre programari de virtualitzaci√≥.\n\nCompte a AWS"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#materials-i-recursos",
    "href": "slides/01-foundations-of-systems-administration.html#materials-i-recursos",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Materials i Recursos",
    "text": "Materials i Recursos\n\nApunts de l‚Äôassignatura i materials proporcionats pel professor.\nDocumentaci√≥ oficial de les eines i tecnologies utilitzades.\nF√≤rums t√®cnics a la xarxa com Stack Overflow, Reddit, etc\nLlibres de refer√®ncia en administraci√≥ de sistemes:\n\n‚ÄúUNIX and Linux System Administration Handbook‚Äù de Evi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley.\n‚ÄúThe Practice of System and Network Administration‚Äù de Thomas A. Limoncelli, Christina J. Hogan, Strata R. Chalup."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-bomber",
    "href": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-bomber",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "El rol de l‚Äôadministrador de sistemes - Similituds amb un bomber",
    "text": "El rol de l‚Äôadministrador de sistemes - Similituds amb un bomber\n\nEls administradors de sistemes han de tenir coneixements t√®cnics profunds i una actitud proactiva per anticipar problemes i, si cal, resoldre‚Äôls sota pressi√≥, tal com ho faria un bomber en una emerg√®ncia.\n\n\n\n\n\nEl rol tradicional de l‚Äôaministrador de sistemes pot ser semblant al d‚Äôun bomber. Ha de treballar per prevenir incendis, per√≤ quan hi ha un incendi ha de c√≥rrer per apagar-lo i restaurar la situaci√≥ el m√©s r√†pid. No importa l‚Äôhora, el lloc o el dia, l‚Äôadministrador de sistemes ha de ser capa√ß de respondre a les emerg√®ncies i solucionar els problemes de manera eficient i efectiva. Aix√≤ requereix una gran habilitat t√®cnica, coneixements profunds dels sistemes i una actitud proactiva per anticipar-se als problemes i resoldre‚Äôls r√†pidament. Els administradors de sistemes han de ser tant proactius com reactius, prevenint problemes i responent r√†pidament davant els imprevistos per garantir la continu√Øtat del servei. Poden utilitzar eines com Nagios, Zabbix, Prometheus per monitoritzar els sistemes i detectar problemes abans que es converteixin en emerg√®ncies reals. Per√≤, han d‚Äôintervenir i improvisar quan calgui per resoldre els problemes i restaurar la normalitat."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-cient√≠fic",
    "href": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-cient√≠fic",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "El rol de l‚Äôadministrador de sistemes - Similituds amb un cient√≠fic",
    "text": "El rol de l‚Äôadministrador de sistemes - Similituds amb un cient√≠fic\n\n\n\n\n\n\n\nEls administradors de sistemes han de ser capa√ßos de resoldre problemes complexos i trobar solucions creatives.\nAix√≤ pot ser semblant al treball d‚Äôun cient√≠fic, que ha de plantejar hip√≤tesis, realitzar experiments i analitzar dades per arribar a conclusions.\nPer exemple, una empresa pot necessitar donar codis d‚Äôacc√©s temporals als usuaris per connectar-se a la xarxa Wifi. En lloc de gestionar-ho manualment, un administrador de sistemes va crear un sistema que generava codis d‚Äôacc√©s temporals quan els usuaris tocaven un platan connectada a un Raspberry Pi.\n\n\n\nUn altra caracter√≠stica de l‚Äôadministrador de sistemes √©s la seva capacitat per resoldre problemes complexos i trobar solucions creatives. Aix√≤ pot ser semblant al treball d‚Äôun cient√≠fic, que ha de plantejar hip√≤tesis, realitzar experiments i analitzar dades per arribar a conclusions.\nPer exemple, una empresa pot necessitar donar codis d‚Äôacc√©s temporals als usuaris per connectar-se a la xarxa Wifi. En lloc de gestionar-ho manualment, un administrador de sistemes va crear un sistema que generava codis d‚Äôacc√©s temporals quan els usuaris tocaven un platan connectada a un Raspberry Pi. Aquesta soluci√≥ creativa i inesperada va permetre automatitzar una tasca manual i millorar l‚Äôexperi√®ncia de l‚Äôusuari. Aix√≤ demostra la capacitat de l‚Äôadministrador de sistemes per trobar solucions innovadores i eficients als problemes que es presenten."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-administrador-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#salari-administrador-de-sistemes",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Salari Administrador de Sistemes",
    "text": "Salari Administrador de Sistemes\n\n\n\n\n\nEl salari base segons el portal payscale a Espanya √©s de mitjana 30k amb un potencial de creixement a futtur de 10k. Aquesta dada √©s orientativa i pot variar segons la ubicaci√≥, l‚Äôexperi√®ncia, les habilitats i la formaci√≥ del professional. Per√≤, en comparativa amb altres sortides professionals, l‚Äôadministrador de sistemes igual no √©s una opci√≥ interessant. Analitzem ara sortides professionals m√©s especialitzades."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#especialitzacions-en-administraci√≥-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#especialitzacions-en-administraci√≥-de-sistemes",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Especialitzacions en Administraci√≥ de Sistemes",
    "text": "Especialitzacions en Administraci√≥ de Sistemes\n\n\n\nAdministradors de Xarxa, Enmagatzematge, Seguretat\nOperadors de Xarxa\nArquitectes de Sistemes\nT√®cnics de Suport\nT√®cnics de Centre de Dades\nEnginyers de Sistemes\nEnginyer DEVOPS\nEnginyer SRE (Site Reliability Engineer)\n\n\n\n\n\nHi ha una gran varietat d‚Äôespecialitzacions dins l‚Äô√†mbit de l‚Äôadministraci√≥ de sistemes, cada una amb responsabilitats √∫niques que poden influir en el salari i els rols. A continuaci√≥, detallem algunes d‚Äôaquestes especialitzacions:\n\nAdministradors de Xarxa: S‚Äôencarreguen de la configuraci√≥, gesti√≥ i manteniment de routers, switches, firewalls i altres dispositius de xarxa en entorns f√≠sics i virtuals. La seva tasca √©s garantir la connectivitat i seguretat de les xarxes de l‚Äôempresa.\nAdministradors de Emmagatzematge: Gestionen sistemes de fitxers, solucions de c√≤pies de seguretat i tecnologies d‚Äôemmagatzematge de dades com NETAPP o EMC. S√≥n responsables d‚Äôassegurar que les dades estiguin segures i accessibles.\nAdministradors de Seguretat: Protegeixen els sistemes inform√†tics contra amenaces i atacs cibern√®tics. Implementen pol√≠tiques de seguretat, gestionen certificats digitals i realitzen auditories de seguretat per protegir la informaci√≥ sensible.\nOperadors de Xarxa: Supervisionen el funcionament diari de les xarxes, gestionant el tr√†nsit de dades i resolent problemes de connexi√≥ o rendiment. S‚Äôasseguren que les xarxes funcionin sense interrupcions.\nArquitectes de Sistemes: Dissenyen i planifiquen la infraestructura tecnol√≤gica de l‚Äôempresa. S√≥n responsables d‚Äôassegurar que els sistemes compleixin els requisits de rendiment, seguretat i escalabilitat.\nT√®cnics de Suport: Ofereixen assist√®ncia t√®cnica als usuaris, resolent problemes i incidents a trav√©s de sistemes de tickets. La seva tasca √©s garantir que els usuaris puguin utilitzar les tecnologies sense problemes.\n\n-T√®cnics de Centre de Dades: Gestionen i mantenen els servidors, xarxes i altres equips f√≠sics en els centres de dades. S‚Äôasseguren que el centre de dades funcioni amb alta disponibilitat i rendiment.\n\nEnginyers de Sistemes: S√≥n responsables de dissenyar, implementar i mantenir la infraestructura inform√†tica de l‚Äôempresa. La seva tasca √©s assegurar que els sistemes compleixin els requisits operatius i t√®cnics.\n\nAra veurem dues especialitzacions m√©s avan√ßades i amb m√©s demanda en el mercat laboral actual: Enginyer DEVOPS i Enginyer SRE (Site Reliability Engineer) amb detall. Tamb√© us deixo un enlla√ß a un llibre que parla de les diferents especialitzacions."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-site-reliability-engineer-sre",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-site-reliability-engineer-sre",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un Site Reliability Engineer (SRE)?",
    "text": "Qu√® √©s un Site Reliability Engineer (SRE)?\nEls Site Reliability Engineers (SRE) s√≥n enginyers de sistemes especialitzats en la fiabilitat i l‚Äôescalabilitat dels sistemes inform√†tics. Estan centrats en les operacions, utilitzant el software com a eina per gestionar els sistemes, solucionar els afers i automatitzar tasques. Les seves missions s√≥n crear sistemes escalables i fiables.\n\nFiabilitat del Sistema: Nagios, Zabbix, Prometheus.\nEscalabilitat: Kubernetes, Docker, Terraform.\nMonitoritzaci√≥ i Alertes: Grafana, ELK Stack, PagerDuty.\nGesti√≥ d‚ÄôIncidents: Jira, ServiceNow, Slack.\nOptimitzaci√≥ de Rendiment: New Relic, Datadog, AppDynamics.\nAutomatitzaci√≥ de Processos: Ansible, Puppet, Chef.\n\n\nAmb l‚Äôevoluci√≥ cont√≠nua de les tecnologies cloud i l‚Äôaugment de la demanda de serveis digitals, les pr√†ctiques de Site Reliability Engineering (SRE) s‚Äôhan convertit en una pe√ßa clau per a moltes organitzacions. Un SRE es pot definir com un professional especialitzat en garantir que les empreses compleixin els seus Acords de Nivell de Servei (SLA) pel que fa a disponibilitat, rendiment, experi√®ncia de l‚Äôusuari i indicadors clau de negoci (KPIs). Aix√≤ implica centrar-se en la millora de la fiabilitat i l‚Äôescalabilitat dels sistemes, aix√≠ com en la implementaci√≥ de pr√†ctiques d‚Äôintegraci√≥ i lliurament continu (CI/CD), refor√ßar la seguretat i optimitzar els costos operatius.\nEls SREs aprofiten el programari com una eina per gestionar i automatitzar els sistemes, identificar i resoldre problemes, i automatitzar processos amb l‚Äôobjectiu final de construir infraestructures escalables i fiables que responguin als objectius de negoci.\nLes funcions principals d‚Äôun SRE inclouen la monitoritzaci√≥ constant dels sistemes, la gesti√≥ d‚Äôalertes i resposta a incidents, l‚Äôautomatitzaci√≥ de tasques rutin√†ries, i l‚Äôoptimitzaci√≥ de l‚Äôescala i adaptabilitat dels recursos tecnol√≤gics. A m√©s, col¬∑laboren estretament amb els equips de desenvolupament per assegurar la millora cont√≠nua de la fiabilitat i el rendiment dels sistemes."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-dun-site-reliability-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#salari-dun-site-reliability-engineer",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Salari d‚Äôun Site Reliability Engineer",
    "text": "Salari d‚Äôun Site Reliability Engineer\n\n\n\n\n\nEls Site Reliability Engineers (SREs) experimenten un increment salarial substancial en comparaci√≥ amb els administradors de sistemes. Un SRE pot comen√ßar guanyant fins a 50.000 ‚Ç¨ durant el seu primer any, i amb l‚Äôexperi√®ncia, arribar fins als 70.000 ‚Ç¨ o m√©s en un termini de cinc anys. Aquest diferencial salarial reflecteix la creixent import√†ncia i demanda de professionals especialitzats en la fiabilitat i escalabilitat dels sistemes inform√†tics. A difer√®ncia dels administradors de sistemes, els SREs no nom√©s es dediquen a mantenir la infraestructura, sin√≥ que tamb√© se centren en optimitzar la resili√®ncia i efici√®ncia dels serveis digitals, assegurant que compleixin els Acords de Nivell de Servei (SLA). Per tant, si t‚Äôinteressa un rol amb responsabilitats m√©s t√®cniques i un potencial de creixement major, el cam√≠ d‚ÄôSRE pot ser una opci√≥ molt atractiva dins del mercat laboral actual. Les seves responsabilitats dins de l‚Äôempresa s√≥n molt importants i tenen un impacte directe amb els objectius de negoci."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-devops-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-devops-engineer",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un DevOps Engineer?",
    "text": "Qu√® √©s un DevOps Engineer?\nEls DevOps Engineers s√≥n professionals clau en la integraci√≥ i col¬∑laboraci√≥ entre els equips de desenvolupament (Dev) i operacions (Ops), amb l‚Äôobjectiu principal de millorar l‚Äôefici√®ncia i agilitat dels processos de desenvolupament de software. El seu treball se centra en accelerar el desplegament d‚Äôaplicacions, millorar la qualitat del software i optimitzar els fluxos de treball, fent √∫s intensiu de l‚Äôautomatitzaci√≥, la integraci√≥ cont√≠nua (CI) i el lliurament continu (CD).\n\nAutomatitzaci√≥: Jenkins, GitLab CI, Bamboo.\nGesti√≥ d‚Äôinfraestructura com a codi (IaC): Terraform, Ansible, CloudFormation.\nContenidors i orquestraci√≥: Docker, Kubernetes.\nMonitoritzaci√≥ i registre: Prometheus, Grafana, ELK Stack.\nCol¬∑laboraci√≥ i comunicaci√≥: Slack, Jira, Confluence.\n\n\nMentre que els Sysadmins tradicionalment s‚Äôocupen de la gesti√≥ i manteniment de la infraestructura, com ara servidors, xarxes i sistemes operatius, els DevOps Engineers van m√©s enll√† d‚Äôaquestes tasques. El seu rol inclou l‚Äôautomatitzaci√≥ de processos, la implementaci√≥ de pipelines de CI/CD, la gesti√≥ de contenidors (com Docker) i la infraestructura com a codi (IaC), com Terraform o Ansible. En lloc d‚Äôenfocar-se nom√©s en el manteniment i la disponibilitat dels sistemes, els DevOps Engineers treballen per integrar millor el desenvolupament i les operacions, assegurant que els nous llan√ßaments de software siguin r√†pids, segurs i consistents.\nTot i que hi ha solapaments entre DevOps i SRE, les difer√®ncies clau radican en l‚Äôenfocament i les prioritats. Mentre que els DevOps Engineers se centren en l‚Äôoptimitzaci√≥ dels processos de desenvolupament i operacions a trav√©s de la col¬∑laboraci√≥ i l‚Äôautomatitzaci√≥, els SREs estan m√©s orientats a la fiabilitat i escalabilitat dels sistemes en producci√≥. El SRE t√© un enfocament m√©s espec√≠fic en mantenir els serveis en l√≠nia, gestionant incidents, optimitzant el rendiment i assegurant-se que es compleixen els SLA. Tot i que ambd√≥s rols treballen amb eines similars, com CI/CD i contenidors, els SREs tenen m√©s responsabilitats en la resoluci√≥ d‚Äôincidents cr√≠tics i en la millora de la resili√®ncia del sistema.\nCom podeu veure les eines tecnol√≤giques que utilitzen els DevOps Engineers s√≥n molt similars a les dels SREs, per√≤ la seva aplicaci√≥ i objectius s√≥n diferents. Per tant, apunteu-vos aquestes eines i tecnologies, ja que s√≥n essencials pel m√≥n laboral actual."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-dun-devops-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#salari-dun-devops-engineer",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Salari d‚Äôun DevOps Engineer",
    "text": "Salari d‚Äôun DevOps Engineer\n\n\n\n\n\nEls DevOps Engineers, igual que els SREs, gaudeixen d‚Äôun salari m√©s alt i d‚Äôun major potencial de creixement professional en comparaci√≥ amb els administradors de sistemes tradicionals. Si t‚Äôapassiona l‚Äôadministraci√≥ de sistemes enfocada a l‚Äôautomatitzaci√≥ del desplegament de software, el disseny i la gesti√≥ de pipelines de CI/CD, l‚Äô√∫s de contenidors i la implementaci√≥ d‚Äôinfraestructura com a codi, el rol de DevOps Engineer pot oferir-te una carrera m√©s atractiva i plena d‚Äôoportunitats. En l‚Äôactualitat, moltes empreses busquen professionals amb habilitats en DevOps."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#transfomraci√≥-del-administrador-de-sistemes-a-sre",
    "href": "slides/01-foundations-of-systems-administration.html#transfomraci√≥-del-administrador-de-sistemes-a-sre",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Transfomraci√≥ del Administrador de Sistemes a SRE",
    "text": "Transfomraci√≥ del Administrador de Sistemes a SRE\n\n\n\n\nDamon Edwards, co-fundador de Rundeck, parla de la transformaci√≥ d‚Äôun administrador de sistemes a un Site Reliability Engineer (SRE) i com aquesta evoluci√≥ pot ajudar a millorar la fiabilitat dels sistemes i la productivitat dels equips de desenvolupament. Aquesta xerrada va ser presentada a la DevOpsCon 2019.\n\n\nEn aquest curs, veure una pinzellada de les tasques d‚Äôun SRE i d‚Äôun DevOps Engineer quan introdu√Øm les eines de monitoritzaci√≥, automatitzaci√≥ i CI/CD. Per√≤, si voleu aprofundir en la tem√†tica, us recomano aquesta xerrada de la DevOpsCon, per Damon Edwarks, que parla del tema i explica com un administrador de sistemes es pot transformar en un SRE tenint en compte una responsabilitat compartida entre els SLOs i els errors de pressupost."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#arquitectura-client-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#arquitectura-client-servidor",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Arquitectura Client-Servidor",
    "text": "Arquitectura Client-Servidor\nUna arquitectura client-servidor involucra uns sistemes que necessiten serveis i uns servidors que processen i responen a aquestes peticions.\n\n\nClient\nUn ordinador o dispositiu capacÃß de rebre informacioÃÅ o utilitzar un servei o proveiÃàdor.\nServidor\nUn ordinador o dispositiu remot capacÃß de proveir acceÃÅs a un servei o a informacioÃÅ.\n\n\n\n\nUn dels conceptes m√©s importants en l‚Äôadministraci√≥ de sistemes √©s l‚Äôarquitectura client-servidor. Aquesta arquitectura implica la interacci√≥ entre dos tipus de sistemes: els clients, que sol¬∑liciten serveis o informaci√≥, i els servidors, que processen i responen a aquestes peticions. Aquesta arquitectura √©s √†mpliament utilitzada en entorns inform√†tics, com ara la web, les xarxes d‚Äôordinadors i les aplicacions empresarials.\nPer exemple, quan un usuari accedeix a una p√†gina web, el seu navegador actua com a client i sol¬∑licita la p√†gina al servidor web. El servidor de DNS consulta la URL i retorna l‚Äôadre√ßa IP del servidor web. El navegador envia una petici√≥ HTTP o HTTPS al servidor web, que respon amb els fitxers necessaris per mostrar la p√†gina al navegador. Aquest proc√©s implica la comunicaci√≥ entre el client i el servidor per proporcionar la informaci√≥ sol¬∑licitada a l‚Äôusuari."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#caracter√≠stiques-client-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#caracter√≠stiques-client-servidor",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Caracter√≠stiques Client-Servidor",
    "text": "Caracter√≠stiques Client-Servidor\n\n\nAvantatges\n\nSistema centralitzat Totes les dades en un lloc.\nPol√≠tiques de recuperaci√≥ de dades.\nSeparaci√≥ de la l√≤gica.\n\n\n\n\nInconvenients\n\nAtacs de denegaci√≥ de serveis.\nMan-in-the-middle.\nPhishing.\nSpoofing.\n\n\n\nAquesta arquitectura t√© avantatges i inconvenients. Entre els avantatges es troba la centralitzaci√≥ de les dades, ja que tota la informaci√≥ es troba en un √∫nic lloc, el que facilita la gesti√≥ i la recuperaci√≥ de les dades. A m√©s, permet establir pol√≠tiques de recuperaci√≥ de dades i separar la l√≤gica de negoci de la interf√≠cie d‚Äôusuari, el que facilita la gesti√≥ i el manteniment del sistema. D‚Äôaquesta manera, els desenvolupadors poden centrar-se en la l√≤gica de negoci sense preocupar-se de la interf√≠cie d‚Äôusuari. Per exemple, en una aplicaci√≥ web, la l√≤gica de negoci es pot gestionar al servidor, mentre que la interf√≠cie d‚Äôusuari es pot gestionar al client.\nEls principals inconvenients d‚Äôaquesta arquitectura s√≥n els possibles atacs de denegaci√≥ de serveis, els atacs de l‚Äôhome al mig, el phishing i l‚Äôusurpaci√≥ d‚Äôidentitat. Aquests atacs poden comprometre la seguretat del sistema i posar en perill la informaci√≥ dels usuaris. Per tant, √©s important implementar mesures de seguretat per protegir el sistema i les dades dels usuaris. Un atac de denegaci√≥ de servei enviar√† moltes peticions al servidor per saturar-lo i fer-lo caure. Un atac de l‚Äôhome al mig intercepta les comunicacions entre el client i el servidor per obtenir informaci√≥ sensible. El phishing √©s un atac en qu√® els atacants envien correus electr√≤nics falsos per enganyar els usuaris i obtenir informaci√≥ confidencial. L‚Äôusurpaci√≥ d‚Äôidentitat implica fer-se passar per una altra persona per obtenir acc√©s a informaci√≥ o recursos sensibles. Per tant, √©s molt imporant ser conscients d‚Äôaquests riscos i implementar mesures de seguretat per protegir el sistema i les dades dels usuaris.\nA la figura s‚Äôobserva com m√∫ltiples clients es comuniquen amb un servidor central per obtenir informaci√≥ o serveis. I com multiples servidors poden comunicar-se amb altres servidors per obtenir informaci√≥ o serveis. Tamb√© 1 client pot comunicar-se amb m√∫ltiples servidors. Per exemple, un client pot accedir a un servidor web per obtenir informaci√≥ i a un servidor de correu per enviar correus electr√≤nics. El servidor web pot comunicar-se amb el servidor de correu per enviar notificacions als usuaris."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#servidors-m√©s-comuns",
    "href": "slides/01-foundations-of-systems-administration.html#servidors-m√©s-comuns",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Servidors m√©s comuns",
    "text": "Servidors m√©s comuns\n\n\n\nServidor d‚Äôautenticaci√≥.\nServidor de fitxers.\nServidor de discos.\nServidor de correu.\nServidor de base de dades.\n\n\n\nServidor SSH.\nServidor Web.\nServidor d‚Äôaplicacions.\nServidor de backups.\nServidor de c√≤mput.\n\n\n\nHi ha molts tipus de servidors en funci√≥ de l‚Äôobjectiu que tenen. Alguns dels servidors m√©s comuns s√≥n els servidors d‚Äôautenticaci√≥, que s‚Äôencarreguen de gestionar l‚Äôacc√©s dels usuaris als sistemes; els servidors de fitxers, que emmagatzemen i gestionen els fitxers i documents de l‚Äôempresa; els servidors de discos, que proporcionen emmagatzematge addicional als servidors; els servidors de correu, que gestionen el correu electr√≤nic de l‚Äôempresa; els servidors de base de dades, que emmagatzemen i gestionen les dades de l‚Äôempresa; els servidors SSH, que permeten l‚Äôacc√©s remot als servidors; els servidors web, que allotgen les p√†gines web de l‚Äôempresa; els servidors d‚Äôaplicacions, que executen les aplicacions de l‚Äôempresa; els servidors de backups, que realitzen c√≤pies de seguretat de les dades de l‚Äôempresa; i els servidors de c√≤mput, que realitzen c√†lculs i processos computacionals entre altres."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-darquitectura-escalable",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-darquitectura-escalable",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Exemple d‚Äôarquitectura escalable",
    "text": "Exemple d‚Äôarquitectura escalable\n\n\n\n\nA la figura proporcionada es mostra una arquitectura t√≠picament utilitzada per al desplegament d‚Äôuna web escalable i fiable. En aquesta arquitectura, el punt d‚Äôentrada √©s un balancejador de c√†rrega, que distribueix les peticions entre els diversos servidors web. Els servidors web, que poden ser r√®pliques, allotgen les p√†gines web i gestionen les peticions dels usuaris. Aquestes p√†gines web necessiten accedir a un servidor de base de dades per emmagatzemar i gestionar les dades associades. Cada base de dades est√† protegida per un servidor de backups, que realitza c√≤pies de seguretat per garantir la recuperaci√≥ en cas de fallades. A m√©s, per millorar la velocitat de c√†rrega de les p√†gines web, es fa servir un dispositiu CDN (Content Delivery Network) que redirigeix les peticions als servidors m√©s propers a l‚Äôusuari.\nAquesta arquitectura √©s √†mpliament utilitzada per allotjar llocs webs, ja que ofereix una combinaci√≥ d‚Äôescalabilitat i fiabilitat, assegurant un rendiment √≤ptim i una alta disponibilitat per als usuaris finals."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-i",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-i",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Problemes m√©s comuns servidors (I)",
    "text": "Problemes m√©s comuns servidors (I)\n\nQui i com accedeix a la informaci√≥?\n\nDeterminar qui (usuari,proc√©s,servei) pot accedir a quins fitxers i directoris i com ho pot fer (lectura, escriptura, execuci√≥).\nPermisos, ACLs, pol√≠tiques de seguretat.\n\nCom protegeixo la informaci√≥?\n\nDeterminar com protegir la informaci√≥ sensible i confidencial.\nEncriptaci√≥, contrasenyes, autenticaci√≥, autoritzaci√≥, auditoria, backups.\n\nCom asseguro el sistema?\n\nProtegir el sistema contra atacs i amenaces.\nFirewall, IDS/IPS, antivirus, actualitzacions, patches, hardening.\n\n\n\nUn dels problemes m√©s comuns en els servidors √©s determinar qui i com accedeix a la informaci√≥. Aix√≤ implica definir qui (usuari, proc√©s, servei) pot accedir a quins fitxers i directoris i com ho pot fer (lectura, escriptura, execuci√≥). Per fer-ho, es poden utilitzar permisos, llistes de control d‚Äôacc√©s (ACLs) i pol√≠tiques de seguretat per garantir que nom√©s els usuaris autoritzats puguin accedir a la informaci√≥.\nUn altre problema com√∫ √©s com protegir la informaci√≥ sensible i confidencial. Aix√≤ implica determinar com protegir la informaci√≥ per evitar l‚Äôacc√©s no autoritzat. Per fer-ho, es poden utilitzar t√®cniques com l‚Äôencriptaci√≥, les contrasenyes, l‚Äôautenticaci√≥, l‚Äôautoritzaci√≥, l‚Äôauditoria i els backups per garantir la seguretat i la privacitat de la informaci√≥.\nUn altre problema √©s com assegurar el sistema contra atacs i amenaces. Aix√≤ implica protegir el sistema contra atacs externs i interns que puguin comprometre la seguretat i la integritat del sistema. Per fer-ho, es poden utilitzar eines com el firewall, els sistemes de detecci√≥ i prevenci√≥ d‚Äôintrusions (IDS/IPS), l‚Äôantivirus, les actualitzacions, els patches i el hardening per garantir la seguretat del sistema."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-ii",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-ii",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Problemes m√©s comuns servidors (II)",
    "text": "Problemes m√©s comuns servidors (II)\n\nCom puc saber si el client √©s qui diu ser?\n\nAutenticar els usuaris i els dispositius.\nContrasenyes, certificats digitals, autenticaci√≥ multifactorial.\n\nQuins avantatges/inconvenients t√© un disseny respecte a un altre?\n\nDeterminar quin disseny √©s m√©s adequat per a les necessitats de l‚Äôempresa.\nEscalabilitat, rendiment, seguretat, disponibilitat, fiabilitat.\n\nCom asseguro el bon funcionament?\n\nGarantir que el sistema funcioni correctament i sense problemes.\nMonitoritzaci√≥, alertes, backups, redund√†ncia, toler√†ncia a fallades.\n\n\n\nUn altre problema √©s com autenticar els usuaris i els dispositius per garantir que siguin qui diuen ser. Aix√≤ implica autenticar els usuaris i els dispositius per garantir que nom√©s els usuaris autoritzats puguin accedir a la informaci√≥. Per fer-ho, es poden utilitzar t√®cniques com les contrasenyes, els certificats digitals i l‚Äôautenticaci√≥ multifactorial per garantir la seguretat i la privacitat de la informaci√≥.\nUn altre problema com√∫ √©s determinar quins avantatges i inconvenients t√© un disseny respecte a un altre. Aix√≤ implica determinar quin disseny √©s m√©s adequat per a les necessitats de l‚Äôempresa en termes d‚Äôescalabilitat, rendiment, seguretat, disponibilitat i fiabilitat. Per fer-ho, es poden avaluar els avantatges i inconvenients de cada disseny per garantir que s‚Äôadeq√ºi a les necessitats de l‚Äôempresa.\nUn altre problema √©s com assegurar el bon funcionament del sistema. Aix√≤ implica garantir que el sistema funcioni correctament i sense problemes. Per fer-ho, es poden utilitzar t√®cniques com la monitoritzaci√≥, les alertes, els backups, la redund√†ncia i la toler√†ncia a fallades per garantir que el sistema funcioni correctament i sense problemes."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-iii",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m√©s-comuns-servidors-iii",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Problemes m√©s comuns servidors (III)",
    "text": "Problemes m√©s comuns servidors (III)\n\nCom dissenyo pol√≠tiques i plans d‚Äôemerg√®ncia si tot falla?\n\nPreparar-se per a situacions d‚Äôemerg√®ncia i desastres.\nPlans de conting√®ncia, plans de recuperaci√≥, plans de resposta a incidents.\n\nCom analitzo post-mortem les causes d‚Äôun atac?\n\nIdentificar les causes d‚Äôun atac i prendre mesures correctives.\nAn√†lisi forense, auditoria, millora cont√≠nua.\n\n\n\nUn altre problema √©s com dissenyar pol√≠tiques i plans d‚Äôemerg√®ncia si tot falla. Aix√≤ implica preparar-se per a situacions d‚Äôemerg√®ncia i desastres per garantir la continu√Øtat del negoci. Per fer-ho, es poden utilitzar plans de conting√®ncia, plans de recuperaci√≥ i plans de resposta a incidents per garantir que l‚Äôempresa pugui respondre de manera efica√ß a situacions d‚Äôemerg√®ncia i desastres.\nFinalment, un altre problema √©s com analitzar post-mortem les causes d‚Äôun atac per identificar les causes i prendre mesures correctives. Aix√≤ implica realitzar una an√†lisi forense, una auditoria i una millora cont√≠nua per identificar les causes d‚Äôun atac i prendre mesures correctives per evitar que es repeteixin en el futur."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-centre-de-dades",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-centre-de-dades",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un centre de dades?",
    "text": "Qu√® √©s un centre de dades?\n√âs una instal¬∑laci√≥ que allotja un conjunt de servidors i equipament de xarxa (recursos heterogenis) per proporcionar recursos inform√†tics a diverses aplicacions i serveis (c√†rregues de treball diverses).\n\n\n\n\nEsquema d‚Äôun centre dades\n\n\n\n\nUn centre de dades o data center √©s un espai f√≠sic on s‚Äôallotgen els servidors, els dispositius de xarxa i altres equips inform√†tics necessaris per emmagatzemar, processar i distribuir la informaci√≥. Aquests centres de dades poden ser propis de l‚Äôempresa o externs, i poden ser gestionats per l‚Äôempresa o per un prove√Ødor de serveis. Els centres de dades s√≥n essencials per a les empreses que necessiten emmagatzemar i processar grans quantitats de dades, ja que proporcionen l‚Äôespai, la infraestructura i els recursos necessaris per garantir el funcionament dels sistemes inform√†tics.\nUn exemple notable de reutilitzaci√≥ d‚Äôestructures per a centres de dades √©s l‚Äô√∫s d‚Äôedificis hist√≤rics com esgl√©sies i mines abandonades. Aquests espais, amb les seves condicions √∫niques i sovint amb una infraestructura s√≤lida, s√≥n adaptats per allotjar servidors i equips. Per exemple, l‚Äôantiga esgl√©sia de Saint-Ouen a Fran√ßa ha estat convertida en un centre de dades, aprofitant la seva estructura i espai per complir amb els requisits tecnol√≤gics moderns. D‚Äôaltra banda, la mina de carboni de Pionen a Su√®cia ha estat transformada en un centre de dades subterrani, oferint una protecci√≥ f√≠sica addicional contra desastres naturals i atacs.\nGoogle disposa de servidors al fons del mar, aprofitant l‚Äôenergia de les ones per refredar els servidors i reduir el consum energ√®tic. Aquesta innovadora soluci√≥ aprofita els recursos naturals per millorar l‚Äôefici√®ncia energ√®tica dels centres de dades i reduir l‚Äôimpacte ambiental. Aquestes iniciatives mostren la diversitat de solucions i enfoques per a la gesti√≥ de centres de dades, adaptant-se a les necessitats i condicions espec√≠fiques de cada empresa."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-rack",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-rack",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un rack?",
    "text": "Qu√® √©s un rack?\nUn rack √©s una estructura met√†l¬∑lica que allotja servidors, switches, routers i altres equips inform√†tics en un centre de dades.\n\n\n\n\nRacks del CPD de la UdL\n\n\n\n\nUn rack √©s una estructura met√†l¬∑lica que allotja servidors, switches, routers i altres equips inform√†tics en un centre de dades. Aquests racks permeten organitzar i protegir els equips inform√†tics, aix√≠ com facilitar la gesti√≥ dels cables i la refrigeraci√≥ dels equips. Cada rack pot contenir diversos servidors, switches i altres equips, i es pot apilar verticalment per aprofitar l‚Äôespai disponible al centre de dades. A m√©s, els racks disposen de panells laterals i portes per protegir els equips i garantir la seguretat dels servidors i altres equips inform√†tics.\nPer exemple, a la imatge us mostro els racks d‚Äôun passad√≠s del centre de dades de la Universitat de Lleida, on es poden aquests armaris, penseu que cada rack pot contenir diversos servidors, switches i altres equips inform√†tics, i √∫nciament es veu un dels m√∫ltiples passadissos del centre de dades. En aquest centre de dades √©s on tenim el Campus Virtual, les eines i dades dels estudiants i professors, aix√≠ com els servidors de recerca dels grups de recerca de la UdL, entre d‚Äôaltres."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-de-racks",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-de-racks",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Exemple de racks",
    "text": "Exemple de racks\n\n\n\n\n\n\nRack 1 - GCD - Davant\n\n\n\n\n\n\n\n\n\n\nRack 1 - GCD - Darrera\n\n\n\n\n\nAra us mostro un rack, en concret els servidors s√≥n del grup de recerca en computaci√≥ distribu√Øda. A la part de dalt es pot veure un switch, i la resta s√≥ servidors. A la part de davant es poden veure els servidors i a la part de darrera els cables de xarxa i alimentaci√≥. En aquest cas, hi ha diferents colors de cables per identificar la xarxa a la qual pertanyen i la seva funci√≥."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-de-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-de-servidor",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Exemple de servidor",
    "text": "Exemple de servidor\n\n\n\n\n\n\nExterior d‚Äôun servidor\n\n\n\n\n\n\n\n\n\n\nInterior d‚Äôun servidor\n\n\n\n\n\nEn aquestes imatges podem fer zoom i veure els components exteriors i interiors d‚Äôun servidor. A la imatge 8 es pot veure com cada disc t√© un indicador de color per identificar el disc en cas de fallada. A la imatge 9 es pot veure la placa base, els discos durs, la font d‚Äôalimentaci√≥, la mem√≤ria RAM i el processador."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-switch",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-un-switch",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s un switch?",
    "text": "Qu√® √©s un switch?\nUn switch √©s un dispositiu de xarxa que connecta diversos equips inform√†tics per permetre la comunicaci√≥ entre ells.\n\n\n\n\nSwitch\n\n\n\n\nUn switch √©s un dispositiu de xarxa que connecta diversos equips per facilitar la comunicaci√≥ entre ells. Cada switch utilitza una taula de comutaci√≥ per dirigir les dades cap al destinatari correcte. Aquesta taula permet al switch con√®ixer quins equips estan connectats a quins ports i escollir la millor ruta per enviar les dades. Els ports del switch es poden configurar per assignar-los a VLANs (Xarxes Locals Virtuals), la qual cosa permet segmentar la xarxa en diverses sub-xarxes, millorant aix√≠ la seguretat i el rendiment global de la xarxa.\nNo confondre un switch amb un router. Un switch connecta diversos equips dins de la mateixa xarxa local, mentre que un router connecta diverses xarxes locals o xarxes WAN (Xarxes d‚Äô√Ärea Ampliada). Els routers utilitzen taula de rutes per determinar la millor ruta per enviar les dades entre xarxes, mentre que els switches utilitzen taula de comutaci√≥ per enviar les dades entre equips dins de la mateixa xarxa local."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#caracter√≠stiques-dun-sistema",
    "href": "slides/01-foundations-of-systems-administration.html#caracter√≠stiques-dun-sistema",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Caracter√≠stiques d‚Äôun sistema",
    "text": "Caracter√≠stiques d‚Äôun sistema\n\nSimplicitat\nEscalabilitat\nSeguretat\nFiabilitat\nDisponibilitat\nRendiment\nFacilitat d‚Äô√∫s\n\n\nEn el disseny de sistemes inform√†tics, √©s important tenir en compte diverses caracter√≠stiques per garantir que el sistema sigui eficient, segur i fiable. Algunes de les caracter√≠stiques m√©s importants d‚Äôun sistema s√≥n la simplicitat, l‚Äôescalabilitat, la seguretat, la fiabilitat, la disponibilitat, el rendiment i la facilitat d‚Äô√∫s. Ara b√©, sovint intentem dotar sistemes amb caracter√≠stiques que no es poden afegir despr√©s de la seva construcci√≥. Per exemple, intentar aplicar ‚Äúseguretat‚Äù despr√©s que les interf√≠cies del sistema hagin estat definides produeix restriccions i limitacions; intentar fer un sistema amb limitacions intr√≠nseques funcionar en circumst√†ncies per les quals no va ser dissenyat produeix ‚Äúhacks‚Äù i ‚Äúworkarounds‚Äù i el resultat final sovint essembla m√©s una casa de cartes fr√†gil que una estructura s√≤lida i fiable.\nPer tant, quan discutim sobre el disseny de sistemes inform√†tics, √©s important tenir en compte aquestes caracter√≠stiques i assegurar-nos que el sistema compleixi els objectius de l‚Äôempresa i sigui capa√ß de respondre a les necessitats dels usuaris"
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-lescalabilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-lescalabilitat",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s l‚Äôescalabilitat?",
    "text": "Qu√® √©s l‚Äôescalabilitat?\n\n\nL‚Äôescalabilitat √©s la capacitat d‚Äôun sistema per gestionar un augment de la c√†rrega de treball sense afectar el rendiment.\n\nVertical: augmentar la capacitat d‚Äôun servidor afegint m√©s recursos (CPU, mem√≤ria, disc).\nHoritzontal: augmentar la capacitat d‚Äôun sistema afegint m√©s servidors.\n\n\n\n\n\nEscalabilitat\n\n\n\n\n\n\n\n\n\n\n\n\nExemple\n\n\nEl serveis al n√∫vol permeten pagar nom√©s pel que s‚Äôutilitza, permetent augmentar o disminuir la capacitat segons les necessitats. Et permet estirar els recursos tecnol√≤gics com un globus d‚Äôaire calent, augmentant la capacitat quan √©s necessari i reduint-la quan ja no √©s necessari.\n\n\n\n\n\nEscalabilitat es refereix a la capacitat d‚Äôun sistema per gestionar un augment en la c√†rrega de treball sense que el seu rendiment es vegi afectat. √âs un concepte clau en el disseny de sistemes inform√†tics, especialment en entorns amb variacions en la demanda. Aquesta capacitat s‚Äôaconsegueix mitjan√ßant dues estrat√®gies principals:\n\nEscalabilitat Vertical: Consisteix en millorar la capacitat d‚Äôun servidor afegint m√©s recursos com CPU, mem√≤ria o disc. Aix√≤ permet que un servidor maneje una c√†rrega de treball m√©s gran sense necessitat d‚Äôaddicional hardware.\nEscalabilitat Horitzontal: Consisteix en augmentar la capacitat del sistema afegint m√©s servidors. Aix√≤ distribueix la c√†rrega de treball entre diversos servidors, millorant la capacitat global del sistema.\n\nEn l‚Äôentorn de cloud computing, aquest concepte es relaciona sovint amb elasticitat, que √©s la capacitat d‚Äôun sistema per adaptar-se de manera din√†mica a les fluctuacions de la c√†rrega de treball. Per exemple, una botiga en l√≠nia podria experimentar un augment significatiu de tr√†nsit durant el Black Friday. Un sistema escalable i el√†stic podria gestionar aquest augment de demanda sense perdre rendiment, i despr√©s reduir la capacitat quan la demanda torna a nivells normals.\nL‚Äôobjectiu √©s garantir que el sistema pugui mantenir un rendiment √≤ptim i evitar problemes com temps d‚Äôespera llargs, errors o caigudes, que podrien afectar negativament l‚Äôexperi√®ncia de l‚Äôusuari i els resultats comercials."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-la-fiabilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-la-fiabilitat",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s la fiabilitat?",
    "text": "Qu√® √©s la fiabilitat?\nLa fiabilitat d‚Äôun sistema es refereix a la seva capacitat per operar sense interrupcions durant un per√≠ode determinat. La fiabilitat es mesura habitualment mitjan√ßant el MTBF (Mean Time Between Failures), que indica el temps mitj√† que un sistema pot funcionar abans de fallar. Per exemple, si un sistema t√© un MTBF de 1000 hores, aix√≤ vol dir que, de mitjana, es pot esperar que el sistema falli cada 1000 hores d‚Äô√∫s.\n\n\\[ MTBF = \\frac{Temps\\ total\\ de\\ funcionament}{Nombre\\ de\\ fallades} \\]\n\n\nPer millorar la fiabilitat i minimitzar les interrupcions, es poden implementar t√®cniques com la redund√†ncia. Un exemple com√∫ √©s l‚Äô√∫s de servidors en configuraci√≥ de calent i fred:\n\nServidor en calent: √âs el servidor principal que est√† en funcionament i gestionant les operacions actuals.\nServidor en fred: √âs un servidor de reserva que es mant√© en espera i es posa en marxa nom√©s quan el servidor en calent falla.\n\n\n\nLa fiabilitat √©s la capacitat d‚Äôun sistema per mantenir-se operatiu durant un per√≠ode de temps determinat sense fallar. Es mesura en MTBF (Mean Time Between Failures). Per exemple, un sistema amb un MTBF de 1000 hores es pot esperar que falli cada 1000 hores d‚Äô√∫s.\nUna forma d‚Äôevitar fallades √©s la redund√†ncia, imagineu que tenim un servidor en calent (actual) i un servidor en fred (reserva) que es posa en marxa en cas de fallada del servidor actual. En aquest cas, el sistema √©s m√©s fiable perqu√® si falla el servidor actual, el servidor de reserva pot prendre el relleu sense afectar el servei. La contrapartida √©s que aquesta redund√†ncia implica un cost addicional."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-la-disponibilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-la-disponibilitat",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s la disponibilitat?",
    "text": "Qu√® √©s la disponibilitat?\nLa disponibilitat d‚Äôun sistema es refereix a la seva capacitat per estar operatiu i accessible per als usuaris durant un per√≠ode de temps determinat.\n\nLa disponibilitat es mesura habitualment mitjan√ßant el MTTR (Mean Time To Repair), que indica el temps mitj√† que es triga a reparar un sistema despr√©s d‚Äôuna fallada. Per exemple, si un sistema t√© un MTTR de 2 hores, aix√≤ vol dir que, de mitjana, es triga 2 hores a reparar el sistema despr√©s d‚Äôuna fallada.\n\n\n\\[ Disponibilitat = \\frac{Temps\\ de\\ funcionament}{Temps\\ de\\ funcionament + Temps\\ de\\ reparar} \\]\n\n\n\n\n\n\n\n\nExemple\n\n\nAmazon Web Services (AWS) ofereix un SLA (Service Level Agreement) del 99,99%, el que significa que el servei estar√† disponible el 99,99% del temps. Si el servei no compleix aquest SLA, AWS ha de compensar els clients amb cr√®dits de servei.\n\n\n\n\n\nLa disponibilitat d‚Äôun sistema es refereix a la seva capacitat per estar operatiu i accessible per als usuaris durant un per√≠ode de temps determinat. Es mesura en MTTR (Mean Time To Repair), que indica el temps mitj√† que es triga a reparar un sistema despr√©s d‚Äôuna fallada. Per exemple, si un sistema t√© un MTTR de 2 hores, aix√≤ vol dir que, de mitjana, es triga 2 hores a reparar el sistema despr√©s d‚Äôuna fallada. No confondre amb fiabilitat, que es refereix a la capacitat d‚Äôun sistema per operar sense interrupcions durant un per√≠ode determinat.\nPer exemple, un sistema pot tenir una alta fiabilitat, per√≤ una baixa disponibilitat si el temps de reparaci√≥ despr√©s d‚Äôuna fallada √©s llarg. D‚Äôaltra banda, un sistema pot tenir una baixa fiabilitat, per√≤ una alta disponibilitat si es pot reparar r√†pidament despr√©s d‚Äôuna fallada. La disponibilitat es mesura en percentatge i es pot garantir mitjan√ßant acords de nivell de servei (SLA) que estipulen el temps de disponibilitat del sistema i les compensacions en cas de fallada.\nUn exemple com√∫ d‚Äôalta disponibilitat √©s Amazon Web Services (AWS), que ofereix un SLA del 99,99%, el que significa que el servei estar√† disponible el 99,99% del temps."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#kiss-keep-it-simple-stupid",
    "href": "slides/01-foundations-of-systems-administration.html#kiss-keep-it-simple-stupid",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "KISS: Keep It Simple, Stupid",
    "text": "KISS: Keep It Simple, Stupid\nUn sistema simple √©s m√©s f√†cil de mantenir, gestionar i entendre. Per dissenyar un sistema simple, es poden seguir les seg√ºents pautes:\n\nDivideix i vencer√†s: Divideix el sistema en components m√©s petits i senzills\nMinimitza la complexitat: Evita la complexitat innecess√†ria i mant√©n el sistema senzill\nUtilitza est√†ndards: Utilitza est√†ndards i pr√†ctiques comunes per simplificar el disseny\nDocumenta el sistema: Documenta el sistema per facilitar la comprensi√≥ i el manteniment\nAutomatitza les tasques repetitives: Utilitza la automatitzaci√≥ per simplificar les tasques repetitives i reduir els errors humans\n\n\n\n\n\n\n\n\nExemple\n\n\nUn sistema LEGO √©s un exemple de simplicitat, ja que es pot construir gaireb√© qualsevol cosa convinant peces senzilles. Aquesta simplicitat permet als usuaris crear i modificar les seves pr√≤pies creacions sense necessitat de coneixements t√®cnics avan√ßats.\n\n\n\n\n\nKISS √©s una directriu de disseny que destaca la import√†ncia de la simplicitat. Aplicant aquest principi, els sistemes resulten ser m√©s robustos i f√†cils de gestionar, cosa que millora la seva efic√†cia i la satisfacci√≥ de l‚Äôusuari.\nAlgunes pautes per aplicar el principi KISS en el disseny de sistemes s√≥n:\n\nDivideix i vencer√†s: Divideix el sistema en components m√©s petits i senzills, per exemple, en lloc de tenir un gran mon√≤lit, divideix el sistema en microserveis.\nMinimitza la complexitat: Evita la complexitat innecess√†ria i mant√©n el sistema senzill, per exemple, evita l‚Äô√∫s de tecnologies i funcionalitats que no s√≥n necess√†ries.\nUtilitza est√†ndards: Utilitza est√†ndards i pr√†ctiques comunes per simplificar el disseny, per exemple, segueix les pr√†ctiques de codificaci√≥ i disseny recomanades per la comunitat.\nDocumenta el sistema: Documenta el sistema per facilitar la comprensi√≥ i el manteniment, per exemple, crea documentaci√≥ clara i concisa per als desenvolupadors i els usuaris.\nAutomatitza les tasques repetitives: Utilitza la automatitzaci√≥ per simplificar les tasques repetitives i reduir els errors humans, per exemple, automatitza les tasques de desplegament i proves per millorar l‚Äôefici√®ncia i la fiabilitat del sistema.\n\nUn exemple de simplicitat √©s un sistema LEGO, que permet als usuaris construir gaireb√© qualsevol cosa combinant peces senzilles. Aquesta simplicitat permet als usuaris crear i modificar les seves pr√≤pies creacions sense necessitat de coneixements t√®cnics avan√ßats."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#eines-i-tecnologies-m√©s-comuns",
    "href": "slides/01-foundations-of-systems-administration.html#eines-i-tecnologies-m√©s-comuns",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Eines i tecnologies m√©s comuns?",
    "text": "Eines i tecnologies m√©s comuns?\n\nVirtualitzaci√≥: M√†quines Virtuals, Contenidors\nCloud Computing: Infraestructura com a Servei (IaaS), Plataforma com a Servei (PaaS), Software com a Servei (SaaS)\nAutomatitzaci√≥: Ansible, Puppet, Chef\nInfraestructura com a Codi: Terraform, CloudFormation\nMonitoritzaci√≥: Nagios, Zabbix, Prometheus\nCI/CD: Jenkins, GitLab CI\nSeguretat: PfSense, Suricata, Snort\nBases de Dades: MySQL, PostgreSQL, MongoDB\nServeis Web: Apache, Nginx, Tomcat\nOrquestaci√≥ de Contenidors: Kubernetes, Docker Swarm\n\n\nEn el m√≥n de l‚Äôadministraci√≥ de sistemes, hi ha una gran varietat d‚Äôeines i tecnologies que es poden utilitzar per gestionar i mantenir els sistemes inform√†tics. Algunes de les eines i tecnologies m√©s comuns s√≥n:\n\nVirtualitzaci√≥: La virtualitzaci√≥ permet crear m√†quines virtuals i contenidors per a√Øllar i gestionar els recursos del sistema. Aix√≤ permet millorar l‚Äôefici√®ncia i la flexibilitat dels sistemes, ja que es poden crear m√∫ltiples entorns virtuals en un sol servidor f√≠sic.\nCloud Computing: El cloud computing ofereix serveis inform√†tics a trav√©s d‚ÄôInternet, permetent als usuaris accedir a recursos inform√†tics a la demanda. Aix√≤ inclou Infraestructura com a Servei (IaaS), Plataforma com a Servei (PaaS) i Software com a Servei (SaaS).\nAutomatitzaci√≥: L‚Äôautomatitzaci√≥ permet automatitzar tasques repetitives i reduir els errors humans. Algunes eines d‚Äôautomatitzaci√≥ com Ansible, Puppet i Chef permeten gestionar la configuraci√≥ dels servidors de manera eficient.\nInfraestructura com a Codi: L‚Äôinfraestructura com a codi permet gestionar la infraestructura de manera program√†tica, utilitzant codi per definir i gestionar els recursos del sistema. Eines com Terraform i CloudFormation permeten gestionar la infraestructura com a codi.\nMonitoritzaci√≥: La monitoritzaci√≥ permet supervisar l‚Äôestat dels sistemes i identificar problemes abans que afectin el rendiment. Algunes eines de monitoritzaci√≥ com Nagios, Zabbix i Prometheus permeten supervisar els sistemes en temps real.\nCI/CD: La integraci√≥ cont√≠nua (CI) i el desplegament cont√≠nu (CD) permeten automatitzar el proc√©s de desenvolupament i desplegament de codi. Eines com Jenkins i GitLab CI permeten implementar pr√†ctiques de CI/CD.\nSeguretat: La seguretat dels sistemes √©s una preocupaci√≥ important en l‚Äôadministraci√≥ de sistemes. Algunes eines de seguretat com PfSense, Suricata i Snort permeten protegir els sistemes contra atacs i amenaces.\nBases de Dades: Les bases de dades s√≥n essencials per emmagatzemar i gestionar la informaci√≥ dels sistemes. Algunes bases de dades com MySQL, PostgreSQL i MongoDB s√≥n √†mpliament utilitzades en l‚Äôadministraci√≥ de sistemes.\nServeis Web: Els serveis web s√≥n essencials per proporcionar serveis i aplicacions a trav√©s d‚ÄôInternet. Algunes eines com Apache, Nginx i Tomcat permeten gestionar i desplegar serveis web.\nOrquestaci√≥ de Contenidors: L‚Äôorquestaci√≥ de contenidors permet gestionar i coordinar els contenidors en un entorn de contenidors. Eines com Kubernetes i Docker Swarm permeten gestionar i escalar els contenidors de manera eficient."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#virtualitzaci√≥-m√†quines-virtuals",
    "href": "slides/01-foundations-of-systems-administration.html#virtualitzaci√≥-m√†quines-virtuals",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Virtualitzaci√≥ (M√†quines Virtuals)",
    "text": "Virtualitzaci√≥ (M√†quines Virtuals)\n\n\n\n\nEsquema de tipus de virtualitzaci√≥ de m√†quines virtuals\n\n\n\n\nLa virtualitzaci√≥ √©s una tecnologia clau que permet aprofitar millor els recursos d‚Äôun servidor f√≠sic, creant m√∫ltiples m√†quines virtuals (VMs) que funcionen com a entitats independents, cadascuna amb el seu propi sistema operatiu i aplicacions. Aquest enfocament permet millorar l‚Äôefici√®ncia, ja que m√∫ltiples m√†quines virtuals poden compartir un √∫nic servidor f√≠sic, maximitzant l‚Äô√∫s dels recursos disponibles i oferint m√©s flexibilitat a l‚Äôhora de gestionar sistemes. Per exemple, si voleu executar tant Windows com Linux al vostre ordinador per fer proves, podeu crear m√†quines virtuals per a cada sistema operatiu utilitzant programes com VirtualBox o VMware. Aix√≤ us permet treballar amb diferents entorns sense necessitat de tenir diversos ordinadors f√≠sics. A nivell de servidors, aquesta mateixa idea es porta a gran escala: un sol servidor f√≠sic pot tenir m√∫ltiples m√†quines virtuals a√Øllades, cada una amb la seva funci√≥ espec√≠fica. Aix√≤ permet consolidar serveis i maximitzar l‚Äô√∫s de recursos. Per exemple, en una empresa, un sol servidor f√≠sic podria allotjar VMs per a bases de dades, aplicacions web, i sistemes de correu, cadascun funcionant de manera independent.\n\nVirtualitzaci√≥ Nativa: Tamb√© coneguda com a ‚Äúbare-metal‚Äù, en aquest tipus, l‚Äôhipervisor s‚Äôexecuta directament sobre el maquinari f√≠sic sense cap sistema operatiu intermedi. Exemples d‚Äôaquesta tecnologia inclouen VMware ESXi o Microsoft Hyper-V. Aix√≤ ofereix un rendiment molt elevat, ja que no hi ha cap capa addicional entre el maquinari i l‚Äôhipervisor, ideal per a entorns de producci√≥.\nVirtualitzaci√≥ Allotjada: Aqu√≠, l‚Äôhipervisor s‚Äôexecuta sobre un sistema operatiu ja existent. Per exemple, en KVM (Kernel-based Virtual Machine), s‚Äôutilitza Linux com a sistema operatiu base, i sobre aquest es creen les m√†quines virtuals. Aquest enfocament √©s m√©s f√†cil d‚Äôimplementar per√≤ pot sacrificar una mica de rendiment en comparaci√≥ amb la virtualitzaci√≥ nativa.\nParavirtualitzaci√≥: En aquest model, el sistema operatiu convidat sap que est√† sent virtualitzat i coopera amb l‚Äôhipervisor per millorar el rendiment. Un exemple destacat √©s Xen, que √©s molt utilitzat en entorns cloud per la seva efici√®ncia. Aquest tipus de virtualitzaci√≥ pot oferir un rendiment proper al de la virtualitzaci√≥ nativa, per√≤ amb m√©s flexibilitat.\nVirtualitzaci√≥ Assistida per Hardware: Aquest model aprofita les capacitats del processador per accelerar el proc√©s de virtualitzaci√≥. Processadors moderns com els d‚ÄôIntel (VT-x) o AMD (AMD-V) ofereixen suport per a aquest tipus de virtualitzaci√≥, que √©s utilitzat per tecnologies com VMware o Hyper-V."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#ansible",
    "href": "slides/01-foundations-of-systems-administration.html#ansible",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Ansible",
    "text": "Ansible\nAnsible √©s una eina d‚Äôautomatitzaci√≥ de la configuraci√≥ i gesti√≥ de sistemes. Utilitza un llenguatge senzill basat en YAML per definir les tasques i la configuraci√≥ dels sistemes, i utilitza SSH per connectar-se als servidors i executar les tasques.\n\n\n- hosts: webservers\n  tasks:\n    - name: Install Apache\n      apt:\n        name: apache2\n        state: present\n    - name: Start Apache\n      service:\n        name: apache2\n        state: started\n\nhosts:\n  webservers:\n    - web1.example.com\n    - web2.example.com\n    - web3.example.com\n\n\nAnsible √©s una eina d‚Äôautomatitzaci√≥ que ens permet gestionar la configuraci√≥ dels servidors de manera eficient i fiable. Per exemple, si necessitem instal¬∑lar un servidor web a 10.000 servidors, en lloc de fer-ho manualment en cada servidor, podem utilitzar Ansible per automatitzar aquesta tasca. Amb aquest script indiquem les tasques ha realitzar instal¬∑lar apache i aixecar el servei. I en el fitxer de hosts indiquem els servidors on volem realitzar aquestes tasques."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-el-cloud-computing",
    "href": "slides/01-foundations-of-systems-administration.html#qu√®-√©s-el-cloud-computing",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Qu√® √©s el Cloud Computing?",
    "text": "Qu√® √©s el Cloud Computing?\nLliurament de recursos sota demanda, incloent servidors, emmagatzematge, bases de dades, programari, anal√≠tica, i m√©s, a trav√©s d‚Äôinternet amb un model de pagament per √∫s.\n\n\n\n\nPizza as a service\n\n\n\n\nEl cloud computing es refereix al lliurament sota demanda de serveis inform√†tics, incloent servidors, emmagatzematge, bases de dades, programari, anal√≠tica, i molt m√©s, a trav√©s d‚Äôinternet amb un model de pagament per √∫s.\nAquests recursos s‚Äôexecuten en servidors ubicats en grans centres de dades arreu del m√≥n. Els usuaris poden accedir-hi de manera remota des de qualsevol lloc amb connexi√≥ a internet. En lloc de posseir i mantenir la seva pr√≤pia infraestructura, els usuaris i empreses poden llogar serveis des d‚Äôaplicacions fins a emmagatzematge d‚Äôun prove√Ødor de serveis al n√∫vol. Els recursos es poden combinar com peces de LEGO per crear solucions a mida de les necessitats.\nAquest model ha perm√®s l‚Äôevoluci√≥ de l‚Äôadministraci√≥ de sistemes a un nivell superior, permetent als usuaris centrar-se en el desenvolupament d‚Äôaplicacions i serveis sense haver de preocupar-se de la infraestructura subjacents."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#amazon-web-services",
    "href": "slides/01-foundations-of-systems-administration.html#amazon-web-services",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Amazon Web Services",
    "text": "Amazon Web Services\n\n\n\n\nAmazon Web Services (AWS) √©s un prove√Ødor de serveis de computaci√≥ en n√∫vol que ofereix una √†mplia gamma de serveis, incloent servidors virtuals, emmagatzematge, bases de dades, anal√≠tica, seguretat, i molt m√©s. AWS permet als usuaris i empreses llogar recursos inform√†tics a trav√©s d‚Äôinternet, oferint una plataforma flexible i escalable per a la implementaci√≥ d‚Äôaplicacions en n√∫vol. Altres prove√Ødors de serveis en n√∫vol inclouen Microsoft Azure, Google Cloud Platform, IBM Cloud, i Oracle Cloud, per√≤ en aquest curs utilitzarem AWS per raons de popularitat i disponibilitat de recursos."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#cloudformation",
    "href": "slides/01-foundations-of-systems-administration.html#cloudformation",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "CloudFormation",
    "text": "CloudFormation\nCloudFormation √©s un servei d‚ÄôAWS que permet als desenvolupadors definir i desplegar la infraestructura de manera program√†tica mitjan√ßant codi.\nResources:\n  MyInstance:\n    Type: AWS::EC2::Instance\n    Properties:\n      ImageId: ami-0c55b159cbfafe1f0\n      InstanceType: t2.micro\n      KeyName: my-key-pair\n      SecurityGroups:\n        - my-security-group\n\nAWS CloudFormation √©s un servei que permet als desenvolupadors definir i desplegar la infraestructura de manera program√†tica mitjan√ßant codi. Aquest codi es defineix en plantilles de CloudFormation, que descriuen els recursos necessaris per a la infraestructura, com ara inst√†ncies EC2, grups de seguretat, taules de rutes, ‚Ä¶, En aquest exemple, es defineix una inst√†ncia EC2 amb una imatge AMI, un tipus d‚Äôinst√†ncia, una clau SSH, i un grup de seguretat. Un cop es defineix la plantilla, es pot desplegar la infraestructura amb un sol clic o una sola comanda, automatitzant aix√≠ el proc√©s de desplegament i garantint la consist√®ncia de la infraestructura."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#virtualitzaci√≥-contenidors",
    "href": "slides/01-foundations-of-systems-administration.html#virtualitzaci√≥-contenidors",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Virtualitzaci√≥ (Contenidors)",
    "text": "Virtualitzaci√≥ (Contenidors)\n\n\n\n\nEsquema de tipus de virtualitzaci√≥ de contenidors (Docker)\n\n\n\n\nLa virtualitzaci√≥ de contenidors √©s una tecnologia que permet als desenvolupadors empaquetar aplicacions i les seves depend√®ncies en un contenidor lleuger i port√†til que pot ser executat en qualsevol sistema que tingui un motor de contenidors. Aquest enfocament permet als desenvolupadors crear, distribuir i executar aplicacions de manera eficient i fiable, ja que els contenidors s√≥n autosuficients i a√Øllats de l‚Äôentorn d‚Äôexecuci√≥. A m√©s, els contenidors s√≥n lleugers i port√†tils, el que facilita la seva distribuci√≥ i execuci√≥ en entorns diversos.\nPer exemple, Docker o containerd s√≥n motors de contenidors que permeten als desenvolupadors crear i executar contenidors lleugers i port√†tils. Aquests contenidors poden contenir aplicacions, serveis o microserveis, i es poden executar en qualsevol sistema que tingui un motor de contenidors instal¬∑lat. Aix√≤ permet als desenvolupadors crear, distribuir i executar aplicacions de manera eficient i fiable, ja que els contenidors s√≥n autosuficients i a√Øllats de l‚Äôentorn d‚Äôexecuci√≥.\nLa principal difer√®ncia entre la virtualitzaci√≥ de m√†quines virtuals i la virtualitzaci√≥ de contenidors √©s el nivell d‚Äôabstracci√≥. Mentre que les m√†quines virtuals virtualitzen tota una m√†quina f√≠sica, incloent el sistema operatiu, els contenidors virtualitzen nom√©s l‚Äôaplicaci√≥ i les seves depend√®ncies, compartint el mateix nucli del sistema operatiu hoste. Aix√≤ fa que els contenidors siguin m√©s lleugers i port√†tils que les m√†quines virtuals, i permet als desenvolupadors crear i executar aplicacions de manera m√©s eficient i fiable."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#kubernetes",
    "href": "slides/01-foundations-of-systems-administration.html#kubernetes",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "Kubernetes",
    "text": "Kubernetes\n\n\n\n\nKubernetes\n\n\n\n\nKubernetes √©s una plataforma de codi obert per a la gesti√≥ d‚Äôaplicacions en contenidors. Permet als desenvolupadors automatitzar el desplegament, l‚Äôescalat i la gesti√≥ d‚Äôaplicacions en contenidors, oferint una plataforma flexible i escalable per a la implementaci√≥ d‚Äôaplicacions en entorns de producci√≥. Es basa en una arquitectura de m√†ster i nodes, on el m√†ster √©s responsable de la gesti√≥ i control del cl√∫ster, mentre que els nodes s√≥n els servidors on s‚Äôexecuten les aplicacions en contenidors. Requereix de diferents xarxes (com xarxa de control, xarxa de pod, xarxa de servei) per a la comunicaci√≥ entre els components del cl√∫ster, a m√©s necessita serveis de descobriment de serveis (com etcd) per a la gesti√≥ de la configuraci√≥ i l‚Äôestat del cl√∫ster, controladors de xarxa (com Flannel) per a la comunicaci√≥ entre els nodes, i controladors de volums (com Rook) per a la gesti√≥ de l‚Äôemmagatzematge persistent, un planificador (com kube-scheduler) per a la programaci√≥ de les tasques, i un controlador de replicaci√≥ (com kube-controller-manager) per a la gesti√≥ de la replicaci√≥ de les aplicacions i sobretot el kubelet, que √©s l‚Äôagent que s‚Äôexecuta en cada node i √©s responsable de la gesti√≥ dels contenidors en el node. Com veieu, Kubernetes √©s una plataforma complexa que requereix una configuraci√≥ i gesti√≥ adequades per a garantir el seu funcionament correcte."
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#thats-all",
    "href": "slides/01-foundations-of-systems-administration.html#thats-all",
    "title": "Fonaments de l‚ÄôAdministraci√≥ de Sistemes",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nUn administrador de sistemes combina habilitats de bomber i investigador: ha de solucionar problemes de manera r√†pida i efectiva, per√≤ tamb√© anticipar-se i prevenir-ne de futurs abans que esdevinguin cr√≠tics. Aquesta tasca √©s complexa i diversa, abastant des de la gesti√≥ de cables i servidors f√≠sics fins a l‚Äôadministraci√≥ de pods i sistemes autom√†tics sense servidor (serverless)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-i",
    "href": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-i",
    "title": "Sistema de fitxers (I)",
    "section": "Necessitat d‚Äôun Sistema de Fitxers (I)",
    "text": "Necessitat d‚Äôun Sistema de Fitxers (I)\nLa implementaci√≥ d‚Äôun Sistema de Fitxers (FS) √©s essencial per a l‚Äôorganitzaci√≥, emmagatzematge i recuperaci√≥ eficient de la informaci√≥ en qualsevol sistema operatiu modern.\n\n\n\n\n\n\n\nObservaci√≥\n\n\nEn els sistemes operatius moderns (UNIX-like), el seu rol s‚Äôest√©n molt m√©s enll√† de la gesti√≥ de dades persistents al disc, abracant una filosofia fonamental.\n\n\n\n\n\nEverything is a File"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-ii",
    "href": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-ii",
    "title": "Sistema de fitxers (I)",
    "section": "Necessitat d‚Äôun Sistema de Fitxers (II)",
    "text": "Necessitat d‚Äôun Sistema de Fitxers (II)\n\n\n\n\n\n\n\n\nTipus de Recurs\nExemple de Path\nSistema de Fitxers\n\n\n\n\nProc√©s/Estat del Kernel\n/proc/PID (p.¬†ex., /proc/1234/status)\nprocfs (Mem√≤ria, no disc)\n\n\nDispositiu de Blocs\n/dev/sda1\ndevfs o udev\n\n\nPunts de Configuraci√≥\n/etc/hosts, /usr/bin/comando\nFS persistent (Ext4, XFS)\n\n\nDades d‚ÄôUsuari\n/home/username/documents\nFS persistent\n\n\nXarxa\n/dev/tcp/80 (en certs entorns, e.g., Plan 9)\n√ös de Sockets com a File Descriptors\n\n\n\n\n\n\n\n\n\n\nAvantatge\n\n\nLa implementaci√≥ d‚Äôun sistema de fitxers permet unificar l‚Äôacc√©s a recursos heterogenis. El kernel pot tractar una E/S a /dev/sda1 (blocs f√≠sics) i una E/S a /proc/cpuinfo (informaci√≥ virtual) utilitzant la mateixa API. API."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#dispositius-i-device-files",
    "href": "slides/03-filesystem-part1.html#dispositius-i-device-files",
    "title": "Sistema de fitxers (I)",
    "section": "Dispositius i Device Files",
    "text": "Dispositius i Device Files\nUn Fitxer de Dispositiu (Device File o Node) √©s un nom assignat a un dispositiu d‚ÄôE/S (Entrada/Sortida), ja sigui f√≠sic (disc, targeta de so) o l√≤gic (port de xarxa, terminal).\n\n\n\n\n\n\n\n\nTipus de Dispositiu\nExemples Comuns\nCaracter√≠stica\n\n\n\n\nBlocs (Block Devices)\n/dev/sda (Disc sencer), /dev/sdb1 (Partici√≥), /dev/md0 (RAID)\nTransfereixen dades en blocs de mida fixa. S√≥n cachejables i permeten acc√©s aleatori.\n\n\nCar√†cters (Character Devices)\n/dev/ttyX (Terminals), /dev/lp0 (Port Paral¬∑lel), /dev/input/mouse0\nTransfereixen dades seq√ºencialment car√†cter a car√†cter. No tenen caching de blocs.\n\n\n\nEls drivers √©s el conjunt de rutines del kernel que defineix com s‚Äôha de dur a terme la comunicaci√≥ espec√≠fica amb el Hardware mitjan√ßant interrupcions, acc√©s directe a mem√≤ria (DMA) i E/S programada. Sense el driver, el fitxer a /dev seria in√∫til."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#virtual-filesystem-switch-vfs",
    "href": "slides/03-filesystem-part1.html#virtual-filesystem-switch-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Virtual Filesystem Switch (VFS)",
    "text": "Virtual Filesystem Switch (VFS)\nUn Sistema de Fitxers (FS) √©s la capa l√≤gica fonamental que gestiona l‚Äôacc√©s i l‚Äôorganitzaci√≥ dels objectes (fitxers i directoris) sobre un dispositiu d‚Äôemmagatzematge.\n\n\n\n\n\n\n\nM√∫ltiples FS actius\n\n\n√âs habitual que un sistema operatiu gestioni simult√†niament diverses inst√†ncies de sistemes de fitxers diferents:\n\nExt4 per a dades d‚Äôusuari (/home)\nBtrfs per a backups autom√†tics\ntmpfs per a fitxers temporals (/tmp)\nprocfs per a informaci√≥ del kernel (/proc)\n\nCadascun muntat en un punt d‚Äôacc√©s l√≤gic diferent."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#abstraccions-comunes-del-vfs",
    "href": "slides/03-filesystem-part1.html#abstraccions-comunes-del-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Abstraccions Comunes del VFS",
    "text": "Abstraccions Comunes del VFS\nTot i les difer√®ncies estructurals a nivell de disc, el VFS (Virtual Filesystem Switch) del kernel utilitza abstraccions uniformes per oferir una interf√≠cie consistent als processos.\n\n\n\n\n\n\n\n\n\nAbstracci√≥\nUbicaci√≥\nFunci√≥ T√®cnica\nPersist√®ncia\n\n\n\n\nSuperbloc\nDisc + Mem√≤ria\nCont√© metadata global del FS: tipus, mida, estat, punters clau\nPersistent\n\n\nInode\nDisc + Mem√≤ria\nMetadata del fitxer: permisos, timestamps, punters a blocs de dades\nPersistent\n\n\nDentry\nNom√©s Mem√≤ria\nEntrada de Directori: cacheja nom del fitxer ‚ÜîÔ∏é inode\nTemporal\n\n\nFile Object\nNom√©s Mem√≤ria\nRepresenta un fitxer obert per un proc√©s (file descriptors)\nTemporal\n\n\n\nPermet que un programa pugui treballar amb fitxers Ext4, XFS, NTFS o FAT32 sense modificar ni una sola l√≠nia de codi."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#jerarquia-l√≤gica-de-les-abstraccions",
    "href": "slides/03-filesystem-part1.html#jerarquia-l√≤gica-de-les-abstraccions",
    "title": "Sistema de fitxers (I)",
    "section": "Jerarquia L√≤gica de les Abstraccions",
    "text": "Jerarquia L√≤gica de les Abstraccions\nPer entendre com el kernel mapeja un nom de fitxer a les dades, visualitzem la interacci√≥ entre les estructures in-memory i on-disk.\n\n\n\n\n\nclassDiagram\n    direction LR\n    \n    class Superbloc {\n        &lt;&lt;On-Disk i In-Memory&gt;&gt;\n        + Tipus FS (Ext4, XFS)\n        + Mida del Volum\n        + Punter a llistes d'Inodes Lliures\n    }\n\n    class Inode {\n        &lt;&lt;On-Disk i In-Memory&gt;&gt;\n        + Num Inode √önic\n        + Pointers a Blocs de Dades\n        + Permisos/ACLs\n        + UID/GID, Timestamps\n    }\n\n    class Dentry {\n        &lt;&lt;In-Memory Cache&gt;&gt;\n        + Nom del Fitxer/Directori\n        + Punter a Inode\n        + Punter al Dentry Pare\n    }\n\n    class FileObject {\n        &lt;&lt;In-Memory&gt;&gt;\n        + File Descriptor FD\n        + Offset de Lectura/Escriptura Actual\n        + Punter a Dentry (Path)\n    }\n\n    Superbloc \"1\" --&gt; \"*\" Inode : Gestiona\n    Dentry \"1\" --&gt; \"1\" Inode : Caching ¬∑ Nom -&gt; Metadata\n    FileObject \"1\" --&gt; \"1\" Dentry : Resoluci√≥ de Path\n    Inode \"1\" --&gt; \"*\" DataBlocks : Adre√ßament\n    \n    %% Colors per a claredat t√®cnica\n    classDef memory fill:#eaf7ff,stroke:#007bff\n    classDef disk fill:#f9f5dd,stroke:#c4aa18\n    class Dentry\n    FileObject memory\n    class Inode\n    Superbloc disk\n\n\n\n\n\n\n\n\n\n\n\n\n\nImpacte del Dentry\n\n\nUna Dentry Cache saturada o poc eficient pot degradar significativament el rendiment del sistema (I/O latency), ja que el kernel es veu for√ßat a re-llegir l‚Äôestructura de directoris directament del disc.\n\n\n\n\n\n\nFileObject: Un proc√©s obre un fitxer, creant un FileObject amb un File Descriptor.\nDentry (Cache): El FileObject resol el cam√≠ a trav√©s d‚Äôuna cadena de Dentries (des de la muntura fins al fitxer final). El Dentry proporciona l‚Äôassociaci√≥ Nom ‚Üí Inode.\nInode: El n√∫mero d‚ÄôInode permet al VFS carregar les metadades on-disk a mem√≤ria. Aquesta estructura cont√© els punters directes i indirectes als blocs de dades."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#relacions-in-memory-del-vfs",
    "href": "slides/03-filesystem-part1.html#relacions-in-memory-del-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Relacions In-Memory del VFS",
    "text": "Relacions In-Memory del VFS\n\nM√∫ltiples descriptors de fitxer poden apuntar al mateix fitxer (dup()).\nM√∫ltiples abstraccions de fitxer poden apuntar a la mateixa Dentry (obrim el mateix path diverses vegades).\nM√∫ltiples Dentries poden apuntar al mateix Inode (Hard Links)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#el-superbloc",
    "href": "slides/03-filesystem-part1.html#el-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "El Superbloc",
    "text": "El Superbloc\nEl Superbloc √©s el punt de refer√®ncia absolut de qualsevol Sistema de Fitxers (FS). Sense aquesta estructura, el kernel no pot ni tan sols intentar muntar el volum.\n\n\n\n\n\n\n\nAv√≠s\n\n\nSi el Superbloc es corromp (per un error de disc o d‚ÄôE/S), el sistema de fitxers esdev√© inaccessible fins que es restaura una de les seves c√≤pies de seguretat (backup copies).\n\n\n\n\nPer aquest motiu, els FS moderns mantenen m√∫ltiples c√≤pies del superbloc distribu√Ødes pel volum."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#organitzaci√≥-f√≠sica-del-superbloc",
    "href": "slides/03-filesystem-part1.html#organitzaci√≥-f√≠sica-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Organitzaci√≥ F√≠sica del Superbloc",
    "text": "Organitzaci√≥ F√≠sica del Superbloc\n\n\nEl diagrama mostra que el superbloc es troba t√≠picament a l‚Äôinici del sistema de fitxers i que hi ha diversos blocs utilitzats amb diferents prop√≤sits: alguns per emmagatzemar dentries, alguns per emmagatzemar inodes i alguns per emmagatzemar blocs de dades d‚Äôusuari. Tamb√© hi ha blocs utilitzats per gestionar els blocs lliures disponibles (p.¬†ex., mapes de bits per als sistemes de fitxers simples)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#abstraccions-del-superbloc",
    "href": "slides/03-filesystem-part1.html#abstraccions-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Abstraccions del Superbloc",
    "text": "Abstraccions del Superbloc\n\n\n\n\n\n\n\n\nComponent\nFunci√≥\nUbicaci√≥\n\n\n\n\nSuperbloc\nCont√© la metadata global del FS: tipus, mida, estat, i punters clau.\nInici del FS (i c√≤pies de seguretat).\n\n\nIMAP (Inode Map)\nBitmap per a l‚Äôassignaci√≥ i desassignaci√≥ d‚ÄôInodes. Indica quins Inodes estan lliures o en √∫s dins de la IZONE.\nBloc(s) assignat(s) pel Superbloc.\n\n\nDMAP (Data Map)\nBitmap per a l‚Äôassignaci√≥ i desassignaci√≥ de Blocs de Dades. Indica quins blocs de la DZONE estan lliures o en √∫s.\nBloc(s) assignat(s) pel Superbloc.\n\n\nIZONE\n√Ärea que cont√© les estructures d‚ÄôInode dels fitxers.\nDespr√©s dels mapes.\n\n\nDZONE\n√Ärea que cont√© les dades d‚Äôusuari (el contingut real dels fitxers).\nDespr√©s de la IZONE."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#estructura-i-implementaci√≥-del-superbloc",
    "href": "slides/03-filesystem-part1.html#estructura-i-implementaci√≥-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Estructura i Implementaci√≥ del Superbloc",
    "text": "Estructura i Implementaci√≥ del Superbloc\nEl Superbloc no nom√©s s‚Äôautodefineix, sin√≥ que defineix l‚Äôarquitectura de tota la partici√≥:\n\nfs_type: El tipus de FS (p.¬†ex., EXT4_MAGIC).\ns_blocks_count: El nombre total de blocs al FS.\ns_log_block_size: Defineix la mida del bloc l√≤gic (p.¬†ex., 1K, 4K). Tota la I/O es fa en aquesta unitat.\nPunters a Bitmaps: Adreces del primer bloc de l‚ÄôIMAP i el DMAP.\nEstat del FS: Indica si el FS va ser desmuntat netament o si va patir un crash (s_state - important per al fsck)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#mapes-de-bits-bitmaps",
    "href": "slides/03-filesystem-part1.html#mapes-de-bits-bitmaps",
    "title": "Sistema de fitxers (I)",
    "section": "Mapes de Bits (Bitmaps)",
    "text": "Mapes de Bits (Bitmaps)\nEls mapes de bits s√≥n crucials per a l‚Äôefici√®ncia en l‚Äôassignaci√≥:\n\nIMAP (Inode Bitmap): Cada bit representa l‚Äôestat d‚Äôun √∫nic Inode a la IZONE. 1 = En √∫s, 0 = Lliure.\nDMAP (Data Bitmap): Cada bit representa l‚Äôestat d‚Äôun √∫nic bloc a la DZONE. 1 = Ocupat per dades, 0 = Lliure per assignaci√≥.\n\n\n\n\n\n\n\nOptimitzaci√≥ (Caching)\n\n\nQuan el FS es munta, el kernel carrega el Superbloc i, almenys parcialment, els mapes IMAP i DMAP a la mem√≤ria. Aix√≤ permet que les noves assignacions de fitxers i blocs siguin extremadament r√†pides sense requerir una E/S de disc constant.\n\n\n\n\n\n\n\n\n\n\nFS Grans\n\n\nEs carreguen parcialment i a demanda per no gastar massa mem√≤ria en FS grans."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#mapping-crides-de-sistema-vfs",
    "href": "slides/03-filesystem-part1.html#mapping-crides-de-sistema-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Mapping: Crides de Sistema ‚Üí VFS",
    "text": "Mapping: Crides de Sistema ‚Üí VFS\n\n\n\n\n\n\n\n\n\n\nCrida al Sistema\nOperaci√≥ VFS\nDescripci√≥\n\n\n\n\nmount()\nvfs_mount()\nMuntar un FS.\n\n\nopen()\nvfs_open()\nObrir un fitxer (i obtenir un FD).\n\n\nstat() / fstat()\nvfs_stat() / vfs_fstat()\nConsultar atributs del fitxer.\n\n\nread() / write()\nvfs_read() / vfs_write()\nLlegir o escriure dades.\n\n\ncreate() / delete()\nvfs_create() / vfs_unlink()\nCrear i eliminar fitxers.\n\n\nclose()\nvfs_close()\nTancar un fitxer\n\n\n\n\nEl VFS √©s l‚Äôabstracci√≥ de Linux que permet gestionar m√∫ltiples tipus de FS (Ext4, XFS, NTFS) de manera transparent.\n\n\n\n\n\ngraph TD\n    A[Crida al Sistema open, read] --&gt; B{VFS};\n    B --&gt;|Operaci√≥ abstracta| C1[Driver FS Espec√≠fic Ext4];\n    B --&gt;|Operaci√≥ abstracta| C2[Driver FS Espec√≠fic XFS];\n    C1 --&gt; D[Subsistema d'Emmagatzematge E/S];\n    C2 --&gt; D;\n    \n    style B fill:#eaf7ff,stroke:#007bff\n    style C1 fill:#f9f5dd,stroke:#c4aa18\n    style C2 fill:#f9f5dd,stroke:#c4aa18"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#montatge-dun-fs",
    "href": "slides/03-filesystem-part1.html#montatge-dun-fs",
    "title": "Sistema de fitxers (I)",
    "section": "Montatge d‚Äôun FS",
    "text": "Montatge d‚Äôun FS\n# Sintaxi: mount -t &lt;fs_type&gt; &lt;device&gt; &lt;mount_point&gt;\nmount -t ext4 /dev/nvme0n1p2 /home\nmount -t btrfs /dev/sdb1 /backup\nmount -t tmpfs -o size=1G tmpfs /tmp/ramdisk\n\n\n\n\n\n\n\n\nPas\nDescripci√≥\nImplicaci√≥\n\n\n\n\n1. Entrada/Sortida\nInput: Dispositiu de blocs (Partici√≥). Output: Dentry arrel del FS.\n\n\n\n2. Check Device\nValidaci√≥ de l‚Äôestructura inicial del FS.\n\n\n\n3. Llegir Superbloc\nDeterminar par√†metres (mida de bloc, magic number). Carregar el Superbloc a mem√≤ria.\nCr√≠tic: Estableix el context global.\n\n\n4. Crear Inode i Dentry\nLocalitzar el Root Inode (e.g., inode 2 a Ext4) i crear l‚Äôestructura Dentry arrel a la mem√≤ria.\nInici de la navegaci√≥ l√≤gica."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#obertura-dun-fitxer",
    "href": "slides/03-filesystem-part1.html#obertura-dun-fitxer",
    "title": "Sistema de fitxers (I)",
    "section": "Obertura d‚Äôun Fitxer",
    "text": "Obertura d‚Äôun Fitxer\n\n\n\n\n\nsequenceDiagram \n    participant P as Proc√©s\n    participant VFS as VFS (Kernel)\n    participant FS as Driver de FS (read_inode)\n\n    P-&gt;&gt;VFS: open -&gt; /a/b/fitxer.txt \n    VFS-&gt;&gt;VFS: 1. Per cada component a, b, fitxer.txt:\n    VFS-&gt;&gt;VFS: Resoldre Dentry Pare (Cache)\n    VFS-&gt;&gt;FS: 2. Carregar Inode si no est√† en cache (via Num. Inode)\n    VFS-&gt;&gt;VFS: 3. Final: Crear nou **FILE OBJECT**\n    VFS-&gt;&gt;P: 4. Assignar **File Descriptor** (FD)"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#consultar-atributs",
    "href": "slides/03-filesystem-part1.html#consultar-atributs",
    "title": "Sistema de fitxers (I)",
    "section": "Consultar Atributs",
    "text": "Consultar Atributs\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant VFS as VFS (Kernel)\n    participant FS as Driver de FS (read_inode)\n    P-&gt;&gt;VFS: stat -&gt; fitxer.txt o fstat -&gt; FD\n    VFS-&gt;&gt;VFS: 1. Acc√©s a l'Inode via FD\n    VFS-&gt;&gt;FS: 2. Si no est√† en cache, llegir Inode del disc\n    FS--&gt;&gt;VFS: 3. Retornar Atributs\n    VFS--&gt;&gt;P: 4. Retornar Atributs UID, GID, Permisos, Mida, Timestamps"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-de-lectura",
    "href": "slides/03-filesystem-part1.html#operacions-de-lectura",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions de Lectura",
    "text": "Operacions de Lectura\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant VFS as VFS \n    participant FS as Driver de FS ¬∑ read\n    P-&gt;&gt;VFS: read -&gt; FD, buf, len\n    VFS-&gt;&gt;VFS: 1. Validar FD i permisos\n    VFS-&gt;&gt;VFS: 2. Calcular blocs a llegir -&gt; offset, len\n    VFS-&gt;&gt;FS: 3. Llegir dades file-&gt;dentry-&gt;inode-&gt;data blocks\n    FS--&gt;&gt;VFS: 4. Retornar dades a VFS\n    VFS--&gt;&gt;P: 5. Copiar dades a l'espai d'usuari"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-descriptura",
    "href": "slides/03-filesystem-part1.html#operacions-descriptura",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions d‚ÄôEscriptura",
    "text": "Operacions d‚ÄôEscriptura\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant VFS as VFS\n    participant PC as Page Cache\n    participant FS as Driver FS\n    participant J as Journal\n    participant BD as Block Device\n\n    P-&gt;&gt;VFS: write -&gt; fd=5, buffer, 4096\n    VFS-&gt;&gt;VFS: Validar FD i permisos d'escriptura\n    VFS-&gt;&gt;VFS: Calcular nous blocs necessaris\n    \n    alt Fitxer necessita cr√©ixer\n        VFS-&gt;&gt;FS: Assignar nous blocs de dades\n        FS-&gt;&gt;FS: Actualizar bitmaps i inode\n        FS-&gt;&gt;J: Registrar transacci√≥ al journal\n    end\n    \n    VFS-&gt;&gt;PC: Escriure dades a la page cache ¬∑ dirty pages\n    VFS--&gt;&gt;P: Retornar bytes escrits \n    \n    Note over PC,BD: Writeback as√≠ncron \n    PC-&gt;&gt;BD: Flush dirty pages al disc\n    J-&gt;&gt;BD: Commit transacci√≥ journal"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#escriptura-as√≠ncrona-i-writeback",
    "href": "slides/03-filesystem-part1.html#escriptura-as√≠ncrona-i-writeback",
    "title": "Sistema de fitxers (I)",
    "section": "Escriptura As√≠ncrona i Writeback",
    "text": "Escriptura As√≠ncrona i Writeback\nLa escriptura as√≠ncrona permet que les operacions d‚Äôescriptura es realitzin en segon pla, millorant la resposta del sistema. Les dades es desplacen a la page cache i es poden escriure al disc m√©s tard.\n\nDirty Pages: P√†gines a la mem√≤ria que han estat modificades per√≤ encara no s‚Äôhan escrit al disc.\nWriteback: Proc√©s de transferir les dirty pages de la mem√≤ria al disc.\nJournaling: Mecanisme per assegurar la integritat del FS en cas de fallada durant el writeback.\nFlush: Operaci√≥ per escriure immediatament les dirty pages al disc."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#creaci√≥-de-directoris",
    "href": "slides/03-filesystem-part1.html#creaci√≥-de-directoris",
    "title": "Sistema de fitxers (I)",
    "section": "Creaci√≥ de Directoris",
    "text": "Creaci√≥ de Directoris\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant VFS as VFS\n    participant FS as Driver de FS ¬∑ mkdir\n    P-&gt;&gt;VFS: mkdir -&gt; /a/b/novedirectori\n    VFS-&gt;&gt;VFS: 1. Resoldre Dentry Pare -&gt; /a/b -&gt; Determinar Inode Pare\n    VFS-&gt;&gt;VFS: 2. Llegir blocs de dades del directori pare ¬∑ Trobar espai per a nova Dentry\n    VFS-&gt;&gt;FS: 4. Crear nou Inode per al directori\n    FS--&gt;&gt;VFS: 5. Retornar Num. Inode\n    VFS-&gt;&gt;VFS: 6. Afegir Dentry al directori par ¬∑ Escriure els blocs de dades del directori pare modificats\n    VFS--&gt;&gt;P: 8. Retornar √®xit o error"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#eliminaci√≥-de-fitxers",
    "href": "slides/03-filesystem-part1.html#eliminaci√≥-de-fitxers",
    "title": "Sistema de fitxers (I)",
    "section": "Eliminaci√≥ de Fitxers",
    "text": "Eliminaci√≥ de Fitxers\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant VFS as VFS\n    participant FS as Driver de FS ¬∑ unlink\n    P-&gt;&gt;VFS: unlink -&gt; /a/b/fitxer.txt\n    VFS-&gt;&gt;VFS: 1. Resoldre Dentry Pare -&gt; /a/b -&gt; Determinar Inode Pare\n    VFS-&gt;&gt;VFS: 2. Llegir blocs de dades del directori pare ¬∑ Trobar i esborrar la Dentry\n    VFS-&gt;&gt;VFS: 4. Comprovar enlla√ßos -&gt; Si √©s l'√∫ltim enlla√ß, desassignar blocs de dades i blocs d'inode\n    VFS-&gt;&gt;FS: 6. Actualitzar metadades al disc\n    FS--&gt;&gt;VFS: 7. Confirmaci√≥ d'actualitzaci√≥\n    VFS--&gt;&gt;P: 8. Retornar √®xit o error"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#superbloc-i-operacions-dinode",
    "href": "slides/03-filesystem-part1.html#superbloc-i-operacions-dinode",
    "title": "Sistema de fitxers (I)",
    "section": "Superbloc i Operacions d‚ÄôInode",
    "text": "Superbloc i Operacions d‚ÄôInode\nEl VFS (Virtual Filesystem Switch) estableix dos conjunts d‚Äôoperacions que el driver de cada Sistema de Fitxers ha d‚Äôimplementar. Aquests m√®todes permeten al kernel interactuar amb les metadades de forma uniforme.\n\n\n\n\n\n\n\n\nOperaci√≥\nFunci√≥ T√®cnica\nProp√≤sit\n\n\n\n\nfill_super()\nLlegeix l‚Äôestat global del FS (total/lliure d‚ÄôInodes i Blocs).\nInicialitzaci√≥ i muntatge.\n\n\nwrite_super()\nPersisteix les estad√≠stiques i l‚Äôestat actualitzat al disc.\nCanvis en l‚Äôassignaci√≥.\n\n\nput_super()\nAllibera la mem√≤ria associada a la inst√†ncia del FS.\nDesmuntatge (umount)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-de-linode",
    "href": "slides/03-filesystem-part1.html#operacions-de-linode",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions de l‚ÄôInode",
    "text": "Operacions de l‚ÄôInode\nMalgrat el nom, la majoria d‚Äôaquestes operacions tracten amb la gesti√≥ de les Dentries i la jerarquia de noms de fitxer (no el contingut de l‚ÄôInode en si).\n\nCreaci√≥ i Cerca: create, lookup, link, unlink.\nDirectori i Enlla√ßos: mkdir, rmdir, symlink, readlink, rename.\n\n\n\n\n\n\n\n\nTipus d‚ÄôInode\n\n\nEls drivers de FS treballen amb dos tipus d‚ÄôInode:\n\nVFS Inode: Estructura gen√®rica utilitzada pel kernel.\nFS Inode: Estructura interna del driver (p.¬†ex., la versi√≥ Ext4 o XFS).\n\nEl driver √©s responsable de la conversi√≥ entre aquestes dues estructures segons sigui necessari."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-dinodes-icache",
    "href": "slides/03-filesystem-part1.html#cache-dinodes-icache",
    "title": "Sistema de fitxers (I)",
    "section": "Cache d‚ÄôInodes (Icache)",
    "text": "Cache d‚ÄôInodes (Icache)\nAquesta cache emmagatzema les metadades del fitxer a mem√≤ria (l‚Äôestructura de l‚ÄôInode), evitant lectures repetitives a la IZONE del disc.\n\nEstructura: S‚Äôindexa mitjan√ßant una Taula Hash (hash table).\nClau Hash: Es genera a partir de la tupla (Superbloc, N√∫mero d‚ÄôInode).\nPol√≠tica: Els Inodes es mantenen fins que el FS es desmunta, s‚Äôelimina el fitxer, o hi ha pressi√≥ de mem√≤ria (memory pressure)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-de-dentries",
    "href": "slides/03-filesystem-part1.html#cache-de-dentries",
    "title": "Sistema de fitxers (I)",
    "section": "Cache de Dentries",
    "text": "Cache de Dentries\nLa Dcache √©s l‚Äôeina m√©s important per a la resoluci√≥ r√†pida de camins (path lookup). Cacheja la relaci√≥ Nom \\(\\rightarrow\\) Inode.\n\n\n\n\n\n\n\nEstat de la Dentry\nImplicaci√≥ T√®cnica\n\n\n\n\nUsed\nL‚Äôobjecte est√† en √∫s (p.¬†ex., associat a un FILE Objecte). El seu d_inode √©s v√†lid.\n\n\nUnused\nEl d_inode √©s v√†lid, per√≤ l‚Äôobjecte Dentry no est√† sent utilitzat activament per cap proc√©s.\n\n\nNegative\nL‚Äôd_inode no √©s v√†lid. S‚Äôutilitza per recordar que un fitxer no existeix o ha estat eliminat, evitant cerques futures innecess√†ries al disc.\n\n\n\n\n\n\n\n\n\n\nOptimitzaci√≥ de la Dentry Cache\n\n\nL‚Äôacc√©s a l‚ÄôInode cache (per al seu alliberament en condicions de mem√≤ria baixa) utilitza l‚Äôestat d‚Äô√∫s, basat en el Superbloc i el n√∫mero d‚ÄôInode. La Dentry cache tamb√© fa servir taules hash per a cerques ultra-r√†pides."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-de-p√†gines-dades-i-es",
    "href": "slides/03-filesystem-part1.html#cache-de-p√†gines-dades-i-es",
    "title": "Sistema de fitxers (I)",
    "section": "Cache de p√†gines: Dades i E/S",
    "text": "Cache de p√†gines: Dades i E/S\nLa Cache de p√†gines √©s el mecanisme principal del kernel per a la gesti√≥ de dades d‚ÄôE/S, utilitzat per tots els sistemes de fitxers. Emmagatzema els blocs de dades del fitxer a la mem√≤ria del sistema,per a la lectura r√†pida i per a l‚Äôescriptura diferida.\n\n\n\n\n\n\n\nGesti√≥ de Mem√≤ria\n\n\nLinux reutilitza la mem√≤ria lliure com a cache, per√≤ l‚Äôallibera quan un proc√©s necessita RAM.\n\n\n\n\n\nDades Cachejades: Nom√©s dades de fitxers, no metadades de nivell de bloc (block device data).\nMecanismes d‚ÄôE/S: Suporta operacions read(), write() i mmap() (mapes de mem√≤ria).\n\n\n\n\n\n\n\n\nEstructura Interna: R√†dix-Arbre\n\n\nLa Cache de p√†gines utilitza una estructura de dades Radix Tree per mapejar de manera eficient els offsets de fitxer a les p√†gines de mem√≤ria. Aix√≤ permet acc√©s r√†pid a p√†gines de dades grans."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-file-allocation-table",
    "href": "slides/03-filesystem-part1.html#fat-file-allocation-table",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: File Allocation Table",
    "text": "FAT: File Allocation Table\n\nSistema de fitxers creat el 1977 i popularitzat gr√†cies a MS-DOS.\nEncara popular avui (FAT32): USB, targetes de mem√≤ria, partici√≥ d‚Äôarrencada EFI.\nFile Allocation Table: Estructura de llista enlla√ßada que cont√© informaci√≥ sobre els blocs ocupats per cada fitxer.\nTamb√© determina si un bloc est√† en √∫s o no."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-organitzaci√≥-de-directoris",
    "href": "slides/03-filesystem-part1.html#fat-organitzaci√≥-de-directoris",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: Organitzaci√≥ de Directoris",
    "text": "FAT: Organitzaci√≥ de Directoris\nEls directoris en FAT s√≥n fitxers especials que contenen entrades de 32 bytes per a cada fitxer o subdirectori. Cada entrada inclou: nom, atributs, timestamps, primer cl√∫ster i mida del fitxer.\n\n\n\nNom\nIndex\nDir?\nPermisos\n\n\n\n\n.\n2\nS√≠\nrwx\n\n\nWindows\n3\nS√≠\nrwx\n\n\nUsers\n4\nS√≠\nrwx\n\n\npagefile.sys\n5\nNo\nr‚Äì\n\n\n\nEl superbloc actua com a punt de refer√®ncia per a tot el sistema de fitxers, emmagatzemant informaci√≥ cr√≠tica com la mida del cl√∫ster, la ubicaci√≥ de la FAT i la ubicaci√≥ del directori arrel."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-limitacions-t√®cniques",
    "href": "slides/03-filesystem-part1.html#fat-limitacions-t√®cniques",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: Limitacions T√®cniques",
    "text": "FAT: Limitacions T√®cniques\nLimitacions de capacitat:\n\nFAT32: m√†xim 2TB per volum\nFAT32: m√†xim 4GB per fitxer\n\nProblemes de rendiment:\n\nLocalitzaci√≥ de blocs lliures: scan complet de la FAT\nFragmentaci√≥ severa (pobra localitat)\nFragmentaci√≥ de metadata: cerques costoses\nLlistes enlla√ßades ineficients per fitxers grans\n\nImpacte pr√†ctic:\n\nUn fitxer de 16MB (4096 cl√∫sters de 4KB) requereix 4096 lectures de la FAT per acc√©s seq√ºencial complet"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-extended-file-system",
    "href": "slides/03-filesystem-part1.html#ext-extended-file-system",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Extended File System",
    "text": "EXT: Extended File System\nEls sistemes EXT van ser dissenyats espec√≠ficament per a Linux com a evoluci√≥ dels sistemes Unix tradicionals.\nEvoluci√≥:\n\next (1992): Primera versi√≥, problemes de rendiment\next2 (1993): Inodes, directoris flexibles\n\next3 (2001): Journaling per a consist√®ncia\next4 (2008): Extents, millor rendiment\n\nCaracter√≠stiques:\n\nInodes com a element b√†sic\nBitmaps per gesti√≥ d‚Äôassignaci√≥\nBlock Groups per localitat de dades\nJournaling per integritat"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-estructura-de-linode",
    "href": "slides/03-filesystem-part1.html#ext-estructura-de-linode",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Estructura de l‚ÄôInode",
    "text": "EXT: Estructura de l‚ÄôInode\nL‚Äôinode √©s el nucli del sistema EXT. Cada fitxer t√© almenys un inode que cont√© tota la seva metadata:\nstruct ext4_inode {\n    uint16_t i_mode;        // Permisos i tipus de fitxer\n    uint16_t i_uid;         // User ID del propietari\n    uint32_t i_size;        // Mida del fitxer en bytes\n    uint32_t i_atime;       // √öltim temps d'acc√©s\n    uint32_t i_ctime;       // Temps de creaci√≥ de l'inode\n    uint32_t i_mtime;       // √öltim temps de modificaci√≥\n    uint16_t i_gid;         // Group ID del propietari\n    uint16_t i_links_count; // Nombre de hard links\n    \n    // Punters a blocs de dades\n    uint32_t i_block[15];   // Blocs directes i indirectes\n    /*\n     * i_block[0-11]: 12 punters directes (48KB amb blocs de 4KB)\n     * i_block[12]:   1 punter simple indirecte (4MB addicionals)\n     * i_block[13]:   1 punter doble indirecte (4GB addicionals)\n     * i_block[14]:   1 punter triple indirecte (4TB addicionals)\n     */\n\n};\nEls i-nodes consumeixen un 10% de l‚Äôemmagatzematge del disc (es pot configurar en el moment de la creaci√≥ del sistema de fitxers)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-adre√ßament-de-blocs-ext2",
    "href": "slides/03-filesystem-part1.html#ext-adre√ßament-de-blocs-ext2",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Adre√ßament de Blocs (ext2)",
    "text": "EXT: Adre√ßament de Blocs (ext2)\n\nUn fitxer de 100MB (25.600 blocs de 4KB) necessita 2 nivells d‚Äôindirecci√≥, requerint m√∫ltiples lectures de metadades abans d‚Äôaccedir a les dades reals."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-organitzaci√≥",
    "href": "slides/03-filesystem-part1.html#ext-organitzaci√≥",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Organitzaci√≥",
    "text": "EXT: Organitzaci√≥\n\n\nBitmap d‚ÄôInodes: mapa de bits d‚Äôinodes ocupats/lliures.\nBitmap de Blocs: mapa de bits de blocs ocupats/lliures.\nTaula d‚ÄôInodes: cada entrada √©s un √∫nic inode."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-problema-de-consist√®ncia-i",
    "href": "slides/03-filesystem-part1.html#ext3-problema-de-consist√®ncia-i",
    "title": "Sistema de fitxers (I)",
    "section": "EXT3: Problema de Consist√®ncia (I)",
    "text": "EXT3: Problema de Consist√®ncia (I)\nImagineu que un fitxer necessita augmentar la seva mida, i aix√≤ requereix assignar un nou bloc de dades i actualitzar l‚Äôinode per reflectir aquesta nova assignaci√≥. Aquest proc√©s implica m√∫ltiples operacions d‚Äôescriptura al disc."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-problema-de-consist√®ncia-ii",
    "href": "slides/03-filesystem-part1.html#ext3-problema-de-consist√®ncia-ii",
    "title": "Sistema de fitxers (I)",
    "section": "EXT3: Problema de Consist√®ncia (II)",
    "text": "EXT3: Problema de Consist√®ncia (II)\n\nImagina que el proc√©s es veu interromput (crash) a mitja operaci√≥."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#journaling---consist√®ncia",
    "href": "slides/03-filesystem-part1.html#journaling---consist√®ncia",
    "title": "Sistema de fitxers (I)",
    "section": "Journaling - Consist√®ncia",
    "text": "Journaling - Consist√®ncia\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc√©s\n    participant K as Kernel\n    participant J as Journal\n    participant FS as Filesystem\n\n    P-&gt;&gt;K: write() - ampliar fitxer\n    \n    Note over K,J: FASE 1: Preparaci√≥\n    K-&gt;&gt;J: Crear transacci√≥: T1\n    K-&gt;&gt;J: Nou bloc dades ¬∑ Update bitmap ¬∑ Update inode\n    K-&gt;&gt;J: COMMIT transacci√≥ T1\n    \n    Note over K,FS: FASE 2: Aplicaci√≥\n    K-&gt;&gt;FS: Aplicar canvis del journal\n    K-&gt;&gt;J: Marcar T1 com a completa\n    \n    K--&gt;&gt;P: write() completat"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#journaling-modes",
    "href": "slides/03-filesystem-part1.html#journaling-modes",
    "title": "Sistema de fitxers (I)",
    "section": "Journaling: Modes",
    "text": "Journaling: Modes\n\nJournaling Complet: Tant les dades com les metadades s‚Äôescriuen al journal abans d‚Äôaplicar-les al sistema de fitxers. M√†xima seguretat, per√≤ m√©s lent.\nJournaling de Metadades: Nom√©s les metadades s‚Äôescriuen al journal. Les dades es poden escriure directament al sistema de fitxers. Equilibri entre seguretat i rendiment.\nEscriptura Diferida (Writeback): Les dades i les metadades es poden escriure directament al sistema de fitxers sense passar pel journal. M√†xim rendiment, per√≤ risc de corrupci√≥ de dades en cas de fallada."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-journaling",
    "href": "slides/03-filesystem-part1.html#ext3-journaling",
    "title": "Sistema de fitxers (I)",
    "section": "ext3 ¬∑ Journaling",
    "text": "ext3 ¬∑ Journaling\n\nPre-escriptura (Write-Ahead Logging):\n\nAbans d‚Äôescriure qualsevol dada o metadada al disc, es registra la intenci√≥ d‚Äôaquesta escriptura en un registre especial anomenat journal. Garanteix que les operacions es completin correctament, fins i tot en cas de fallades.\n\nSi escriu el journal correctament:\n\nLa transacci√≥ es marca com a completa. Els canvis es poden aplicar al sistema de fitxers de manera segura.\n\nSi la escriptura del journal es veu interrompuda:\n\nLa transacci√≥ no es completa (p√®rdua de dades), per√≤ el sistema de fitxers roman consistent.\n\nSi el journal s‚Äôescriu correctament, per√≤ el disc no:\n\nTemporalment, el sistema de fitxers perd la consist√®ncia.El registre t√© la informaci√≥ per restaurar-la (durant l‚Äôarrencada, els journals inacabats es completen)."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-extents-per-a-millor-efici√®ncia",
    "href": "slides/03-filesystem-part1.html#ext4-extents-per-a-millor-efici√®ncia",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: Extents per a Millor Efici√®ncia",
    "text": "ext4: Extents per a Millor Efici√®ncia\nEl principal problema (ext2/ext3) era la gesti√≥ ineficient dels punters a blocs de dades, especialment per a fitxers grans.\n\nUn extends √©s un descriptor que representa un rang contigu de blocs, millorant l‚Äôefici√®ncia en l‚Äôassignaci√≥ i reduint la fragmentaci√≥.\n\n\nRangs de blocs f√≠sics contigus, descrits amb una entrada (bloc inicial + nombre de blocs).\nUn extent pot mapar fins a 128 MiB (blocs de 4KB) d‚Äôespai contigu amb blocs de 4 KiB.\nL‚Äôinode d‚Äôext4 pot contenir directament fins a 4 extents; si el fitxer √©s gran o fragmentat, s‚Äôutilitza una estructura d‚Äôarbre (HTree) per indexar m√©s extents."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-estructura-dun-extent",
    "href": "slides/03-filesystem-part1.html#ext4-estructura-dun-extent",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: Estructura d‚Äôun Extent",
    "text": "ext4: Estructura d‚Äôun Extent\nstruct ext4_extent {\n    uint32_t ee_block;      // Bloc l√≤gic inicial al fitxer\n    uint16_t ee_len;        // Longitud en blocs (m√†xim 32.768)\n    uint16_t ee_start_hi;   // Bits alts del bloc f√≠sic\n    uint32_t ee_start_lo;   // Bits baixos del bloc f√≠sic\n};\n\n\n\n\n\ngraph TD\n    A[Inode] --&gt; B[Extent Header]\n    B --&gt; C1[Extent 1]\n    B --&gt; C2[Extent 2]\n    B --&gt; C3[Extent 3]\n    B --&gt; C4[Extent 4]\n    C1 --&gt; D1[Bloc F√≠sic 1000 - 1023]\n    C2 --&gt; D2[Bloc F√≠sic 2000 - 2023]\n    C3 --&gt; D3[Bloc F√≠sic 3000 - 3023]\n    C4 --&gt; D4[Bloc F√≠sic 4000 - 4023]\n    style A fill:#eaf7ff,stroke:#007bff\n    style B fill:#f9f5dd,stroke:#c4aa18"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-htreebtree",
    "href": "slides/03-filesystem-part1.html#ext4-htreebtree",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: HTree/Btree",
    "text": "ext4: HTree/Btree\n\n\n\nUn B-tree √©s una estructura d‚Äôarbre auto-balancejada que mant√© dades ordenades i permet cerques, insercions i eliminacions en temps logar√≠tmic.\nUn HTree √©s una variant de B-tree utilitzada espec√≠ficament per indexar fitxers i directoris en ext4.\nLa principal difer√®ncia √©s que les entrades es distribueixen en nodes fulla i no fulla, amb una estructura de cap√ßalera espec√≠fica per a cada node.\nInode/Arrel: Apunta a la cap√ßalera de l‚ÄôHTree.\n\n\n\n\n\n\n\ngraph TD\n    A[Inode] --&gt; B[HTree Root]\n    B --&gt; C1[Node No Fulla 1]\n    B --&gt; C2[Node No Fulla 2]\n    C1 --&gt; D1[Node Fulla 1]\n    C1 --&gt; D2[Node Fulla 2]\n    C2 --&gt; D3[Node Fulla 3]\n    C2 --&gt; D4[Node Fulla 4]\n    D1 --&gt; E1[Extent 1]\n    D1 --&gt; E2[Extent 2]\n    D2 --&gt; E3[Extent 3]\n    D3 --&gt; E4[Extent 4]\n    D4 --&gt; E5[Extent 5]\n\n\n\n\n\n\n\nNodes no fulla: Indexen altres nodes, permetent que l‚Äôarbre creixi i es mantingui balancejat.\nNodes fulla: Contenen les extents, que s√≥n rangs de blocs f√≠sics contigus.\nExtents: Descriuen els blocs reals del fitxer o directori."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-assignaci√≥-multibloc-i-retrassada",
    "href": "slides/03-filesystem-part1.html#ext4-assignaci√≥-multibloc-i-retrassada",
    "title": "Sistema de fitxers (I)",
    "section": "ext4 ¬∑ Assignaci√≥ multibloc i retrassada",
    "text": "ext4 ¬∑ Assignaci√≥ multibloc i retrassada\n\nAssignaci√≥ Multibloc:\n\next4 pot assignar m√∫ltiples blocs a la vegada, agrupant blocs consecutius per minimitzar la fragmentaci√≥.\nAix√≤ redueix la sobrec√†rrega d‚Äôassignaci√≥ i millora la localitat de les dades.\n\nAssignaci√≥ Retardada:\n\nL‚Äôassignaci√≥ retardada espera a bloquejar l‚Äôespai fins just abans d‚Äôescriure, optimitzant la distribuci√≥ de blocs.\nAix√≤ permet agrupar escriptures i minimitzar la fragmentaci√≥."
  },
  {
    "objectID": "slides/03-filesystem-part1.html#exercicis-propostas",
    "href": "slides/03-filesystem-part1.html#exercicis-propostas",
    "title": "Sistema de fitxers (I)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nAdministraci√≥ B√†sica de Sistemes de Fitxers\nDiscussi√≥: Secure Boot √©s realment segur?: Cerca not√≠cies recents sobre Secure Boot i comparteix-les al f√≤rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi√®ncies personals.\nPr√†ctica 01: Snapshots i restauraci√≥ amb systemd i initramfs"
  },
  {
    "objectID": "slides/03-filesystem-part1.html#thats-all",
    "href": "slides/03-filesystem-part1.html#thats-all",
    "title": "Sistema de fitxers (I)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEls sistemes de fitxers s√≥n complexos i cr√≠tics per al rendiment i la fiabilitat del sistema operatiu. El VFS proporciona una capa d‚Äôabstracci√≥ que permet gestionar diferents tipus de sistemes de fitxers de manera uniforme. Sistemes de fitxers com EXT4 han evolucionat per abordar problemes de rendiment i consist√®ncia, incorporant caracter√≠stiques com els extents i el journaling."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#qu√®-√©s-un-raid",
    "href": "slides/03-filesystem-part2.html#qu√®-√©s-un-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Qu√® √©s un RAID?",
    "text": "Qu√® √©s un RAID?\nUn RAID (Redundant Array of Independent (originalment Inexpensive) Disks) √©s un conjunt de dispositius d‚Äôemmagatzematge que es combinen per a formar un sistema d‚Äôemmagatzematge √∫nic. Aquest nou sistema d‚Äôemmagatzematge permet distribuir les dades entre els diferents dispositius que el formen i millorar-ne m√®triques com la redund√†ncia o el rendiment.\n\n\nEls RAIDs s√≥n un conjunt de dispositius d‚Äôemmagatzematge que es combinen per a formar un sistema d‚Äôemmagatzematge √∫nic.\nEl principal objectiu d‚Äôaquesta combinaci√≥ √©s tolerar les fallades que es poden produir en els dispositius d‚Äôemmagatzematge. Aquesta redund√†ncia es pot aconseguir mitjan√ßant la duplicaci√≥ de les dades o mitjan√ßant la paritat, com veurem m√©s endavant.\nUn altre objectiu important dels RAIDs √©s millorar el rendiment del sistema mitjan√ßant la distribuci√≥ de les dades entre els diferents dispositius. Aix√≤ permet millorar la velocitat de lectura i escriptura de les dades. Es coneix tamb√© com striping o en altres paraules ens permet incrementar la ample de banda."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#qu√®-√©s-el-rendiment-i-la-redund√†ncia",
    "href": "slides/03-filesystem-part2.html#qu√®-√©s-el-rendiment-i-la-redund√†ncia",
    "title": "Sistema de fitxers (II)",
    "section": "Qu√® √©s el rendiment i la redund√†ncia?",
    "text": "Qu√® √©s el rendiment i la redund√†ncia?\n\nLa redund√†ncia √©s la capacitat d‚Äôun sistema de continuar funcionant en cas de fallada d‚Äôun o m√©s dispositius. Aquesta capacitat es pot aconseguir mitjan√ßant la duplicaci√≥ de les dades o mitjan√ßant la paritat.\nEl rendiment √©s la capacitat d‚Äôun sistema de processar un volum de dades en un temps determinat. Aquesta capacitat es pot aconseguir mitjan√ßant la distribuci√≥ de les dades entre els diferents dispositius, mitjan√ßant una t√®cnica coneguda com striping."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#conceptes-b√†sics",
    "href": "slides/03-filesystem-part2.html#conceptes-b√†sics",
    "title": "Sistema de fitxers (II)",
    "section": "Conceptes b√†sics",
    "text": "Conceptes b√†sics\n\nRedund√†ncia: Capacitat de tolerar fallades de dispositiu (quantitat de discs que poden fallar sense perdre dades).\nRendiment: Mesurat en IOPS i ample de banda MB/s. Dep√®n de la mida de stripe,nombre de discs i patr√≥ d‚Äôacc√©s (seq√ºencial vs aleatori).\nCapacitat: La capacitat total del sistema √©s la suma de les capacitats dels dispositius que el formen, tenint en compte la redund√†ncia.\nStripe: Un stripe √©s una unitat d‚Äôinformaci√≥ que es distribueix entre els diferents dispositius que formen el RAID. Conjunt de blocs distribu√Øts entre discs dins del RAID.\nBloc: Un bloc √©s una unitat d‚Äôinformaci√≥ que es llegeix o s‚Äôescriu en un dispositiu d‚Äôemmagatzematge. (512B, 4KB‚Ä¶).\n\n\n\n\n\n\n\n\nDifer√®ncia entre Stripe i Bloc\n\n\nAmb 2 dispositius i un stripe de 64 KB, cada dispositiu guarda 64 KB alternatius d‚Äôun fitxer."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#implementacions-de-raids",
    "href": "slides/03-filesystem-part2.html#implementacions-de-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Implementacions de RAIDs",
    "text": "Implementacions de RAIDs\n\nSoftware RAID: Implementat a nivell de sistema operatiu.\n\nAvantatges: flexibilitat, transpar√®ncia, no dep√®n del hardware.\nInconvenients: CPU utilitzat per c√†lculs de paritat.\n\nHardware RAID: Controladora dedicada (caracter√≠stiques pr√≤pies, cache, acceleraci√≥ XOR).\n\nAvantatges: millors rendiments en alguns escenaris;\nInconvenients: depend√®ncia del controlador, propietat de metadades.\n\nFake/BIOS RAID: Soluci√≥ mixta (controladora amb firmware m√≠nim). Pot generar problemes de portabilitat i compatibilitat."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#implementacions-de-raids-1",
    "href": "slides/03-filesystem-part2.html#implementacions-de-raids-1",
    "title": "Sistema de fitxers (II)",
    "section": "Implementacions de RAIDs",
    "text": "Implementacions de RAIDs"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-lineal",
    "href": "slides/03-filesystem-part2.html#raid-lineal",
    "title": "Sistema de fitxers (II)",
    "section": "RAID Lineal",
    "text": "RAID Lineal\n\ncat l√≤gic entre diversos dispositius d‚Äôemmagatzematge f√≠sics. JBOD (Just a Bunch Of Disks). No millora ni la redund√†ncia ni el rendiment.\n\n\n\n\n\n\nEl RAID lineal √©s el m√©s b√†sic de tots els tipus de RAID.\nEn aquest sistema, la informaci√≥ es distribueix primer en un disc i despr√©s en l‚Äôaltre, seguint un ordre seq√ºencial. Cada unitat d‚Äôinformaci√≥ es coneguda com a stripe, i correspon a un bloc.\nLa figura mostra un exemple de RAID Lineal (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple s‚Äôhan guardat els primers blocs (1 al 6) a la partici√≥ (/dev/vda1). Ara, s‚Äôha d‚Äôassumir que la partici√≥ (/dev/sda1) es plena. Els seg√ºents blocs es guarden a la seg√ºent partici√≥ disponible (/dev/vdb1). I aix√≠ successivament."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-0-striping",
    "href": "slides/03-filesystem-part2.html#raid-0-striping",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 0 (Striping)",
    "text": "RAID 0 (Striping)\n\n\n\n\n\n\n\nObjectiu: augmentar rendiment i capacitat (capacitat = suma de discos).\nMida de stripe:\n\nPetits milloren IOPS aleatoris.\nGrans stripes milloren seq√ºencials.\n\nSi les dades s√≥n prou grans, es poden llegir/escriure en paral¬∑lel.\nToler√†ncia a fallades: 0 (p√®rdua total si un disc falla).\nAplicacions: cache, fitxers temporals, tasques on la redund√†ncia no √©s priorit√†ria.\n\n\n\n\nEl nivell 0 de RAID √©s un dels m√©s senzills i m√©s utilitzats. El seu objectiu principal √©s millorar el rendiment del sistema mitjan√ßant la distribuci√≥ de les dades entre els diferents dispositius.\nAquesta distribuci√≥ es realitza mitjan√ßant una t√®cnica coneguda com striping. Aquesta t√®cnica permet dividir les dades en blocs m√©s petits i distribuir-los entre els diferents dispositius. Fent Round Robin a tots els dispositius.\nAix√≤ permet millorar la velocitat de lectura i escriptura de les dades, per tant incrementa l‚Äôample de banda.\nLa capacitat del sistema tamb√© es veu incrementada, ja que la capacitat total del sistema √©s la suma de les capacitats dels dispositius que el formen.\nEl principal desavantatge del nivell 0 de RAID √©s que no ofereix cap tipus de redund√†ncia. Aix√≤ vol dir que si un dels dispositius falla, es perden totes les dades del sistema.\nLa figura mostra un exemple de RAID0 (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple s‚Äôhan guardat els primers blocs (1 al 6) de forma alternada 1 a cada disc. El seg√ºent bloc (9) es guarda al disc (/dev/vdb). En aquest exemple, els blocs parells es guarden al disc (/dev/vdb) i els senars al disc (/dev/vda)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-1-mirror",
    "href": "slides/03-filesystem-part2.html#raid-1-mirror",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 1 (Mirror)",
    "text": "RAID 1 (Mirror)\n\n\n\n\n\nObjectiu: redund√†ncia via duplicaci√≥ exacta (mirrors).\nLectures: potencialment paral¬∑leles (millora), dep√®n del controlador.\nEscriptures: es repliquen en tots els mirrors (overhead escritura).\nCapacitat usable: 50% amb 2 discos (en general n/2 en conjunts de mirrors).\nAplicacions: sistema root, dades cr√≠tiques on la coher√®ncia immediata √©s priorit√†ria.\n\n\n\n\nEl nivell 1 t√© com a objectiu principal millorar la redund√†ncia del sistema mitjan√ßant la duplicaci√≥ de les dades en dos dispositius.\nLa figura 1.3 mostra un exemple de RAID1 (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple s‚Äôhan guardat els primers blocs (1 al 6) de forma id√®ntica en els dos discos. Aix√≤ significa que si un dels discos falla, l‚Äôaltre disc pot continuar funcionant sense interrupci√≥, ja que cont√© una c√≤pia completa de totes les dades.\nPer tant, el principal avantatge del nivell 1 de RAID √©s la redund√†ncia. Aix√≤ vol dir que si un dels dispositius falla, es poden recuperar les dades sense problemes.\nUn altre avantatge del nivell 1 de RAID √©s que permet realitzar lectures gaireb√© el doble de r√†pides, ja que es poden llegir les dades de forma simult√†nia des dels dos dispositius.\nPer contra, el nivell 1 de RAID tamb√© t√© alguns desavantatges. El principal desavantatge √©s el cost, ja que es necessiten m√©s dispositius per a duplicar les dades. Aix√≤ vol dir que el cost del sistema es duplica. A m√©s, l‚Äôescriptura √©s m√©s lenta, ja que es necessita escriure les dades en els dos dispositius de forma simult√†nia. Finalment, la capacitat del sistema tamb√© es veu redu√Øda, ja que nom√©s es pot utilitzar la meitat de la capacitat total dels dispositius."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-2",
    "href": "slides/03-filesystem-part2.html#raid-2",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 2",
    "text": "RAID 2\n\n\n\n\nEl stripe √©s a nivell de bit i no de bloc com fins ara.\nPr√†cticament obsolet en sistemes moderns: exigeix molts discs i acc√®s sincronitzat.\n\n\n\nEl nivell 2 de RAID utilitza la paritat per detectar i corregir errors en les dades. Aquesta paritat es calcula mitjan√ßant bits de control anomenats bits de paritat.\nObservem que el stripe √©s a nivell de bit i no de bloc com fins ara. Aix√≤ vol dir que les dades es divideixen en bits m√©s petits i es distribueixen entre els diferents dispositius.\nLa Figura 1.4 mostra un exemple d‚Äôuna configuraci√≥ RAID 2 que implementa un codi Hamming(4,3), √©s a dir, 4 bits de dades i 3 bits de paritat. Aquesta configuraci√≥ pot semblar poc pr√†ctica en molts contextos, per√≤ ens proporciona una comprensi√≥ clara de com funciona la codificaci√≥ de les dades i, en particular, la codificaci√≥ de Hamming.\nEls codis Hamming s√≥n una classe de codis de correcci√≥ d‚Äôerrors que es basen en la paritat. Aquests codis s√≥n molt √∫tils per a la detecci√≥ i correcci√≥ d‚Äôerrors en les dades, ja que permeten identificar i corregir errors en les dades sense necessitat de retransmissi√≥.\nEl seu √∫s es poc pr√†ctic en molts contextos, ja que requereix una gran quantitat de dispositius i afegeix la complexitat de la implementaci√≥ de la codificaci√≥ de Hamming (encoded)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#codis-de-hamming",
    "href": "slides/03-filesystem-part2.html#codis-de-hamming",
    "title": "Sistema de fitxers (II)",
    "section": "Codis de Hamming",
    "text": "Codis de Hamming\nEls codis de Hamming s√≥n una classe de codis de correcci√≥ d‚Äôerrors que es basen en la paritat. Aquests codis s√≥n molt √∫tils per a la detecci√≥ i correcci√≥ d‚Äôerrors en les dades, ja que permeten identificar i corregir errors en les dades sense necessitat de retransmissi√≥.\n\nEl codi de Hamming permet detectar i corregir un sol error de bit.\n\nS‚Äôutilitza en el RAID 2 per protegir dades a nivell de bit.\nS‚Äôintercalen bits de paritat entre els bits de dades.\n\nCada bit de paritat comprova un conjunt espec√≠fic de bits de dades.\n\nSi un bit es corromp, la combinaci√≥ dels bits de paritat indica quin bit s‚Äôha de corregir."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#xor-operaci√≥-b√†sica",
    "href": "slides/03-filesystem-part2.html#xor-operaci√≥-b√†sica",
    "title": "Sistema de fitxers (II)",
    "section": "XOR (Operaci√≥ b√†sica)",
    "text": "XOR (Operaci√≥ b√†sica)\nLa operaci√≥ XOR (exclusive OR) √©s una operaci√≥ l√≤gica que compara dos bits i retorna un bit de resultat. El resultat √©s 1 si els bits comparats s√≥n diferents, i 0 si s√≥n iguals.\n\n\n\nA\nB\n\\(A \\oplus B\\)\n\n\n\n\n0\n0\n0\n\n\n0\n1\n1\n\n\n1\n0\n1\n\n\n1\n1\n0"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#hamming74---0110",
    "href": "slides/03-filesystem-part2.html#hamming74---0110",
    "title": "Sistema de fitxers (II)",
    "section": "Hamming(7,4) -> [0110]",
    "text": "Hamming(7,4) -&gt; [0110]\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\\(p_1\\)\n\\(p_2\\)\n\\(d_1\\)\n\\(p_3\\)\n\\(d_2\\)\n\\(d_3\\)\n\\(d_4\\)\n\n\nDades\n\n\n0\n\n1\n1\n0\n\n\n\\(p_1\\)\n1\n\n0\n\n1\n\n0\n\n\n\\(p_2\\)\n\n1\n0\n\n\n1\n0\n\n\n\\(p_3\\)\n\n\n\n0\n1\n1\n0\n\n\nCodi\n1\n1\n0\n0\n1\n1\n0\n\n\n\n\n\n\nEls bits que s√≥n pot√®ncia de 2 (\\(2^k\\), k=0,1, 2‚Ä¶) s√≥n els bits de paritat.\nBits de paritat = XOR bits de dades amb el \\(n^o\\) de bit de paritat.\n\n\n\n\n[0110] es codifica com [1100110]"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-1100110",
    "href": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-1100110",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci√≥ d‚Äôerrors amb Hamming [1100110]",
    "text": "Comprovaci√≥ d‚Äôerrors amb Hamming [1100110]\n\nEs calcula els bits de Comprovaci√≥ = XOR del bits de paritat i de tots els seus bits de dades associats:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci√≥\n\n\nCodi\n1\n1\n0\n0\n1\n1\n0\n\n\n\np\\(_1\\)\n1\n\n0\n\n1\n\n0\n0\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n0\n0\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n0\n0\n\n\n\n\nTots els bits de comprovaci√≥ = 0 ‚Üí cap error detectat."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-1100111",
    "href": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-1100111",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci√≥ d‚Äôerrors amb Hamming [1100111]",
    "text": "Comprovaci√≥ d‚Äôerrors amb Hamming [1100111]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci√≥\n\n\nCodi\n1\n1\n0\n0\n1\n1\n1\n\n\n\np\\(_1\\)\n1\n\n0\n\n1\n\n1\n1\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n1\n1\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n1\n1\n\n\n\n\nS‚Äôha alterat el bit 7 corresponent a d\\(_4\\)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-0100110",
    "href": "slides/03-filesystem-part2.html#comprovaci√≥-derrors-amb-hamming-0100110",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci√≥ d‚Äôerrors amb Hamming [0100110]",
    "text": "Comprovaci√≥ d‚Äôerrors amb Hamming [0100110]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci√≥\n\n\nCodi\n0\n1\n0\n0\n1\n1\n0\n\n\n\np\\(_1\\)\n0\n\n0\n\n1\n\n0\n1\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n0\n0\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n0\n0\n\n\n\n\nEls bits de comprovaci√≥ = 001 ‚Üí s‚Äôha alterat el bit 1 corresponent a \\(p_1\\)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-3-i-4",
    "href": "slides/03-filesystem-part2.html#raid-3-i-4",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 3 i 4",
    "text": "RAID 3 i 4\n\n\n\n\n\nRAID 3: striping a nivell de byte, paritat en disc dedicat; acc√©s molt sincronitzat ‚Üí bo per fitxers grans i seq√ºencials (p.ex. streaming).\nRAID 4: striping a nivell de bloc, paritat en disc dedicat; permet accessos independents per bloc per√≤ pateix bottleneck al disc de paritat.\nEn ambd√≥s casos la paritat dedicada pot ser coll d‚Äôampolla per escriptura.\n\n\n\n\nLa difer√®ncia entre un RAID 3 i 4 √©s la granularitat de la paritat. En un RAID 3 la paritat es calcula a nivell de bytes i en un RAID 4 a nivell de blocs.\nLes dades es distribueixen com un RAID 0 i la paritat es guarda en un disc dedicat.\nEn realitat, en un RAID 3 o 4, les dades no es dupliquen, sin√≥ que es calcula una paritat. Si un disc falla, les dades es poden recuperar utilitzant la informaci√≥ de paritat dels altres discs.\nLa figura il¬∑lustra un exemple de configuraci√≥ RAID 4. En aquest exemple, el RAID 4, identificat com a /dev/md0, est√† format per cinc discos: /dev/vda, /dev/vdb, /dev/vdc, /dev/vdd i /dev/vde. En aques- ta configuraci√≥ RAID 4, els primers quatre discos (/dev/vda, /dev/vdb, /dev/vdc, i /dev/vdd) s‚Äôutilitzen per emmagatzemar les dades. El cin- qu√® disc (/dev/vde) s‚Äôutilitza exclusivament per a la paritat."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-5",
    "href": "slides/03-filesystem-part2.html#raid-5",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 5",
    "text": "RAID 5\n\n\n\n\n\nParitat distribu√Øda entre tots els discos (evita coll d‚Äôampolla √∫nic).\nToler√†ncia: 1 disc (hi ha un petit risc durant rebuild). Probabilitat de fallada en discs grans.\nLectura: alta (com RAID0).\nEscriptura: penalitzaci√≥ per read-modify-write (llegir bloc antic, llegir paritat antiga, escriure dades i paritat nova) ‚Äî cr√≠tic per a c√†rregues amb moltes escriptures petites.\nCapacitat: \\((n-1)/n\\).\nAplicacions: sistemes de fitxers, bases de dades, servidors web.\n\n\n\n\nEl RAID 5 √©s un dels nivells de RAID m√©s utilitzats en els sistemes inform√†tics actuals. Aquest RAID ofereix un bon equilibri entre rendiment i redund√†ncia.\nLa principal difer√®ncia entre un RAID 4 i un RAID 5 √©s que en un RAID 5 la paritat es distribueix entre els diferents discs per evitar el coll d‚Äôampolla.\nLa figura il¬∑lustra un exemple de configuraci√≥ RAID 5. En aquesta configuraci√≥, la paritat es distribueix entre tots els discs, en lloc de ser emmagatzemada en un disc dedicat com en el RAID 4."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-6",
    "href": "slides/03-filesystem-part2.html#raid-6",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 6",
    "text": "RAID 6\n\nExtensi√≥ de RAID5 amb doble paritat (P i Q) ‚Üí tolera 2 fallades simult√†nies.\nRecomanat en conjunts grans (n gran) on la probabilitat de fallada durant rebuild √©s significativa.\nPenalitzaci√≥ d‚Äôescriptura m√©s elevada que RAID5, per√≤ millor toler√†ncia."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-10",
    "href": "slides/03-filesystem-part2.html#raid-10",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 10",
    "text": "RAID 10\n\nmirror + stripe. Toler√†ncia variable segons quins discs fallen; reconstrucci√≥ molt m√©s r√†pida."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-50",
    "href": "slides/03-filesystem-part2.html#raid-50",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 50",
    "text": "RAID 50\n\nStripe sobre m√∫ltiples conjunts RAID5. Millora rendiment i toler√†ncia depenent de cada grup.\n\n\n."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comparativa-de-raids",
    "href": "slides/03-filesystem-part2.html#comparativa-de-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Comparativa de RAIDs",
    "text": "Comparativa de RAIDs\n\n\n\n\n\n\n\n\n\n\n\nNivell\nMin discs\nCapacitat\nToler√†ncia\nLectura\nEscriptura\n\n\n\n\nRAID 0\n2\n100%\n0\nAlt\nAlt\n\n\nRAID 1\n2\n50% (amb 2 discos)\n1 per mirror\nPot ser Alt\nMitj√†\n\n\nRAID 5\n3\n\\((n-1)/n\\)\n1\nAlt\nMitj√†-Baix\n\n\nRAID 6\n4\n\\((n-2)/n\\)\n2\nAlt\nMitj√†-Baix (pitjor que RAID5)\n\n\nRAID 10\n4\n50% (dep√®n)\n‚â•1 (segons fallades)\nAlt\nAlt\n\n\nRAID 50\n6\naproximadament \\((n-1)/n\\) per grup\n‚â•1 per grup\nAlt\nMitj√†\n\n\n\n\n\nLa taula mostra una comparativa entre els diferents nivells de RAID m√©s comuns. Aquesta comparativa inclou les caracter√≠stiques m√©s importants de cada RAID, com ara el nombre m√≠nim de dispositius, la redund√†ncia, el rendiment en lectura i escriptura i la capacitat.\nCom es pot observar, cada RAID t√© les seves pr√≤pies caracter√≠stiques i avantatges. Per exemple, el RAID 0 ofereix un rendiment molt alt en lectura i escriptura, per√≤ no ofereix cap tipus de redund√†ncia. En canvi, el RAID 1 ofereix una alta redund√†ncia, per√≤ el rendiment en escriptura √©s baix.\nPer exemple, la instal¬∑laci√≥ d‚Äôun sistema operatiu es podria fer en un RAID 1, ja que la redund√†ncia √©s m√©s important que el rendiment.\nEn canvi, un servidor web seria m√©s adequat en un RAID 5, ja que ofereix un bon equilibri entre rendiment i redund√†ncia.\nEn general, la selecci√≥ del RAID m√©s adequat dep√®n de les necessitats del sistema i dels usuaris."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#dispositiu-devmd",
    "href": "slides/03-filesystem-part2.html#dispositiu-devmd",
    "title": "Sistema de fitxers (II)",
    "section": "Dispositiu /dev/md*",
    "text": "Dispositiu /dev/md*\n\nLinux implementa Software RAID mitjan√ßant el subsistema del kernel MD (Multiple Device).\nEl m√≤dul principal √©s md_mod, que crea dispositius virtuals de bloc /dev/mdX sobre dispositius f√≠sics (/dev/sd*, /dev/nvme*, etc.).\nCada dispositiu MD √©s gestionat per un controlador de tipus mdX que mant√© una taula de mapatge (metadata) amb:\n\nnivell RAID (level)\nnombre de dispositius (raid_disks)\nsuperblocs (superblock)\nestat de sincronitzaci√≥ i fallades"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#components-del-subsistema-md",
    "href": "slides/03-filesystem-part2.html#components-del-subsistema-md",
    "title": "Sistema de fitxers (II)",
    "section": "Components del subsistema MD",
    "text": "Components del subsistema MD\n\n\n\n\n\n\n\nComponent\nFunci√≥ principal\n\n\n\n\nmd_mod\nGestor principal del subsistema MD (creaci√≥ i manteniment de /dev/mdX).\n\n\nraid0, raid1, raid5, raid6, raid10\nM√≤duls del kernel que implementen la l√≤gica espec√≠fica de cada nivell RAID.\n\n\nmdadm\nEina user-space que interactua amb el subsistema MD via ioctl i sysfs.\n\n\n/proc/mdstat\nPunt d‚Äôentrada per consultar estat de sincronitzaci√≥, reconstrucci√≥ i fallades.\n\n\n/sys/block/mdX\nDirectori amb informaci√≥ detallada i opcions de configuraci√≥ per a cada mdX."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#flux-doperacions",
    "href": "slides/03-filesystem-part2.html#flux-doperacions",
    "title": "Sistema de fitxers (II)",
    "section": "Flux d‚Äôoperacions",
    "text": "Flux d‚Äôoperacions\n\n\n\n\n\nsequenceDiagram\n    participant A as Aplicaci√≥\n    participant B as Sistema de fitxers\n    participant C as VFS\n    participant D as /dev/mdX (md_mod)\n    participant E as Driver RAIDn\n    participant F as Discos f√≠sics\n\n    A-&gt;&gt;B: Read/Write\n    B-&gt;&gt;C: Operaci√≥ de fitxer\n    C-&gt;&gt;D: Acc√©s a /dev/mdX\n    D-&gt;&gt;E: Gesti√≥ RAID\n    E-&gt;&gt;F: Acc√©s a discos f√≠sics\n\n\n\n\n\n\n\nLes operacions de paritat, mirroring o striping s‚Äôexecuten al context del kernel, sovint amb tasques as√≠ncrones (mdX_raid_thread).\nLes metadades del RAID s‚Äôemmagatzemen al final (o inici) de cada disc com a superblock MD v1.x.\nDes del kernel 4.0 es pot utilitzar reshape per canviar el nivell RAID o afegir dispositius en viu."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#paquet-mdadm",
    "href": "slides/03-filesystem-part2.html#paquet-mdadm",
    "title": "Sistema de fitxers (II)",
    "section": "Paquet mdadm",
    "text": "Paquet mdadm\nEn la majoria de les distribucions de Linux, el paquet mdadm permet la creaci√≥ i gesti√≥ de dispositius RAID.\n\n\nDistribucions basades en Red Hat\ndnf search mdadm\ndnf install mdadm -y\n\nDistribucions basades en Debian\napt search mdadm\napt install mdadm -y\n\n\nEl funcionament del paquet mdadm √©s similar en totes les distribucions de Linux. Per tant, les instruccions d‚Äô√∫s s√≥n similars i no importa la distribuci√≥ que s‚Äôutilitzeu."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#creaci√≥-de-dispositius-raids",
    "href": "slides/03-filesystem-part2.html#creaci√≥-de-dispositius-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Creaci√≥ de Dispositius RAIDs",
    "text": "Creaci√≥ de Dispositius RAIDs\n\n\nOpcions B√†siques\nmdadm --create --verbose /dev/[nom] \n--level=[nivell] \n--raid-devices=[n¬∫ dispositius] [dispositius]\n\n--create: Crea un nou dispositiu RAID.\n--verbose: Mostra informaci√≥ detallada sobre el proc√©s.\n/dev/[nom]: Nom del dispositiu RAID.\n--level=[nivell]: RAID.\n--raid-devices=[n¬∫ dispositius]: Nombre de dispositius que formen el RAID.\n[dispositius]: Llista de dispositius que formen el RAID.\n\n\n\n\nAltres Opcions\nmdadm --create --help\n\n--metadata=[tipus]: Tipus de metadades.\n--spare-devices=[n¬∫ dispositius]: Nombre de dispositius reservats.\n--chunk=[mida]: Mida dels blocs.\n--layout=[esquema]: Esquema de distribuci√≥ de les dades."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#gesti√≥-del-raid---manage",
    "href": "slides/03-filesystem-part2.html#gesti√≥-del-raid---manage",
    "title": "Sistema de fitxers (II)",
    "section": "Gesti√≥ del RAID (--manage)",
    "text": "Gesti√≥ del RAID (--manage)\nmdadm --manage /dev/[nom] [options] [dispositius]\n  --add         -a   : afegeix dispositius posteriors a l'array\n  --re-add           : els dispositius posteriors s√≥n reafegits si eren\n                     : membres recents de l'array\n  --remove      -r   : elimina els dispositius posteriors, que no han d'estar actius\n  --fail        -f   : marca els dispositius posteriors com a defectuosos\n  --set-faulty       : igual que --fail\n  --replace          : marca el(s) dispositiu(s) per ser reempla√ßat(s) per recanvis. \n                     : Un cop completat el reempla√ßament, el dispositiu es marcar√† \n                     : com a defectu√≥s\n  --with             : indica quin recanvi hauria de preferir un '--replace' anterior\n  --run         -R   : inicia un array parcialment constru√Øt\n  --stop        -S   : desactiva l'array, alliberant tots els recursos\n  --readonly    -o   : marca l'array com a nom√©s lectura\n  --readwrite   -w   : marca l'array com a lectura i escriptura"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#informaci√≥-i-monitoratge-del-raid",
    "href": "slides/03-filesystem-part2.html#informaci√≥-i-monitoratge-del-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Informaci√≥ i Monitoratge del RAID",
    "text": "Informaci√≥ i Monitoratge del RAID\nLes opcions --detail i --examine permeten obtenir informaci√≥ detallada sobre un dispositiu RAID. La principal difer√®ncia entre ambdues opcions √©s que --examine mostra informaci√≥ m√©s detallada sobre el dispositiu.\n\n\nmdadm --detail /dev/[nom]\n\nmdadm --examine /dev/[nom]\n\nLa opci√≥ --monitor permet monitorar un dispositiu RAID en temps real. Obtenint informaci√≥ sobre els esdeveniments que es produeixen en el dispositiu i ens permet prendre accions en conseq√º√®ncia.\nmdadm --monitor /dev/[nom]"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#ensamblatge---assemble",
    "href": "slides/03-filesystem-part2.html#ensamblatge---assemble",
    "title": "Sistema de fitxers (II)",
    "section": "Ensamblatge --assemble",
    "text": "Ensamblatge --assemble\n\nPermet muntar un array RAID existent.\nAquesta opci√≥ no crea un nou array, sin√≥ que reuneix un array existent a partir dels dispositius que especifiquem.\n\nmdadm --assemble /dev/[nom] [dispositius]\n\nCada cop que el sistema s‚Äôinicia, aquesta opci√≥ s‚Äôexecuta al kernel. Escaneja els discs, busca els superblocks i reconstrueix tots els arrays per a nosaltres."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#initramfs-i-raid",
    "href": "slides/03-filesystem-part2.html#initramfs-i-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Initramfs i RAID",
    "text": "Initramfs i RAID\nEn entorns amb RAID, initramfs inclou els binaris i la configuraci√≥ necessaris per gestionar els arrays RAID. Durant la fase d‚Äôarrencada, es fa servir la comanda:\nmdadm --assemble --scan\nDetecta i munta autom√†ticament tots els arrays definits a /etc/mdadm/mdadm.conf. Aix√≤ assegura que les particions RAID estiguin operatives abans de muntar la partici√≥ root i iniciar el sistema operatiu.\nA m√©s, initramfs pot incloure scripts per comprovar la integritat dels dispositius RAID i gestionar fallades de discs durant l‚Äôarrencada, assegurant un boot fiable en entorns amb mirroring (RAID1)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#actualitzaci√≥-amb---grow",
    "href": "slides/03-filesystem-part2.html#actualitzaci√≥-amb---grow",
    "title": "Sistema de fitxers (II)",
    "section": "Actualitzaci√≥ amb --grow",
    "text": "Actualitzaci√≥ amb --grow\nAquesta opci√≥ permet actualitzar un dispositiu RAID. Per exemple, canviar el RAID, augmentar el nombre de dispositius o canviar la mida dels blocs.\nmdadm --grow /dev/[nom] --level=[nivell] --raid-devices=[n¬∫ dispositius]\n\nSituaci√≥ I: En un RAID5 format per 3 discs, ens pot interessar al cap del temps afegir un disc m√©s.\nSituaci√≥ II: En un RAID5 format per 4 discs, ens pot interessar al cap del temps canviar el RAID a 6.\nSituaci√≥ III: En un RAID5 format per 4 discs, ens pot interessar al cap del temps canviar la mida dels blocs.\n\n\n\n\n\n\n\n\nCompte!\n\n\nAmb aquestes operacions, el sistema pot quedar inutilitzat. √âs recomanable fer una c√≤pia de seguretat abans de realitzar aquestes operacions."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#aturar-i-eliminar-un-raid",
    "href": "slides/03-filesystem-part2.html#aturar-i-eliminar-un-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Aturar i Eliminar un RAID",
    "text": "Aturar i Eliminar un RAID\nPer aturar un RAID, podem utilitzar l‚Äôopci√≥ --stop del mode --manage de mdadm. Aquesta opci√≥ desactiva l‚Äôarray i allibera tots els recursos associats.\nmdadm --manage /dev/[nom] --stop\n\n\n\n\n\n\n\nCompte!\n\n\nAquesta operaci√≥ no destruir√† l‚Äôarray, sin√≥ que simplement el desactivar√†. Per eliminar un raid podem eliminar el seu dispositiu associat, sempre primer aturant l‚Äôarray.\nmdadm --manage /dev/[nom] --stop\nrm /dev/[nom]"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#etcmdadmmdadm.conf",
    "href": "slides/03-filesystem-part2.html#etcmdadmmdadm.conf",
    "title": "Sistema de fitxers (II)",
    "section": "/etc/mdadm/mdadm.conf",
    "text": "/etc/mdadm/mdadm.conf\nAquest fitxer cont√© informaci√≥ que permet al sistema recon√®ixer i muntar autom√†ticament els arrays RAID durant l‚Äôarrencada i tamb√© proporciona par√†metres per a la creaci√≥, monitoritzaci√≥ i manteniment dels arrays.\nARRAY /dev/md0 UUID=12345678:90ab:cdef:1234:567890abcdef\nARRAY /dev/md1 UUID=abcdef12:3456:7890:abcd:ef1234567890\n\nARRAY: indica un dispositiu RAID gestionat per mdadm.\n/dev/mdX: dispositiu de bloc que representa l‚Äôarray RAID.\nUUID: identificador √∫nic de l‚Äôarray RAID, utilitzat per assegurar que el sistema connecta correctament les particions corresponents encara que canvi√Øn els noms dels dispositius f√≠sics (per exemple, vdb1 esdev√© vdc1)."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-pr√†ctic-i",
    "href": "slides/03-filesystem-part2.html#cas-pr√†ctic-i",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Pr√†ctic (I)",
    "text": "Cas Pr√†ctic (I)\nAssumeix que vols configurar un RAID per configurar la partici√≥ root del teu servidor Debian. quin RAID recomanaries i que t‚Äôaportaria?\n\nEl RAID 5. Aquest RAID ofereix redund√†ncia i una millora en la velocitat de lectura. No obstant aix√≤, requereix un m√≠nim de tres discs i la velocitat d‚Äôescriptura pot veure‚Äôs afectada per les operacions de paritat. Aquest RAID pot ser una bona opci√≥ per a emmagatzemament de dades, per√≤ pot ser massa complex per a un sistema root.\nEl RAID 10 combina les caracter√≠stiques del RAID 1 i del RAID 0, oferint tant redund√†ncia com una millora en la velocitat de lectura i escriptura. Aquest RAID pot ser una bona opci√≥ per a un sistema que requereixi un alt rendiment, per√≤ pot ser massa cost√≥s per a un sistema root.\n\n\n\nLa meva recomanaci√≥ √©s utilitzar RAID 1 per a un sistema root, ja que proporciona la redund√†ncia necess√†ria per assegurar la integritat de les dades del sistema. Si la velocitat de lectura √©s una preocupaci√≥, es podria considerar l‚Äô√∫s d‚Äôun disc SSD"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-pr√†ctic-ii",
    "href": "slides/03-filesystem-part2.html#cas-pr√†ctic-ii",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Pr√†ctic (II)",
    "text": "Cas Pr√†ctic (II)\nAssumeix que vols configurar un servidor amb dos discs SATA per fer renders de v√≠deo on l‚Äôobjectiu principal es millorar el rendiment i la capacitat d‚Äôenmagatzemament temporal. Quin RAID recomanaries?\n\nCom √∫nicament es disposa de dos discs, el RAID 0 seria la millor opci√≥. Aquest RAID millora el rendiment i la capacitat d‚Äôemmagatzemament temporal, ja que les dades es divideixen i s‚Äôemmagatzemen en els dos discs de forma simult√†nia. No obstant aix√≤, cal tenir en compte que el RAID 0 no ofereix cap mena de redund√†ncia. Per tant, si un dels discs falla, es perdran totes les dades. S‚Äôhaurien de fer c√≤pies de seguretat regulars per evitar la p√®rdua de dades."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-pr√†ctic-iii",
    "href": "slides/03-filesystem-part2.html#cas-pr√†ctic-iii",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Pr√†ctic (III)",
    "text": "Cas Pr√†ctic (III)\nAssumeix un servidor de bases de dades on la integritat de les dades es cr√≠tica i les transaccions han de ser r√†pides. Quin RAID recomanaries?\n\nEn aquest cas, el RAID 10 seria la millor opci√≥. Aquest RAID combina les caracter√≠stiques del RAID 1 i del RAID 0, oferint tant redund√†ncia com una millora en la velocitat de lectura i escriptura. Aix√≤ √©s important per a un servidor de bases de dades on la integritat de les dades √©s cr√≠tica i les transaccions han de ser r√†pides."
  },
  {
    "objectID": "slides/03-filesystem-part2.html#exercici",
    "href": "slides/03-filesystem-part2.html#exercici",
    "title": "Sistema de fitxers (II)",
    "section": "Exercici",
    "text": "Exercici\n\nConfiguraci√≥ d‚Äôun RAID 1 a AlmaLinux amb una instal¬∑laci√≥ neta.\nMigraci√≥ de /home a un RAID 1 en un sistema Debian existent.\nSimulaci√≥ de fallada d‚Äôun disc en un RAID 5.\nMigraci√≥ d‚Äôun sistema legacy a un sistema amb RAIDs.\n\n\nExercicis: Administrant RAIDs"
  },
  {
    "objectID": "slides/03-filesystem-part2.html#thats-all",
    "href": "slides/03-filesystem-part2.html#thats-all",
    "title": "Sistema de fitxers (II)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\n\nRAID mant√© les dades, per√≤ la bona administraci√≥ mant√© el servei.\nLa redund√†ncia no √©s seguretat si no s‚Äôha provat mai l‚Äôarrencada.\nConfigurar RAID √©s f√†cil; garantir que arrenca quan els discs fallen √©s el cam√≠ de l‚Äôadministrador.\nRAID no √©s substitut de les c√≤pies de seguretat."
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-larrancada",
    "href": "slides/02-booting-part2.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de l‚Äôarrancada",
    "text": "Etapes de l‚Äôarrancada"
  },
  {
    "objectID": "slides/02-booting-part2.html#qu√®-√©s-el-grubgrub2",
    "href": "slides/02-booting-part2.html#qu√®-√©s-el-grubgrub2",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu√® √©s el GRUB/GRUB2?",
    "text": "Qu√® √©s el GRUB/GRUB2?\nGRUB (GRand Unified Bootloader) √©s un gestor d‚Äôarrencada molt utilitzat en sistemes operatius Linux i altres sistemes Unix-like. La seva funci√≥ principal √©s carregar un kernel del sistema operatiu a la mem√≤ria i iniciar el proc√©s d‚Äôarrencada.\n\nFuncions principals:\n\nPermet seleccionar entre m√∫ltiples sistemes operatius instal¬∑lats en un mateix ordinador (multi-boot).\nProporciona una interf√≠cie per configurar opcions d‚Äôarrencada, com ara par√†metres del kernel.\nSuporta diferents sistemes de fitxers, permetent accedir a particions amb formats com ext4, Btrfs, XFS, entre altres.\nOfereix una consola interactiva per a la resoluci√≥ de problemes i la configuraci√≥ avan√ßada."
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-dexecuci√≥-del-grub",
    "href": "slides/02-booting-part2.html#etapes-dexecuci√≥-del-grub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes d‚Äôexecuci√≥ del GRUB",
    "text": "Etapes d‚Äôexecuci√≥ del GRUB\n\nStage 1:\n\nEn sistemes BIOS: efectivament √©s el codi al MBR (o VBR) ‚Üí molt petit (‚â§ 446 bytes).\nEn sistemes UEFI: √©s un fitxer executable EFI (normalment a /boot/efi/EFI/grub/grubx64.efi).\n\nStage 1.5 (nom√©s en BIOS, opcional):\n\nProporciona suport b√†sic per a sistemes de fitxers.\nNormalment es troba en sectors buits despr√©s del MBR (espai entre MBR i primera partici√≥). core.img.\n\nStage 2:\n\nCont√© el GRUB complet amb el men√∫ d‚Äôarrencada.\nPot carregar m√≤duls addicionals (drivers de FS, v√≠deo, xarxa, criptografia‚Ä¶).\nTransfereix el control al kernel per iniciar el sistema operatiu."
  },
  {
    "objectID": "slides/02-booting-part2.html#diagrama-darrencada-del-grub",
    "href": "slides/02-booting-part2.html#diagrama-darrencada-del-grub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Diagrama d‚Äôarrencada del GRUB",
    "text": "Diagrama d‚Äôarrencada del GRUB\n\n\nset root=‚Äòhd0,msdos1‚Äô: Indica la partici√≥ arrel on es troba el sistema operatiu que es vol arrencar.\nlinux /vmlinuz root=/dev/sda1: Indica la ruta del kernel i la partici√≥ arrel.\ninitrd /initramfs.img: Indica la ruta de l‚Äôinitramfs.\nboot: Inicia el sistema operatiu."
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci√≥-del-grub-i",
    "href": "slides/02-booting-part2.html#configuraci√≥-del-grub-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci√≥ del GRUB (I)",
    "text": "Configuraci√≥ del GRUB (I)\nEl fitxer principal de configuraci√≥ de GRUB2 √©s:\n- /boot/grub/grub.cfg (o /boot/grub2/grub.cfg en algunes distribucions).\n\n\n\n\n\n\n\nImportant\n\n\nNo s‚Äôha d‚Äôeditar directament, ja que es regenera autom√†ticament.\n\n\n\n\nFitxers i directoris\n\n/etc/default/grub : Opcions generals de configuraci√≥ i variables d‚Äôentorn.\n/etc/grub.d/\nDirectori amb scripts que generen grub.cfg:\n\n00_header ‚Üí configuraci√≥ inicial\n\n10_linux ‚Üí detecta kernels Linux\n\n30_os-prober ‚Üí detecta altres SO\n\n40_custom ‚Üí entrades personalitzades"
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci√≥-del-grub-ii",
    "href": "slides/02-booting-part2.html#configuraci√≥-del-grub-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci√≥ del GRUB (II)",
    "text": "Configuraci√≥ del GRUB (II)\nUn cop modificats els fitxers anteriors, cal regenerar grub.cfg:\n# Distribucions Debian/Ubuntu\nsudo update-grub\n\n# Distribucions Arch, Fedora, openSUSE...\nsudo grub-mkconfig -o /boot/grub/grub.cfg"
  },
  {
    "objectID": "slides/02-booting-part2.html#variables-etcdefaultgrub",
    "href": "slides/02-booting-part2.html#variables-etcdefaultgrub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Variables /etc/default/grub",
    "text": "Variables /etc/default/grub\n\n\n\n\n\n\n\nVariable\nDescripci√≥\n\n\n\n\nGRUB_BACKGROUND\nImatge de fons que es mostrar√† al men√∫ d‚Äôarrencada.\n\n\nGRUB_TIMEOUT\nTemps en segons abans de carregar l‚Äôentrada predeterminada.\n\n\nGRUB_DEFAULT\nEntrada per defecte que es carregar√† (index o nom)\n\n\nGRUB_CMDLINE_LINUX\nOpcions de l√≠nia de comandes que es passen al nucli en arrencar el sistema.\n\n\nGRUB_DISABLE_RECOVERY\nSi true, desactiva les opcions de mode de recuperaci√≥.\n\n\nGRUB_DISABLE_OS_PROBER\nSi true, impedeix que GRUB busqui altres sistemes operatius instal¬∑lats.\n\n\nGRUB_PRELOAD_MODULES\nLlista de m√≤duls GRUB que es carregaran abans de mostrar el men√∫ d‚Äôarrencada."
  },
  {
    "objectID": "slides/02-booting-part2.html#par√†metres-del-kernel-m√©s-comuns",
    "href": "slides/02-booting-part2.html#par√†metres-del-kernel-m√©s-comuns",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Par√†metres del kernel m√©s comuns",
    "text": "Par√†metres del kernel m√©s comuns\n\n\n\n\n\n\n\nPar√†metre\nDescripci√≥\n\n\n\n\nquiet\nSuprimeix els missatges del nucli durant l‚Äôarrencada.\n\n\nsingle\nInicia el sistema en mode d‚Äôusuari √∫nic (single-user mode) per a tasques de manteniment.\n\n\nnomodeset\nDesactiva la detecci√≥ de modes de v√≠deo, √∫til per a solucions de problemes amb gr√†fics.\n\n\nroot=\nEspecifica la partici√≥ arrel del sistema de fitxers.\n\n\ninit=\nEspecifica un fitxer d‚Äôinit alternatiu.\n\n\nro\nMuntatge de la partici√≥ arrel en mode de nom√©s lectura durant l‚Äôarrencada.\n\n\nrw\nMuntatge de la partici√≥ arrel en mode de lectura i escriptura durant l‚Äôarrencada.\n\n\nsystemd.unit =\nEspecifica el target de systemd a iniciar (ex: multi-user.target, graphical.target)."
  },
  {
    "objectID": "slides/02-booting-part2.html#consideracions-addicionals",
    "href": "slides/02-booting-part2.html#consideracions-addicionals",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Consideracions addicionals",
    "text": "Consideracions addicionals\n\nEn UEFI, GRUB2 √©s un fitxer EFI a /boot/efi/EFI//grubx64.efi.\nEs poden protegir entrades amb contrasenya a /etc/grub.d/40_custom.\nAl men√∫, amb e es poden passar par√†metres temporals al kernel.\nGRUB permet chainloading per arrencar altres SO (Windows, BSD).\nAmb UEFI Secure Boot, GRUB pot ser signat digitalment."
  },
  {
    "objectID": "slides/02-booting-part2.html#secure-boot",
    "href": "slides/02-booting-part2.html#secure-boot",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Secure Boot",
    "text": "Secure Boot\nSecure Boot √©s una caracter√≠stica de seguretat del firmware UEFI que assegura que nom√©s es carregui i s‚Äôexecuti programari de confian√ßa durant el proc√©s d‚Äôarrencada del sistema.\n\nUEFI comprova la signatura digital del bootloader EFI (per exemple, grubx64.efi) abans de carregar-lo.\nLa signatura √©s comparada amb les claus de confian√ßa emmagatzemades en la DB (Database of allowed signatures) del firmware.\nSi la signatura √©s v√†lida, UEFI carrega i executa el bootloader. Sin√≥, impedeix l‚Äôexecuci√≥ del bootloader i mostra un missatge d‚Äôerror.\nPot carregar m√≤duls addicionals signats, que tamb√© poden ser verificats pel mateix GRUB (opcional).\nEl kernel Linux tamb√© pot estar signat (opcional, si s‚Äôutilitza Linux Kernel Signing).\nSi s‚Äôutilitza Shim, aquest actua com a intermediari: el firmware UEFI confia en Shim, i Shim verifica despr√©s GRUB i el kernel."
  },
  {
    "objectID": "slides/02-booting-part2.html#problemes-de-secure-boot",
    "href": "slides/02-booting-part2.html#problemes-de-secure-boot",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Problemes de Secure Boot",
    "text": "Problemes de Secure Boot\n\nCompatibilitat: No tots els sistemes operatius o distribucions Linux suporten Secure Boot de manera nativa.\nClaus de confian√ßa: La gesti√≥ de claus pot ser complexa, especialment en entorns corporatius.\nActualitzacions: Les actualitzacions del bootloader o del kernel poden requerir la re-signatura dels components.\nRestriccions: Algunes funcionalitats avan√ßades poden estar limitades per les pol√≠tiques de Secure Boot.\n\nMalgrat Secure Boot, s‚Äôhan detectat vulnerabilitats que permeten carregar bootloaders no autoritzats en alguns dispositius (ArsTechnica, 2024)."
  },
  {
    "objectID": "slides/02-booting-part2.html#qu√®-√©s-el-kernel",
    "href": "slides/02-booting-part2.html#qu√®-√©s-el-kernel",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu√® √©s el kernel?",
    "text": "Qu√® √©s el kernel?\nEl kernel √©s el nucli del sistema operatiu, responsable de gestionar els recursos del sistema, com la mem√≤ria, el processador, els dispositius d‚Äôentrada/sortida, la xarxa i els processos d‚Äôusuari.\n\n\n\n\n\n\n\nEl kernel es carrega a la mem√≤ria RAM durant el proc√©s d‚Äôarrencada i es troba normalment a la partici√≥ arrel del sistema de fitxers (generalment en /boot).\nEl kernel √©s un programa binari que es compila espec√≠ficament per a l‚Äôarquitectura de maquinari del sistema (per exemple, x86, ARM, etc.)\nPot ser personalitzat amb diferents m√≤duls i controladors segons les necessitats del sistema."
  },
  {
    "objectID": "slides/02-booting-part2.html#carregar-el-kernel",
    "href": "slides/02-booting-part2.html#carregar-el-kernel",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Carregar el kernel",
    "text": "Carregar el kernel\nPer carregar el kernel, el bootloader necessita:\n\nRuta del kernel\n\nNormalment un fitxer com vmlinuz-version dins de /boot.\n\nPartici√≥ arrel\n\nLa partici√≥ on es troba el sistema de fitxers del sistema operatiu.\n\nFitxer de configuraci√≥ del bootloader\n\nCom grub.cfg en el cas de GRUB, que indica ruta del kernel, par√†metres i initramfs.\n\nC√†rrega de l‚Äôinitramfs\n\nInitramfs (initial RAM filesystem) √©s un sistema de fitxers temporal a RAM.\n\nPermet inicialitzar controladors b√†sics i muntar la partici√≥ arrel real abans de transferir el control al kernel complet.\n\n\n\nL‚Äôinitramfs facilita la portabilitat i modularitat del kernel, permetent arrencar diferents configuracions de maquinari sense necessitat de recompilar el kernel cada cop."
  },
  {
    "objectID": "slides/02-booting-part2.html#qu√®-√©s-linitramfs",
    "href": "slides/02-booting-part2.html#qu√®-√©s-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu√® √©s l‚ÄôInitramfs?",
    "text": "Qu√® √©s l‚ÄôInitramfs?\nL‚ÄôInitramfs (Initial RAM Filesystem) √©s un petit sistema de fitxers integrat dins la imatge del nucli Linux.\n\nPermet que el kernel pugui muntar la partici√≥ arrel durant l‚Äôarrencada.\n\nA difer√®ncia de l‚Äôantic initrd, que residia en un disc, l‚Äôinitramfs es carrega completament a RAM com a imatge comprimida.\n\n\nObjectius\n\nProporcionar un sistema de fitxers temporal i m√≠nim.\n\nCarregar m√≤duls essencials del kernel necessaris per accedir a maquinari i sistemes de fitxers.\n\nExecutar scripts d‚Äôinicialitzaci√≥ abans de transferir el control al sistema complet."
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-i",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de l‚ÄôInitramfs (I)",
    "text": "Etapes de l‚ÄôInitramfs (I)\n\nDescompressi√≥ a la RAM\n\nEl fitxer CPIO de l‚Äôinitramfs es descomprimeix a un sistema de fitxers temporal a RAM (tmpfs), creant l‚Äôentorn m√≠nim necessari per iniciar el kernel.\n\n\nExecuci√≥ de l‚Äôscript /init\n\n/init √©s l‚Äôentrypoint principal de l‚Äôinitramfs.\n\nExecuta la seq√º√®ncia d‚Äôinicialitzaci√≥: muntatge de sistemes virtuals, c√†rrega de m√≤duls i preparaci√≥ de l‚Äôentorn.\n\n\nCreaci√≥ del sistema de fitxers temporal\n\nMuntatge de /proc, /sys i /dev.\n\nCreaci√≥ de directoris temporals (/tmp, /run) per permetre que els scripts i utilitats funcionin."
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-ii",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de l‚ÄôInitramfs (II)",
    "text": "Etapes de l‚ÄôInitramfs (II)\n\nCarregar m√≤duls del kernel\n\nCarrega controladors necessaris per accedir a maquinari (discos, controladors de xarxa, LVM, RAID, xifrat).\n\nSi els m√≤duls estan integrats al kernel, aquesta etapa pot ser m√≠nima o nul¬∑la.\n\nMuntatge de la partici√≥ arrel real\n\nLocalitza la partici√≥ arrel (per exemple /dev/sda1 o UUID=...).\n\nMuntatge en un punt temporal (/mnt/root o similar).\n\n\nTransici√≥ al sistema complet (switch_root)\n\nSubstitueix l‚Äôentorn temporal de l‚Äôinitramfs pel sistema de fitxers real.\n\nExecuta el binari init del sistema complet (normalment /sbin/init o systemd)."
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-iii",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-iii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de l‚ÄôInitramfs (III)",
    "text": "Etapes de l‚ÄôInitramfs (III)\n\nAlliberament de l‚Äôinitramfs\n\nDestruir l‚Äôentorn temporal a RAM.\n\nAlliberar la mem√≤ria utilitzada pel sistema de fitxers temporal, deixant el control complet al sistema operatiu."
  },
  {
    "objectID": "slides/02-booting-part2.html#caracter√≠stiques-de-linitramfs",
    "href": "slides/02-booting-part2.html#caracter√≠stiques-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Caracter√≠stiques de l‚ÄôInitramfs",
    "text": "Caracter√≠stiques de l‚ÄôInitramfs\n\nFacilita la portabilitat i modularitat del kernel, permetent arrencar diferents configuracions de maquinari sense necessitat de recompilar el kernel cada cop.\nNo sempre est√† present, pot estar buit o om√®s si el sistema no necessita un espai RAM inicial (per exemple, en sistemes simples o compilacions est√†tiques del nucli).\nEs configura durant la compilaci√≥ del nucli make menuconfig i es pot definir el contingut de l‚Äôinitramfs amb un fitxer de configuraci√≥, s‚Äôutiltizen variables:\n\nCONFIG_BLK_DEV_INITRD: Activa la creaci√≥ de l‚Äôinitramfs.\nCONFIG_INITRAMFS_SOURCE: Especifica el fitxer CPIO, un directori o un fitxer d‚Äôespecificaci√≥.\n\nTamb√© es pot personalitzar segons les necessitats del sistema, permetent afegir m√≤duls del kernel, scripts personalitzats o utilitats addicionals."
  },
  {
    "objectID": "slides/02-booting-part2.html#contingut-de-linitramfs",
    "href": "slides/02-booting-part2.html#contingut-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Contingut de l‚Äôinitramfs",
    "text": "Contingut de l‚Äôinitramfs\n\nFitxers executables\n\nEx: BusyBox, que encapsula moltes utilitats Unix (ls, cp, mount, shell, etc.).\n\nPoden incloure altres programes compilats est√†ticament.\n\nM√≤duls del kernel\n\nControladors per discos, xarxes, sistemes RAID o LVM.\n\nS√≥n carregats si no estan integrats dins del nucli.\n\nFitxers de dispositiu i sistemes especials\n\n/dev cont√© dispositius com tty o null.\n\nGestionats per utilitats com mdev o udev.\n\n\n\nTots aquests elements es troben comprimits en un fitxer CPIO, descomprimits a RAM durant l‚Äôarrencada i executats per l‚Äôscript /init."
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci√≥-de-linitramfs",
    "href": "slides/02-booting-part2.html#configuraci√≥-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci√≥ de l‚Äôinitramfs",
    "text": "Configuraci√≥ de l‚Äôinitramfs\nL‚Äôinitramfs es pot personalitzar segons les necessitats del sistema, permetent afegir m√≤duls del kernel, scripts personalitzats o utilitats addicionals. La configuraci√≥ dep√®n de la distribuci√≥:\nDebian/Ubuntu\nupdate-initramfs -u -k &lt;versi√≥&gt;\n# -u actualitza l'initramfs\n# -k especifica la versi√≥ del nucli\n\nFedora/Red Hat\ndracut -f /boot/initramfs-&lt;versi√≥&gt;.img &lt;versi√≥&gt;\n# -f for√ßa la regeneraci√≥\n# El primer argument √©s la ruta on es vol guardar l'initramfs generat\n# El segon argument √©s la versi√≥ del nucli"
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-i",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (I)",
    "text": "initramfs-tools (Debian) (I)\n\n/etc/initramfs-tools/modules\nLlista de m√≤duls addicionals del kernel a incloure a l‚Äôinitramfs, per exemple controladors de xarxa o discos RAID.\n\n/etc/initramfs-tools/hooks/\nScripts que s‚Äôexecuten durant la creaci√≥ de l‚Äôinitramfs, √∫tils per afegir fitxers o directoris personalitzats.\n\n/etc/initramfs-tools/conf.d/\nFitxers de configuraci√≥ addicionals per modificar par√†metres espec√≠fics de l‚Äôinitramfs.\n\n/etc/initramfs-tools/initramfs.conf\nConfiguraci√≥ principal, inclou opcions com compressi√≥, √∫s de scripts, par√†metres de muntatge.\n\n/usr/share/initramfs-tools/\nScripts i fitxers est√†ndard utilitzats per initramfs-tools, no modificats normalment."
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-ii",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (II)",
    "text": "initramfs-tools (Debian) (II)\n\n/etc/initramfs-tools/scripts/\nScripts que s‚Äôexecuten durant l‚Äôarrencada:\n\ninit-top/ ‚Üí scripts executats just despr√©s de descomprimir l‚Äôinitramfs i abans de muntar /proc, /sys i /dev. Ideal per inicialitzar serveis cr√≠tics o preparar dispositius especials.\n\ninit-bottom/ ‚Üí scripts executats just abans de fer switch_root al sistema complet. √ötil per passos finals com muntar la partici√≥ arrel, desbloquejar LUKS o activar LVM.\n\nlocal-bottom/ ‚Üí scripts addicionals definits per l‚Äôadministrador.\nlocal-top/ ‚Üí scripts addicionals definits per l‚Äôadministrador."
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-ii-1",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-ii-1",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (II)",
    "text": "initramfs-tools (Debian) (II)\n\npremount/ ‚Üí scripts executats abans de muntar la partici√≥ arrel. Ideal per preparar dispositius o sistemes de fitxers especials.\nmount/ ‚Üí scripts executats durant el muntatge de la partici√≥ arrel. √ötil per passos espec√≠fics relacionats amb el muntatge.\ncleanup/ ‚Üí scripts executats despr√©s de fer switch_root al sistema complet. Ideal per netejar recursos temporals o realitzar tasques posteriors a l‚Äôarrencada."
  },
  {
    "objectID": "slides/02-booting-part2.html#dracut-fedorared-hat",
    "href": "slides/02-booting-part2.html#dracut-fedorared-hat",
    "title": "Arrencada del sistema (Part 2)",
    "section": "dracut (Fedora/Red Hat)",
    "text": "dracut (Fedora/Red Hat)\n\n/etc/dracut.conf\nFitxer de configuraci√≥ principal de Dracut, on es poden definir opcions generals: compressi√≥, tipus de fitxer d‚Äôinitramfs, par√†metres del kernel, etc.\n\n/etc/dracut.conf.d/\nFitxers de configuraci√≥ addicionals, √∫tils per a configuracions espec√≠fiques de m√≤duls o projectes.\n\n/usr/lib/dracut/modules.d/\nCont√© m√≤duls est√†ndard de Dracut (ex: m√≤duls de xarxa, lvm, cryptsetup), carregats autom√†ticament segons la configuraci√≥.\n\n/etc/dracut/modules.d/\nM√≤duls personalitzats creats per l‚Äôadministrador, per afegir scripts o fitxers espec√≠fics.\n\n/usr/share/dracut/\nCont√© scripts i fitxers est√†ndard utilitzats durant la generaci√≥ de l‚Äôinitramfs, igual que a initramfs-tools."
  },
  {
    "objectID": "slides/02-booting-part2.html#quan-regenerar-linitramfs",
    "href": "slides/02-booting-part2.html#quan-regenerar-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Quan regenerar l‚Äôinitramfs?",
    "text": "Quan regenerar l‚Äôinitramfs?\n\nActualitzaci√≥ del nucli: Quan es compila o instal¬∑la un nou kernel, l‚Äôinitramfs associat ha de ser regenerat per garantir que carrega correctament els m√≤duls i el maquinari necessari.\nConfiguraci√≥ RAID: Si es modifiquen o s‚Äôafegeixen sistemes RAID, l‚Äôinitramfs ha de reflectir aquests canvis per assegurar un arrencada correcta.\nXifrat de discos: Per a sistemes amb particions xifrades (LUKS), cal actualitzar l‚Äôinitramfs despr√©s de canvis en la configuraci√≥ de xifrat per poder accedir a les particions durant l‚Äôarrencada.\nConfiguraci√≥ de xarxa: Si es canvien components de xarxa que s‚Äôutilitzen en el proc√©s d‚Äôarrencada (sistemes amb arrencada PXE)."
  },
  {
    "objectID": "slides/02-booting-part2.html#cas-dus-usb-amb-clau-de-desxifrat",
    "href": "slides/02-booting-part2.html#cas-dus-usb-amb-clau-de-desxifrat",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Cas d‚Äôus: USB amb clau de desxifrat",
    "text": "Cas d‚Äôus: USB amb clau de desxifrat\nUn cas d‚Äô√∫s com√∫ de l‚Äôinitramfs √©s en sistemes amb particions xifrades amb LUKS que utilitzen una clau emmagatzemada en un dispositiu USB per desxifrar la partici√≥ arrel durant l‚Äôarrencada.\n\n\n\nMunti els sistemes virtuals necessaris (/proc, /sys).\n\nMunti la unitat USB que cont√© la clau.\n\nLlegeixi la clau i desxifri la partici√≥ LUKS.\n\nActivar volums LVM si cal.\n\nMuntar la partici√≥ arrel i transferir el control amb switch_root.\n\n\n#!/bin/busybox sh\nmount -t proc proc /proc\nmount -t sysfs sys /sys\nmount /dev/sdb1 /mnt\nKEYFILE=/mnt/keyfile\ncryptsetup luksOpen /dev/sda1 crypted --key-file $KEYFILE\necho \"Retira el dispositiu USB i prem Enter per continuar.\"\nread\nvgchange -a y\nmount /dev/mapper/vg-root /mnt\nexec switch_root /mnt /sbin/init"
  },
  {
    "objectID": "slides/02-booting-part2.html#exercicis-propostas",
    "href": "slides/02-booting-part2.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nModificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB\nDesxifrat autom√†tic mitjan√ßant clau en disc secundari (USB emulat)\nDiscussi√≥: Secure Boot √©s realment segur?: Cerca not√≠cies recents sobre Secure Boot i comparteix-les al f√≤rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi√®ncies personals."
  },
  {
    "objectID": "slides/02-booting-part2.html#thats-all",
    "href": "slides/02-booting-part2.html#thats-all",
    "title": "Arrencada del sistema (Part 2)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc√©s d‚Äôarrencada √©s un proc√©s complex. Els administradors de sistemes han de con√®ixer aquest proc√©s per poder gestionar i solucionar problemes durant l‚Äôarrencada del sistema i garantir un sistema segur, estable i eficient."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "AMSA: Administration and Maintenance of Systems and Applications",
    "section": "",
    "text": "Welcome to the AWS (Amazon Web Services) lab. This lab is designed to provide the knowledge and skills necessary to manage and maintain computer systems in professional environments.\n\n\n\nCourse Title\nSystems and Applications Administration and Management\n\n\nSemester\n1st Semester of the Bachelor‚Äôs Degree in Computer Engineering\n\n\nCourse Year\nThird Year\n\n\nProfessor\nFrancesc Solsona\n\n\nSchool\n\n\n\nUniversity\n\n\n\nDepartment"
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html",
    "href": "laboratories/01-foundations/02-aws-wordpress.html",
    "title": "Deploying a web application",
    "section": "",
    "text": "ARCHITECTURE\nCONTENTS:",
    "crumbs": [
      "2 ¬∑ Deploying a web application"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#creating-a-data-base-db-with-rds",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#creating-a-data-base-db-with-rds",
    "title": "Deploying a web application",
    "section": "1. Creating a Data Base (DB) with RDS",
    "text": "1. Creating a Data Base (DB) with RDS\nAWS‚Äô relational database service (RDS) is a very interesting option for deploying MySQL, MariaDB, PostgreSQL, Oracle, SQL Server, and Aurora databases. This service offers easy and efficient database management, as well as the ability to perform backups, scalability, and high availability.\n\nLet‚Äôs go to the console of Aurora and RDS.\nIn the Aurora and RDS console, click on Create a database\n\nChoose a database creation method Full configuration\nSelect data base engine MySQL\nSelect the data base version MySQL 8.0.44\nSelect the template Sandbox\nDB instance identifier wordpress-db\nMaster username admin\nCredential management: self-managed\nSet the password (Lleida2030!!). Type a password for the master and confirm it.\nSave the password. Leave the rest of the parameters as default. Once finished, click Create database.\n\nWait a few minutes until the column Status turns green and says Available.\nOnce the database is available, click on the database and go to the tab Connectivity & security to view the connection details.\n\nDB identifier: wordpress-db\nEndpoint: wordpress-db.cp66aquygfg3.us-east-1.rds.amazonaws.com\nPort: 3306\n\nSave Endpoint (this is the Hostname of the DB). It will be used later.\nTo test the connection, we need a MySQL client. The easiest way is to create an EC2 instance and install the MySQL client.\n5.1. Create an EC2 instance with Amazon Linux 2023\nGo to the EC2 dashboard. You can do this by typing EC2 into the search bar and clicking on the EC2 service:\n\n\n\nAWS Dashboard\n\n\nOnce you‚Äôre on the EC2 dashboard, click on Instances &gt; Launch Instance, as shown below:\n\n\n\nEC2 Dashboard\n\n\nEnter a name: AMSA\nLeave everything as it is except Key pair name : If you have created a private key pair (as aws-keypair in the figure), select it, else select vockey. Then click Launch instance.\n\n\n\nEC2 Dashboard\n\n\nWe now have a running EC2 instance. This means we have a remote machine on AWS that we can connect to from our local computer using SSH. Let‚Äôs see how to do that.\n5.2. Connect to the EC2 instance\ngo to the EC2 dashboard. Select the EC2 instance just created: AMSA click on Connect , and then Connect again.\nYou will enter in a terminal of the EC2 instance you created, as the user ec2-user, like this:\n\n5.3. Install the MySQL client:\n# Search for the package to install\ndnf search mysql\n# Let‚Äôs install the MariaDB client\nsudo dnf install mariadb105 -y\nAdd a rule to the Security Group of the database to allow connections from the EC2 instance.\n6.1. Go to the console of Amazon RDS\n6.2. Select our database instance (wordpress-db)\n6.3. In the section Connectivity & security, search for the Security Group associated with the database\n6.4. Click on the default security group  of type EC2 Security Group - Inbound to edit the rules (similar to default sg-0efc4051ab6288a2d). Click again in the same security group (default sg-0efc4051ab6288a2d) and then in Inboud rules, click on Edit Inboud rules:\n\n6.5. Add a new inbound rule to allow connections from the IP address of our EC2 instance. Select the connection type MySQL/Aurora and enter the IP address of the EC2 instance. To do this, you need to click on Edit inbound rules and then add the following rule:\nType: MySQL/Aurora\nProtocol: TCP\nPort Range: 3306\nSource: Custom\nSelect the security group of the EC2 instance (launch-wizard-1)\nConnect to the RDS database from the EC2 instance:\nmysql -h hostname -u admin -p\n# Introdueix la contrassenya d'admin (creada abans) quan et demani\nhostname is the database saved earlier (wordpress-db.cp66aquygfg3.us-east-1.rds.amazonaws.com) and admin is the master user created earlier, along with its password. This is:\nmysql -h wordpress-db.cp66aquygfg3.us-east-1.rds.amazonaws.com -u admin -p\n# Lleida2030!!\nWhen entering MySQL, at the MySQL promtp, create the database wordpressdb, user wordpressuser and password wordpresspasswd, with all permissions:\nCREATE DATABASE wordpressdb;\nCREATE USER 'wordpressuser'@'%' IDENTIFIED BY 'wordpresspasswd';\nGRANT ALL PRIVILEGES ON wordpressdb.* TO 'wordpressuser'@'%';\nFLUSH PRIVILEGES;\nexit\nWe already have the database ready for the WordPress installation",
    "crumbs": [
      "2 ¬∑ Deploying a web application"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#installing-wordpress-on-the-ec2-instance",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#installing-wordpress-on-the-ec2-instance",
    "title": "Deploying a web application",
    "section": "2. Installing WordPress on the EC2 instance",
    "text": "2. Installing WordPress on the EC2 instance\n\nTo install WordPress, a web server must be installed first (Apache) in the EC2 instance:\nsudo dnf install httpd -y\nsudo systemctl start httpd\nsudo systemctl enable httpd\n\n\n\n\n\n\n\nTipNote\n\n\n\nNote that the start command start the Apache service, but it does not make it start automatically when the machine is rebooted. Therefore, we also need to run the enable command\n\n\n\nBy default, the security group of the EC2 instance does not allow HTTP connections (port 80). You can verify this by trying to access the public IP address of the EC2 instance from a web browser. Enter EC2, click instances, choose the instance wordpress, copy the Public IPv4 address (i.e.¬†44.200.65.68). Insert http:44.200.65.68 in a browser. You will see that it cannot connect.\n\n\n\n\n\n\n\nTipNote\n\n\n\nIf you click the link to the public IP address, it will try to access via HTTPS, but since we don‚Äôt have an SSL certificate, it won‚Äôt work. Manually modify the URL to http://\n\n\n\nWe need to add an inbound rule to the security group to allow HTTP connections:\n\nGo to the console of EC2\nSelect our EC2 instance\nIn the section of Security, click on the Security Group associated with the instance (launch-wizard-1).\nAdd a new inbound rule to allow HTTP connections:\nType: HTTP\nProtocol: TCP\nPort Range: 80\nSource: Anywhere (0.0.0.0/0)\n\n\nInsert http:44.200.65.68in a browser. It will appear in the screen It works!\n\n\n\n\n\n\nTipNote\n\n\n\nThis rule will allow HTTP connections from anywhere\n\n\n\nOnce the rule has been added, we can access the public IP address of the EC2 instance from the web browser. We should see Apache‚Äôs default page\nA requirement for WordPress is to have PHP installed. Let‚Äôs install PHP and the necessary extensions:\nsudo dnf install php8.1 -y\nsudo dnf install php-curl php-zip php-gd php-soap php-intl php-mysqlnd php-pdo -y\nRestart the Apache service to load the PHP extensions:\nsudo systemctl restart httpd\nNow we can install WordPress. First, we download the latest version of WordPress and save it to Apache‚Äôs default directory:\ncd /tmp\nwget https://wordpress.org/latest.tar.gz\ntar -xvzf latest.tar.gz\nsudo mv wordpress/* /var/www/html/\nsudo rm -rf wordpress latest.tar.gz\nsudo chown -R apache:apache /var/www/html/\nAccess the public IP address of the EC2 instance from your web browser (http:44.200.65.68). You should see the WordPress installation page\nFollow the steps of the WordPress installation:\n\nSelect the language (catal√†). In English doesn‚Äôt work.\nClick on Continua\nClick on Som-hi!\nEnter the database connection details:\n\nDatabase Name: wordpressdb\nUsername: wordpressuser (previously created user)\nPassword: wordpresspasswd (password created earlier)\nDatabase Host: the RDS database endpoint (for example: wordpress-db.cp66aquygfg3.us-east-1.rds.amazonaws.com)\nTable Prefix: wp_ (default)\n\nClick on Envia\nIf everything is correct, click on Executa la instal¬∑laci√≥\nEnter the site title (AMSA Lab02), el nom d‚Äôusuari (francesc), the password (9T3nEBqnFqDW3uhc7S) and the email (francesc.solsona@udl.cat)\nClick on Instal¬∑la el WordPress\nOnce the installation is complete, click on Inicia sessi√≥ and enter the credentials you created\nYou will enter in the WordPress administration web (http:44.200.65.68/wp-admin).",
    "crumbs": [
      "2 ¬∑ Deploying a web application"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#cleanup",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#cleanup",
    "title": "Deploying a web application",
    "section": "3. Cleanup",
    "text": "3. Cleanup\nOnce completed, you can delete all EC2 instances and the RDS database to avoid unnecessary charges to your AWS account.",
    "crumbs": [
      "2 ¬∑ Deploying a web application"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html",
    "href": "laboratories/01-foundations/01-aws-introduction.html",
    "title": "Executing a Python script in a EC2 instance",
    "section": "",
    "text": "CONTENTS:",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-1-creacio-dun-compte-daws-academy",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-1-creacio-dun-compte-daws-academy",
    "title": "Executing a Python script in a EC2 instance",
    "section": "1. Creating an AWS Academy Account",
    "text": "1. Creating an AWS Academy Account\nCheck your email to see if you have received an email from AWS Academy with the subject Course Invitation. If you haven‚Äôt received it, let me know. The email will contain a button labeled Get Started. Click this button to begin the registration process.\n\nAfter clicking the Get Started button, you will be redirected to the AWS Academy login page. Now click the Create my account button to start the registration process, as shown below:\n\nChoose a password and complete the registration process. Once you have completed the registration, you will be redirected to the AWS Academy dashboard. Congratulations! You have successfully created your AWS Academy account.",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-2-acces-al-tauler-daws",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-2-acces-al-tauler-daws",
    "title": "Executing a Python script in a EC2 instance",
    "section": "2. Accessing the AWS Dashboard",
    "text": "2. Accessing the AWS Dashboard\nNow that you have created your AWS Academy account, you can access the AWS dashboard. The first thing you need to do is click the Courses tab (1) on the left side of the screen. You will see a list of courses available to you. Click the course AWS Academy Learner Lab (2), as shown in the screenshot below:\n\n\n\n\n\n\n\nNote\n\n\n\nThe course AWS Academy Learner Lab is the course you will use for these practical labs.\n\n\nNow we need to look for the Modules tab (1) on the left side of the screen. Click on it and you will see a list of modules available to you. Click on the AWS Academy Learner Lab module (2), as shown below:\n\nYou will now be asked to accept the course terms and conditions. Do this by scrolling to the bottom of the page and clicking the button I Agree.\n\nAfter accepting the terms and conditions, you just need to click the button Start Lab.\n\nNow give it a few minutes to load. You will see this animation while the lab is being prepared for you:\n\nFinally, when the lab is ready, you will see that the dot next to AWS is green. You will also see a timer counting down from 4 hours. This is the time you have to work in the lab. To the left of the timer, you will see your budget status. You have a budget of $50 to spend on AWS services. Click on AWS to access the AWS dashboard, as shown below:\n\n\n\n\n\n\n\nImportantConsiderations about the laboratories\n\n\n\nThe labs are a real AWS environment, so it‚Äôs important to be careful with resources and your actions.\n\nIf you exceed the $50 budget, you will no longer have access to the AWS dashboard and you will lose your work. Make sure to monitor your budget ‚Äî it is each student‚Äôs responsibility to stay within the limit.\nThe labs last for 4 hours. Once the 4 hours have passed, the session will expire and you will not be able to access the AWS dashboard. However, this does not mean you will automatically lose your work.\nThe tasks and resources you have created (such as EC2 instances, S3 buckets, etc.) will remain accessible between sessions, as long as you do not delete them manually. You can restart the lab as many times as you want, but it is good practice to stop or shut down services you no longer need to avoid consuming unnecessary resources by clicking Reset.\nTherefore, if you start a lab and leave it unfinished, you will be able to resume it in a later session.Per tant, si comences un laboratori i el deixes a mig fer, podr√†s reprendre‚Äôl en una sessi√≥ posterior.\n\n\n\nGreat! You have now accessed the AWS dashboard. You will see a screen similar to the one below:",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-3-importaci√≥-de-la-clau-p√∫blica-a-aws",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-3-importaci√≥-de-la-clau-p√∫blica-a-aws",
    "title": "Executing a Python script in a EC2 instance",
    "section": "3. Creating an SSH key pair",
    "text": "3. Creating an SSH key pair\nThe SSH key is a security mechanism that enables secure authentication between two systems. The Amazon EC2 server holds the public key, and the client (your local computer) holds the private key. When the client connects to the server, the server checks whether the client‚Äôs public key matches the server‚Äôs private key. If the keys match, the client connects to the server. Therefore, the private key must never be shared with anyone, while the public key can be shared freely and used on multiple servers. Currently, there is no mechanism to obtain the private key from the public key.\nTo create an SSH key pair, we will use the ssh-keygen command. This command is available on most operating systems, including Linux, macOS, and Windows (via PowerShell or Windows Subsystem for Linux - WSL). If you are using Windows and do not have access to ssh-keygen, you can use tools like PuTTYgen to generate SSH keys.\nThis command has several parameters that allow you to customize the SSH key. The most common parameters are:\n\n-t: Specifies the encryption type of the key. The most common types are rsa, dsa, ecdsa, and ed25519.\n-f: Specifies the name of the file where the key will be saved.\n-b: Specifies the length of the key in bits.\n\nThe first step to create the SSH key pair is to make sure the .ssh directory exists. To do this, open a terminal on your local computer and type the following command:\nmkdir .ssh\n\n\n\n\n\n\nWarning\n\n\n\nIf the .ssh directory already exists, you will get an error indicating that the directory already exists. This is normal; it simply means the directory was already there.\n\n\nNow we will create the SSH key pair. Type the following command:\nssh-keygen -t rsa -f .ssh/aws-keypair\nYou will be asked to enter a passphrase. You can leave it empty by pressing Enter twice (I recommend doing this for simplicity; otherwise, you will have to enter the passphrase every time you connect to the remote machine). You should see an output similar to the following:\nGenerating public/private rsa key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in .ssh/aws-keypair\nYour public key has been saved in .ssh/aws-keypair.pub\nThe key fingerprint is:\nSHA256:uhINFvYaJh6MbwFQCXdZyrW7W46jFGHUhLglDgQ5OYE ferran@DESKTOP-0841\n+---[RSA 3072]----+\n|XBooo*+          |\n|E.++*o..         |\n| O ==o.          |\n|. B.=...         |     \n| o *.=. S        |\n|  + o..o         |\n| .  ..o .        |\n|   .. .*         |\n|    .o+..        |\n+----[SHA256]-----+\nssh-keygen is the command to generate the key pair. The -t rsa option specifies the type of key to create, in this case an RSA key, and -f .ssh/aws-keypair specifies the filename for the key pair. You can name the file whatever you like, but it‚Äôs important to remember the name you choose. In this example, we are naming it aws-keypair. I recommend using the same name to avoid confusion later.\n\n\n\n\n\n\nTipEntendre les claus SSH - Veure video\n\n\n\nIt is essential to understand how public and private keys work and how they are used to establish a connection SSH, see aquest v√≠deo.\n\n\nWe can check the contents of the directory .ssh with:\nls .ssh\nWe should now see two files, aws-keypair and aws-keypair.pub. The first is the private key and the second is the public key. The private key should never be shared with anyone, while the public key is the one that should be shared with the remote machine. A useful command to inspect the contents of a file is `cat. For example, to view the contents of the public key, type the following command:\ncat .ssh/aws-keypair.pub\n\n\n\n\n\n\nNote\n\n\n\nYou can also inspect the contents of the .ssh folder and the files inside it using the File Explorer (or Finder on Mac devices). But be careful ‚Äî by default, folders and files that start with a dot, . (like .ssh) are hidden in most file explorers, and if you want to see them, you‚Äôll need to enable the option to show hidden files. Check this tutorial to see how to do it on your operating system.\nAnother thing to keep in mind is that file extensions (i.e., the part of the file name that comes after the last .) are also usually hidden. This means that in the File Explorer you might see two files named aws-keypair when in reality one is aws-keypair and the other is aws-keypair.pub. Here‚Äôs [a tutorial]https://www.gottheknack.com/a-how-to/file-systems/file-ext-and-details-view/file-ext-and-details-view.html) on how to show file extensions on your operating system.\nYou don‚Äôt need to worry about any of this if you‚Äôre using the terminal ‚Äî the terminal will show files and their extensions as they are. However, to view hidden files and folders (those that start with a .), you‚Äôll need to use the command ls -a.\nls -a .ssh\n\n\nWe have created an SSH key pair that we can use to connect to remote machines. Next, we will import our public key into AWS.",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-4-importacio-de-la-clau-publica-a-aws",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-4-importacio-de-la-clau-publica-a-aws",
    "title": "Executing a Python script in a EC2 instance",
    "section": "4. Importing the public key into AWS",
    "text": "4. Importing the public key into AWS\nNow that we‚Äôve created our SSH key pair, we need to import the public key into AWS so we can use it to connect to the EC2 instances we‚Äôll create later. To do this, we need to go back to the AWS dashboard, which is where we left off after completing Step 2.\nNow we‚Äôll go to the search bar and look for the EC2 service. Type EC2 into the search bar and click on the EC2 service, as shown below:\n\n\n\nAWS Dashboard\n\n\nAra veureu el tauler d‚ÄôEC2. A la part esquerra de la pantalla, veureu una llista d‚Äôopcions. Feu clic a Import key pair, com es mostra a continuaci√≥:\n\n\n\nAWS Dashboard\n\n\nNow you need to give a name to the key pair. You can name it whatever you like, but I suggest naming it aws-keypair to keep things simple. You can now insert the public key into the text box, or you can click the Browse button to select the public key file from your computer. Just click Browse, navigate to the .ssh folder, and select the aws-keypair.pub file. But remember, the file must be the public key file, not the private key file. That means the file must have the .pub extension. Once you‚Äôve selected the file, click Import Key Pair.\n\n\n\nAWS Dashboard\n\n\n\n\n\n\n\n\nNote\n\n\n\nRemember, as explained in the previous note, you might not see the .ssh folder in the file explorer, and you might not see the .pub extension of the file. If you‚Äôre having trouble with this, I recommend using the terminal to copy the contents of the file, as shown in the screenshot above.\n\n\nYou should now see the key pair you just imported in the list of key pairs. There will probably be another key pair there ‚Äî that‚Äôs fine, you can ignore it. Perfect! You‚Äôve now imported the public key into AWS. Next, we‚Äôll create an EC2 instance and configure it to use the key pair we just imported.",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-5-creacio-duna-instancia-ec2",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-5-creacio-duna-instancia-ec2",
    "title": "Executing a Python script in a EC2 instance",
    "section": "5. Creating an EC2 instance",
    "text": "5. Creating an EC2 instance\nThe first step will be to go to the EC2 dashboard. You can do this by typing EC2 into the search bar and clicking on the EC2 service, just like we did at the beginning of Step 3:\n\n\n\nAWS Dashboard\n\n\nOnce you‚Äôre on the EC2 dashboard, click on Instances &gt; Launch Instance, as shown below:\n\n\n\nAWS Dashboard\n\n\nLeave everything as it is except for the Key pair (login) option (you‚Äôll need to scroll down to find it). Click the dropdown menu and select the key pair you imported earlier. In this case, it should be aws-keypair. Click Launch instance, as shown below\n\n\n\nAWS Dashboard\n\n\nWe now have a running EC2 instance with our public key imported. This means we have a remote machine on AWS that we can connect to from our local computer using SSH. Let‚Äôs see how to do that.",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#pas-6-connexio-a-la-instancia-ec2",
    "href": "laboratories/01-foundations/01-aws-introduction.html#pas-6-connexio-a-la-instancia-ec2",
    "title": "Executing a Python script in a EC2 instance",
    "section": "6. Connecting to the EC2 instance",
    "text": "6. Connecting to the EC2 instance\nBefore connecting to the remote machine, I want you to try a few commands on your local computer that we will repeat once we are connected to the remote machine. One of the commands is pwd, which stands for print working directory, as mentioned earlier. This command will show you the path to the directory you are currently in. The other command is whoami, which will show you the username you are logged in with. Try these commands on your local computer and remember the output. We will repeat them once we are connected to the remote machine.\nBelow is the output I get on my local computer:\nPS C:\\Users\\fnao&gt; pwd\n\nPS C:\\Users\\fnao&gt; whoami\ngft\\fnao\nPS C:\\Users\\fnao&gt;\n\n\n\n\n\n\nWarning\n\n\n\nThe local computer I‚Äôm using is a Windows laptop, so the output will be different from yours if you‚Äôre using a Mac or a computer running Linux. Replace fnao with your own username and C:\\Users\\fnao with the path to your user directory.\n\n\nTo connect to the EC2 instance, we will use the terminal on our local computer, just as we did at the beginning Step 3, Open a terminal on your local computer. We will use the ssh command to connect to the remote machine. The command will look like this:\nssh -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;\nYou will need to replace &lt;public-ip&gt; with the public IP of the EC2 instance. To find the public IP, go back to the EC2 dashboard and click on Instances, on the left side of the screen. You will see a list of instances‚Äîclick on the one you created. You will see the public IP at the bottom of the screen, as shown below:\n\n\n\nAWS Dashboard\n\n\nBoth the Public IPv4 address and the Public IPv4 DNS can be used as &lt;public-ip&gt; in the ssh command. Copy whichever you prefer and paste it into the ssh command. The command should look something like this if you use the IP address:\nssh -i .ssh/aws-keypair ec2-user@98.84.68.70\nor like this if you use the DNS:\nssh -i .ssh/aws-keypair ec2-user@ec2-98-84-68-70.compute-1.amazonaws.com\nIf this is the first time you‚Äôre connecting to the remote machine, you‚Äôll get a warning. This is normal‚Äîjust type yes and press Enter. You should now be connected to the remote machine. You‚Äôll see a message similar to the following:\n   ,     #_\n   ~\\_  ####_        Amazon Linux 2023\n  ~~  \\_#####\\\n  ~~     \\###|\n  ~~       \\#/ ___   https://aws.amazon.com/linux/amazon-linux-2023\n   ~~       V~' '-&gt;\n    ~~~         /\n      ~~._.   _/\n         _/ _/\n       _/m/'\nLast login: Sun Mar  2 09:50:33 2025 from 79.156.58.43\n[ec2-user@ip-172-31-86-82 ~]$\n\n\n\n\n\n\nImportantExercici\n\n\n\nInvestigate the meaning and importance of the message you accept when connecting to the remote machine for the first time. Why is it important to accept this message? What does it mean? What are its implications?\n\n\nYou are now connected to the remote machine. It‚Äôs important to understand that from this point on, the commands we type will be executed on the remote machine, not on our local computer. To verify this, type the commands pwd and whoami as we did on our local computer. You‚Äôll see that the output is different. Below is the output I get on the remote machine:\n[ec2-user@ip-172-31-86-82 ~]$ pwd\n/home/ec2-user\n[ec2-user@ip-172-31-86-82 ~]$ whoami\nec2-user\n[ec2-user@ip-172-31-86-82 ~]$",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#execucio-en-el-nostre-laboratori-remot",
    "href": "laboratories/01-foundations/01-aws-introduction.html#execucio-en-el-nostre-laboratori-remot",
    "title": "Executing a Python script in a EC2 instance",
    "section": "7. Working in the EC2 instance",
    "text": "7. Working in the EC2 instance\nThis step will cover file transfer between the local machine and the remote machine. Additionally, we will use a Python script to simulate a workload and generate a graph from a data file.\n\n7.1. Transferring a data file to the EC2 instance EC2\nTo transfer a data file (workload.csv) to the EC2 instance, we will use SFTP (SSH File Transfer Protocol). SFTP is a secure protocol for transferring files between a local computer and a remote machine. We will use the same SSH key pair we created earlier to authenticate to the EC2 instance.\n\nDownload the data file workload.csv to your local computer.\nUse SFTP to upload the data file to the EC2 instance:\n\n# Replace &lt;public-ip&gt; with the public IP of your EC2 instance\nsftp -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;:/home/ec2-user/lab01-workload-simulation\n# Download the workload.csv file from the remote directory to your local machine\nput workload.csv\n# Close the SFTP session\nexit\n\n\n7.2. Setup and Python script execution in the EC2\nFirst, we need to prepare the environment on our EC2 instance. This includes installing the necessary tools to run our Python script and manage data. So, we‚Äôll connect to the EC2 instance via ssh as we did earlier and run the following commands to install the required tools.\n\nConnect to the EC2 instance:\n\nssh -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;\n\nSystem update:\n\nsudo yum update -y\n\nCheck if Python is installed, and if not, install it:\n\npython3 --version # Comprova si Python est√† instal¬∑lat\nsudo yum install python3 -y # Instal¬∑la Python si no est√† instal¬∑lat\n\nCreate a virtual environment for Python:\n\npython3 -m venv myenv\nsource myenv/bin/activate\n\nCheck the virtual environment with a Hello World:\n\npython3 -c \"print('Hello World from the virtual environment')\"\n\nInstall the necessary libraries for our script:\n\npip install pandas matplotlib psutil\n\nCreate a virtual environment for Python:\n\nmkdir lab01-workload-simulation\ncd lab01-workload-simulation\n\nCreate the Python script file, using vi or vim:\n\nvi simulate_workload.py\n\n#!/usr/bin/env python3\nimport sys\nimport time\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ndef main():\n    if len(sys.argv) != 2:\n        print(\"√ös: python3 simulate.py workload.csv\")\n        sys.exit(1)\n\n    csv_file = sys.argv[1]\n    df = pd.read_csv(csv_file)\n\n    print(\"Simulaci√≥ d'√∫s de CPU i mem√≤ria (amb gr√†fic)\\n\")\n\n    plt.ion()\n    fig, ax = plt.subplots()\n    cpu_vals, mem_vals, ts_vals = [], [], []\n\n    for i, row in df.iterrows():\n        ts = row['timestamp']\n        cpu = row['cpu_usage']\n        mem = row['memory_usage']\n\n        print(f\"[{ts}] CPU: {cpu:.2f}%  |  MEM: {mem:.2f}%\")\n\n        ts_vals.append(ts)\n        cpu_vals.append(cpu)\n        mem_vals.append(mem)\n\n        ax.clear()\n        ax.plot(ts_vals, cpu_vals, label=\"CPU (%)\", color=\"tab:red\", marker=\"o\")\n        ax.plot(ts_vals, mem_vals, label=\"Mem√≤ria (%)\", color=\"tab:blue\", marker=\"x\")\n        ax.set_ylim(0, 100)\n        ax.set_xlabel(\"Temps\")\n        ax.set_ylabel(\"√ös (%)\")\n        ax.set_title(\"Simulaci√≥ de c√†rrega del sistema\")\n        ax.legend()\n        plt.xticks(rotation=45)\n\n\n    print(\"\\n--- Fi de la simulaci√≥ ---\")\n    plt.savefig(\"workload_analysis.png\")\n\nif __name__ == \"__main__\":\n    main()\n\nRun the script with the following command:\n\npython3 simulate_workload.py workload.csv\nNow it should work correctly and generate an image file with the workload graph. You can check that the image file has been created correctly using the `ls -l command. Once the image has been generated, you can use SFTP to download it to your local machine:",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#neteja-final",
    "href": "laboratories/01-foundations/01-aws-introduction.html#neteja-final",
    "title": "Executing a Python script in a EC2 instance",
    "section": "8. Cleanup",
    "text": "8. Cleanup\nOnce you‚Äôve finished the lab, it‚Äôs important to shut down the EC2 instance to avoid unnecessary costs. To do this, go back to the EC2 dashboard and select the instance you created. At the top of the screen, click on Instance state and then on Terminate instance.",
    "crumbs": [
      "1 ¬∑ Executing a Python script in a EC2 instance"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html",
    "href": "laboratories/02-network/01-aws-wordpress.html",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "",
    "text": "ARCHITECTURE\nIn this lab, we will design and implement a robust and secure network architecture to host a WordPress application. The architecture is based on the use of 2 Availability Zones (AZ) located in 1 Region to ensure that our WordPress is highly available and fault-tolerant.\nThe image shows how, through the internet, users access the Load Balancer, which distributes traffic to the EC2 instances hosting WordPress. These instances connect to the RDS database to manage WordPress content. The EC2 instance in the DMZ allows secure access for the administration of private resources\nComponents:"
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#vpc-and-subnets",
    "href": "laboratories/02-network/01-aws-wordpress.html#vpc-and-subnets",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "1. VPC and Subnets",
    "text": "1. VPC and Subnets\nThe first step in our architecture is to define a VPC (Virtual Private Cloud) and the necessary subnets to isolate the different components of the application. The VPC will provide a virtualized network environment where we can deploy our AWS resources. We will configure it with the network 10.0.0.0/16, which gives us up to 65,536 IP addresses, more than enough for our use case.\n\n\n\n\n\n\nNoteCIDR, Hosts and Reserved Adresses üß†\n\n\n\nThe subnet mask determines the number of IP addresses available within a network or subnet. This is expressed using CIDR notation (Classless Inter-Domain Routing), where the value (/n) indicates the number of bits reserved for the Network portion. A subnet mask of /16 means that the first 16 bits of the IP address are reserved for network identification, leaving the other 16 bits for host identification. This allows up to 65,536 IP addresses (\\(2^{32-16}\\)) within that network.\nWhen you perform subnetting to create subnets within your VPC, you increase the CIDR value (for example, from /16 to /24) to reduce the size of the subnets and better isolate traffic. For example, a subnet with CIDR /24 has 256 IP addresses (\\(2^{32-24}\\)).\nRemember that the total calculated addresses are not the total usable addresses for your servers (hosts). Some addresses are reserved for special uses, such as network identification and broadcast.\n\n\nPodem definir la VPC a trav√©s de la interf√≠cie web d‚ÄôAWS, utilitzant els formularis disponibles:\n\n\n\nVPC definition\n\n\n\n1.2. Creating the Subnets\nAdd the necessary subnets for our architecture. Go to VPC ‚Üí Subnets ‚Üí Create subnet. Select the VPC we just created and add the following subnets:\n\nAMSA-DMZ-01: Public subnet in the zone us-east-1a. This subnet will host the EC2 instance that will serve as a secure access bridge (via SSH tunnel) for managing all private resources. (10.0.1.0/24).\n\n\n\n\nAMSA-DMZ-01\n\n\n\nAMSA-DMZ-02: Public subnet in the zone us-east-1b. This subnet will host the EC2 instance that will serve as a secure access bridge (via SSH tunnel) for managing all private resources. (10.0.2.0/24).\n\n\n\n\nAMSA-DMZ-02\n\n\n\nAMSA-Private01: Private subnet for the WordPress instances in the availability zone us-east-1a. (10.0.3.0/24).\n\n\n\n\nAMSA-Private01\n\n\n\nAMSA-Private02: Private subnet for the WordPress instances in the availability zone us-east-1b. (10.0.4.0/24)\n\n\n\n\nAMSA-Private02\n\n\n\nAMSA-Data: Private subnet for the WordPress instances in the availability zone us-east-1c. (10.0.5.0/24)\n\n\n\n\nAMSA-Data"
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#routing-tables-and-associations",
    "href": "laboratories/02-network/01-aws-wordpress.html#routing-tables-and-associations",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "2. Routing Tables and Associations",
    "text": "2. Routing Tables and Associations\nTo manage traffic routes and determine how it is distributed among the subnets, we will create route tables and associate them with the corresponding subnets..\n\n2.1. Internet Gateway Configuration\nWe will use an Internet Gateway (IGW) to allow the public subnets (AMSA-DMZ-01 and AMSA-DMZ-02) to have both inbound and outbound Internet access. To do this, we will first create the IGW and then associate it with our VPC.\nThe first step is to create the Internet Gateway. Go to VPC ‚Üí Internet Gateways ‚Üí Create internet gateway. Once created, name it AMSA-IG.\n\n\n\nInternet Gateway for the VPC\n\n\nThe second step is to associate the Internet Gateway with the VPC. Select the Internet Gateway we just created and click on Actions ‚Üí Attach to VPC. Select the VPC AMSA-VPC and click on Attach internet gateway.\n\n\n\nAssociation of the Internet Gateway with the VPC\n\n\n\n\n\nAssociation of the Internet Gateway with the VPC\n\n\n\n\n\n\n\n\nWarningAttached IGW üõë\n\n\n\nMake sure the Internet Gateway is correctly associated with the VPC. If it is not associated, the public subnets will not be able to access the Internet.\n\n\n\n\n2.2. Creation of Routing Tables\nEach subnet needs a route table to define how inbound and outbound traffic is directed. We will create specific route tables for each type of subnet (public and private) and associate them with the corresponding subnets.\n\n2.2.1. Routing for public subnets (DMZ)\nThe first step is to create the route table for the public subnets. Go to VPC ‚Üí Route Tables ‚Üí Create route table. Select VPC AMSA-VPC and name the route table AMSA-DMZ01-RT.\n\n\n\nRoute table for the subnet AMSA-DMZ01-RT\n\n\nThe second step is to associate the route table (AMSA-DMZ01-RT) with the subnet AMSA-DMZ-01 allow outbound traffic to the Internet through the Internet Gateway we created earlier.\n\n\n\nAssociation of the route table with the subnet AMSA-DMZ-01\n\n\nThe third step is to allow outbound traffic to the Internet through the Internet Gateway we created earlier. To do this, go to the section Routes and click on Edit routes. Next, Add route and edit (Destination: 0.0.0.0/0; Target:Seleccionar el AMSA-IG).\n\n\n\nAllowing traffic with the outside through the IG\n\n\n\n\n\n\n\n\nWarningAMSA-DMZ-02 üõë\n\n\n\nPerform the same steps for the subnet AMSA-DMZ-02, modifying only the name of the route table and the association with the subnet.\n\n\n\n\n2.2.2. Routing for private subnets\nPrivate subnets do not have direct access to the Internet for security reasons. Therefore, we need to configure the route tables for these subnets so that they can access the Internet through a NAT Gateway (Network Address Translation Gateway). This will allow instances within the private subnets to initiate outbound connections, but prevent external sources from initiating connections to them.\n\n\n\n\n\n\nNoteNAT Gateway üß†\n\n\n\nA NAT Gateway is a managed service by AWS that allows instances in a private subnet to access the Internet for software updates, package downloads, etc., without exposing those instances directly to the Internet. The NAT Gateway translates the private IP addresses of the instances into a public IP address when those instances make requests to the Internet.\n\n\nTo create the NAT Gateway, we need an Elastic IP. Therefore, we will first create an Elastic IP and then use it to create the NAT Gateway. Name it AMSA-NAT-EIP.\n\n\n\nCreating the Elastic IP\n\n\n\n\n\nUpdate the name of the Elastic IP\n\n\nOnce we have the Elastic IP, we can create the NAT Gateway. Name it AMSA-NG and associate it with the subnet AMSA-DMZ-01.\n\n\n\nCreating the NAT Gateway\n\n\nCreate the route table (AMSA-Private01-RT) for the subnet AMSA-Private01 and we will associate it with the subnet. This route table will allow the instances within this subnet to access the Internet through the NAT Gateway.\n\n\n\nRoute table for the subnet AMSA-Private01\n\n\nThe second step is to associate the route table (AMSA-Private01-RT) with the subnet AMSA-Private01 and allow outbound traffic to the Internet through the NAT Gateway we created earlier.\n\n\n\nCreating the route table for the subnet AMSA-Private01\n\n\nThe third step is to allow outbound traffic to the Internet through the NAT Gateway we created earlier. To do this, go to the section Routes and click on Edit routes. Next, Add route and edit (Destination: 0.0.0.0/0; Target:Select AMSA-NG).\n\n\n\n\n\n\nWarningAMSA-Private02 üõë\n\n\n\nRepeat the same steps for the subnet AMSA-Private02, modifying only the name of the route table and the association with the subnet.\n\n\n\n\n2.2.3. Routing for the data subnet (AMSA-Data)\nThe subnet AMSA-Data will not host instances that require Internet access. Therefore, we do not need to configure any route for this subnet. We will create an empty route table and associate it with the subnet AMSA-Data. This network will be completely isolated and will only allow internal communication within the VPC."
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#security-groups",
    "href": "laboratories/02-network/01-aws-wordpress.html#security-groups",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "3. Security Groups",
    "text": "3. Security Groups\nSecurity Groups are a tool for controlling network traffic for instances and other AWS resources, acting as a virtual firewall. They allow defining rules that specify which connections are allowed for both inbound and outbound traffic\n\nTrafic inbound: It allows you to decide which types of incoming connections (to the resource) are permitted.\nTrafic outbound: Control which outbound connections (from the resource to other destinations) are authorized.\n\n\n3.1. Security Group for EC2 instances\n\nInbound connections for web services HTTP (port 80) and HTTPS (port 443), accessible from any origin.\nSSH conections (port 22) for remote administration, also accessible from any origin (initially, but later they will be restricted).\nAll outbound connections (outbound). By default, they are allowed in AWS, which enables EC2 instances to communicate with other resources such as RDS.\n\nTo do this, we will navigate to the AWS VPC console, select the Security Groups section, and click Create security group. Next, we will fill in the fields with the necessary information and click Create security group. You can name it AMSA-WP-SG.\n\n\n\nSecurity Group for EC2 instances\n\n\n\n\n\n\n\n\nNoteSecurity note üîê\n\n\n\nNow we allow all network traffic for web services and SSH. Once everything is configured, we will restrict this access only to inbound traffic coming from the load balancer for web services and from our internal network for SSH.\n\n\n\n\n3.2. Security Group for the database RDS\n\nInbound connections: t will only allow traffic on port 3306 (MySQL) and exclusively from EC2 instances that belong to the security group AMSA-WP-SG.\nOutbound connections: By default, AWS will allow all outbound connections, which ensures that the database can communicate with other resources if necessary.\n\nTo do this, we will navigate to the AWS VPC console, select the Security Groups section, and click Create security group. Next, we will fill in the fields with the necessary information and click Create security group.\n\n\n\nSecurity Group for the database RDS\n\n\n\n\n3.3. Summary\n\n\n\n\n\n\n\n\nSecurity Group\nInbound\nOutbound\n\n\n\n\nAMSA-WP-SG\nHTTP (80) and HTTPS (443) from 0.0.0.0/0; SSH (22) from 0.0.0.0/0\nAll allowed\n\n\nAMSA-DB-SG\nMySQL (3306) from AMSA-Web-SG\nAll allowed"
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#creation-of-the-rds-database",
    "href": "laboratories/02-network/01-aws-wordpress.html#creation-of-the-rds-database",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "4. Creation of the RDS Database",
    "text": "4. Creation of the RDS Database\nWe already configured the database in the previous lab Deploying a web application with AWS. The only difference is that now the database is located in a private subnet and is only accessible from EC2 instances that belong to the security group AMSA-Web-SG.\n\nCompute resources: Don‚Äôt connect to an EC2 compute resource\nVPC: AMSA-VPC\nSubnet Group: Create new DB Subnet Group\nPublic accessibility: No\nVPC security group: AMSA-DB-SG\nAvailability Zone: us-east-1d"
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#creation-of-ec2-instances-and-web-server-configuration-with-wordpress",
    "href": "laboratories/02-network/01-aws-wordpress.html#creation-of-ec2-instances-and-web-server-configuration-with-wordpress",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "5. Creation of EC2 instances and Web Server Configuration with WordPress",
    "text": "5. Creation of EC2 instances and Web Server Configuration with WordPress\nThe EC2 instances that will host WordPress will be deployed in private subnets. AWS allows us to create instance templates (Launch Templates) that make it easier to create instances with a predefined configuration. Therefore, we will create an instance template that includes the necessary configuration for our WordPress EC2 instances.\n\nCreate an EC2 instance with Amazon Linux, selecting the VPC AMSA-VPC and the subnet AMSA-DMZ-01. Make sure that the instance uses the security group AMSA-WP-SG. You can name it AMSA-DB-Config. Select assign public IP. We will only use this instance to initialize the database and then we can delete it.\nOnce the instance is configured, connect to it via SSH using the private key corresponding to the public key you associated with the instance during its creation. Then configure the MySQL database for WordPress.\nLet‚Äôs create a launch template (Launch Template) for the EC2 instances that will host WordPress. This template will include the necessary configuration for the instances, including the installation and configuration script for WordPress.\n\nTemplate name: AMSA-WP-Template\nAMI: Amazon Linux 2023 (64-bit x86)\nInstance Type: t2.micro\nKey Pair: AMSA-KEY\nSubnet: Do not select any subnet (it will be selected dynamically\nSecurity group: AMSA-WP-SG\nAdvanced Details: Add the following script to the User Data section.\n\n\n\n\n\n\n\n\nNoteWordPress installation and configuration script üìù\n\n\n\nModify the database connection details according to your own data.\n#!/bin/bash\n# sudo bash install_wp.sh\n\n# Adjust the following data according to your own details\nDB_NAME=\"\" \nDB_USER=\"\"\nDB_USER_PASSWORD=\"\"\nDB_HOST=\"\" \n\nif [ \"$(id -u)\" -ne 0 ]; then\n    echo \"Please run this script with sudo or as root.\"\n    exit 1\nfi\n\ndnf install -y wget php-mysqlnd httpd php-fpm php-mysqli php-json php php-devel php-gd expect\n\ncd /tmp\nwget https://wordpress.org/latest.tar.gz\ntar -xzf latest.tar.gz\n\n# Configure WordPress\ncp wordpress/wp-config-sample.php wordpress/wp-config.php\nsed -i \"s/database_name_here/$DB_NAME/g\" wordpress/wp-config.php\nsed -i \"s/username_here/$DB_USER/g\" wordpress/wp-config.php\nsed -i \"s/password_here/$DB_USER_PASSWORD/g\" wordpress/wp-config.php\nsed -i \"s/localhost/$DB_HOST/g\" wordpress/wp-config.php\n\nsudo cp -r wordpress/* /var/www/html/\n\nsudo sed -i 's/AllowOverride None/AllowOverride All/g' /etc/httpd/conf/httpd.conf\n\nsudo chown -R apache:apache /var/www\nsudo chmod 2775 /var/www\n\nsudo systemctl restart httpd\n\n\nOnce the launch template is created, you can use it to create EC2 instances with WordPress already configured and ready to connect to your RDS database. Go to EC2 and select Launch Instance. Then select the launch template AMSA-WP-Template and configure the remaining parameters according to your needs.\n\nNumber of instances: 2\nSubnet: Select the subnet AMSA-Private01 for the first instance and AMSA-Private02 for the second instance. You can name them AMSA-WP-01 i AMSA-WP-02 respectively.\n\n\n\n\n\n\n\nImportantNote about EC2 instances üñ•Ô∏è\n\n\n\nThese instances will not have a public IP, as they will only be accessible through the load balancer that we will configure later. For now, you will not be able to access them directly via SSH or HTTP."
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#load-balancer-configuration",
    "href": "laboratories/02-network/01-aws-wordpress.html#load-balancer-configuration",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "6. Load Balancer Configuration",
    "text": "6. Load Balancer Configuration\nAt this point, we will create a load balancer for our EC2 instances. This load balancer will be responsible for evenly distributing traffic among the EC2 instances hosting WordPress.\nThere are 3 types of load balancers in AWS: Application Load Balancer (ALB), Network Load Balancer (NLB) and Gateway Load Balancer (GWLB). In this case, we will use an Application Load Balancer (ALB), as it is recommended for web applications that use HTTP and HTTPS.\nNavigate to the AWS console and select the EC2 service. In the sidebar, select Load Balancers and then Create Load Balancer. Choose Application Load Balancer and click Create.\n\nLoad Balancer name: AMSA-ALB\nScheme: Internet-facing\nIP Address Type: IPv4\n\n\n\n\nLoad Balancer Configuration\n\n\n\nVPC: AMSA-VPC\nAvailability Zones: Select the availability zones where we have the public subnet AMSA-DMZ-01 (us-east-1a) and AMSA-DMZ-02 (us-east-1b).\nSecurity Groups: New security group (AMSA-ALB-SG), this security group will allow inbound traffic for ports 80 (HTTP) and 443 (HTTPS) from any source but will restrict outbound traffic to the EC2 instances (security group AMSA-WP-SG).\n\n\n\nSecurity Group for the Load Balancer\n\n\n\n\n\nLoad balancer configuration\n\n\nListeners: Create a listener for port 80 (HTTP), which will redirect traffic to port 80 of the EC2 instances. For port 443 (HTTPS), we will not configure any redirection for now. To do this, you must first create a Target Group. This group is necessary to indicate to the load balancer where to send the traffic.\n\nTarget Group:\n\nTarget Type: Instances\nNom: AMSA-WP-TG\nProtocol: HTTP\nPort: 80\nVPC: AMSA-VPC\nHealth checks: HTTP, ruta /\n\n\n\n\nTarget group configuration\n\n\n\n\n\n\n\n\n\n\nNoteHealth Check üéØ\n\n\n\nThe load balancer checks the health of the EC2 instances through port 80 and the path /. This means that the load balancer will send traffic to EC2 instances that respond correctly to HTTP requests on the / path. Since our EC2 instances have WordPress installed, these instances will respond correctly to HTTP requests on the / path. We can leave the default configuration. The WordPress installation includes a home page that will respond with 302 (Found) when accessing the root path (/), which is why the health check may show that the instance is unhealthy. Once WordPress is configured, the health check will show that the instance is healthy.\n\n\n\nSelect the two EC2 instances that host WordPress (AMSA-WP-01 and AMSA-WP-02) and add them to the target group using the Include as pending below button and then Add to registered.\n\n\n\nTarget group configuration\n\n\nOnce the target group has been created, we will select it as the target for the load balancer‚Äôs listener.\n\n\n\nLoad balancer configuration\n\n\nOnce the load balancer has been created, you must wait a few minutes until its status changes from Provisioning to Active. Once the status change to Active, you can access the load balancer through its DNS address\n\n\n\n\nActive load balancer\n\n\n\nNow we can access the load balancer through its DNS address and see the WordPress installation page:\n\n\n\n\nWordPress installation through the load balancer\n\n\nWe will proceed to install WordPress through the load balancer. Follow the installation steps and configure the administrator username and password. Now you have the web server configured with WordPress and the load balancer to distribute traffic between the EC2 instances."
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#vpn-configuration",
    "href": "laboratories/02-network/01-aws-wordpress.html#vpn-configuration",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "7. VPN configuration",
    "text": "7. VPN configuration\n\n7.1.Create an EC2 to deploy the VPN server\nTo deploy the VPN server, we will create a new EC2 instance that will act as the VPN server. This EC2 instance must be in a public subnet connected to the internet. We will name this instance AMSA-VPN and place it in the public subnet AMSA-DMZ-01. This EC2 instance will use the security group AMSA-VPN-SG, which will allow the necessary traffic for the VPN server to function.\n\nNavigate to the AWS console and select the EC2 service. In the sidebar, select Instances and then Launch Instances.\nSelect the image Ubuntu Server 22.04 LTS.\nSelect the instance t2.micro.\nConfigure the instance:\n\nNetwork: AMSA-VPC\nSubnet: AMSA-DMZ-01\nAuto-assign Public IP: Enable\n\n\n\n\nEC2 instance configuration for the VPN server\n\n\nConfigure the security group: AMSA-VPN-SG.\n\nIf you review the installation documentation for the OpenVPN server: OpenVPN: OpenVPN Access Server System Administrator Guide, you will see that we need the following ports open: TCP 943, UDP 1194.\n![Security group configuration for the VPN server](../../figs/laboratories/03-aws-wp/wordpress/AMSA-SG-VPN.png)\n\nConnect to the EC2 instance through the AWS online console or with an SSH connection and run the following command to install the OpenVPN server:\nsudo apt update -y\nsudo apt install ca-certificates gnupg wget net-tools -y\nsudo wget https://as-repository.openvpn.net/as-repo-public.asc -qO /etc/apt/trusted.gpg.d/as-repo-public.asc\nsudo echo \"deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/as-repo-public.asc] http://as-repository.openvpn.net/as/debian jammy main\" | sudo tee /etc/apt/sources.list.d/openvpn-as-repo.list\nsudo apt update && sudo apt install openvpn-as -y\n\n\n\nOpenVPN server installation\n\n\nWith these credentials, you will be able to access the OpenVPN server‚Äôs web interface through your web browser. Navigate to the public IP of the EC2 instance (in my case https://44.199.196.242:943/admin). Since we don‚Äôt have the SSL certificate configured, a warning message will appear‚Äîignore it and continue. Log in with the credentials you configured earlier..\n\nNote: If you have lost the openvpn user credentials, you can recover them by checking the OpenVPN server log file. For example, you can view the log file with the following command:\nsudo less /usr/local/openvpn_as/init.log \n\n\n\n\nOpenVPN server web interface\n\n\n\nAccept the license terms..\n\n\n\n\nAccepting the license terms.\n\n\n\nGo to VPN Server/Network Settings and set the Hostname or IP Address to the public IP of the EC2 instance where your OpenVPN server is running. Once done, click Save.\n\n\n\nConfiguring the VPN Server‚Äôs Public IP\n\n\nGo to Access Controls/Internet Access and DNS and select the Split Tunnel option to prevent all client traffic from being redirected through the VPN. Only traffic destined for the VPC subnets will be routed through the VPN.\n\n\n\nConfiguring Split Tunnel\n\n\nGo to Access Controls/Global Access Rules and add a rule to allow VPN traffic to the VPC subnets:\n\n\n\nConfiguring Global Access Rules\n\n\nGo to User and create a username and password to connect to the VPN server.\n\n\n\nCreating a VPN Server User\n\n\nOnce you have the configuration file, you can Restart the OpenVPN service to apply all changes. Then, access the OpenVPN server web interface again.\nGo to User/user/Connection Profiles and create a default connection profile. Once created, a configuration file will be downloaded, which we will later use to connect to the VPN server.\n\n\n\nDownloading the VPN client configuration file\n\n\nInstall the OpenVPN Connect application on your computer. This application is the VPN client we will use to connect to the VPN server.\nOnce installed, open the application and import the configuration file you downloaded earlier.\n\nOnce everything is configured, we will update the security group of the EC2 instances to allow traffic on port 22 only from the VPN server. This means that the EC2 instances will only accept SSH traffic from the VPN server and not from any other source.\n\n\n\nConfiguring SSH traffic to EC2 from the VPN server.\n\n\n\nAt this point, you will no longer be able to access the EC2 instances running the WordPress service via SSH, since SSH traffic is only allowed from the VPN server. To access the EC2 instances, you must first connect to the VPN server and then connect to the EC2 instances. To do this:\n\nImport the OpenVPN Connect client configuration file into the application and connect to the VPN server.\n\n\n\nConnecting to the VPN Server\n\n\n\nTroubleShooting: If you see in the configuration file (Server Hostname) an IP in the range 10.0.X.X, this means that the VPN has not been configured correctly. Make sure to restart the server and download the client configuration file again; it must include the VPN server‚Äôs public IP address.\n\nUse the same password as the user openvpn to connect to the VPN server.\n\n\n\nConnection to the VPN server\n\n\nIf everything went well, you will see that you are connected to the VPN server.\n\n\n\nConnection to the VPN server\n\n\n\nFinally, connect to the EC2 instances:\n\n\n\nAccess to EC2 instances through the VPN server\n\n\n\nImportant considerations: The VPN server allows us to access the EC2 instances via SSH, but using the internal address (10.0.X.X) of the EC2 instance. We will not be able to access the EC2 instances through their public address because we have configured the VPN to access the VPC subnets."
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#cleanup",
    "href": "laboratories/02-network/01-aws-wordpress.html#cleanup",
    "title": "Deployment of a high-availability web application with AWS",
    "section": "8. Cleanup",
    "text": "8. Cleanup\nOnce completed, you can delete all EC2 instances and the RDS database to avoid unnecessary charges to your AWS account."
  },
  {
    "objectID": "course-information/schedule.html",
    "href": "course-information/schedule.html",
    "title": "AMSA 105013: System Administration",
    "section": "",
    "text": "A continuaci√≥ es presenta un calendari complet dels temes, el contingut del curs i les tasques per al semestre. Tingueu en compte que aquest calendari √©s un document viu i es pot actualitzar. Tots els canvis es publicaran aqu√≠ per assegurar-vos que teniu la informaci√≥ m√©s actual.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSetmana\nTipus\nData\nTema\nDiapositives\nApunts\nLaboratori\nAltres\nTasques\nLliuraments\n\n\n\n\n1\nTeoria\n10/09/25\nUnitat 01: Fonaments de l‚ÄôAdministraci√≥ de Sistemes\nüìñ\n\n\n\nüìù üìù\n\n\n\n2\nLaboratori\n15/09/25\nUnitat 01: Fonaments de l‚ÄôAdministraci√≥ de Sistemes\n\n\nüß™ üß™\n\n\n\n\n\n2\nTeoria\n17/09/25\nUnitat 02: Arrencada del sistema\nüìñ\n\n\n\nüìù üìù üìù\n\n\n\n3\nLaboratori\n24/09/25\nUnitat 02: Arrencada del sistema (II)\nüìñ\n\n\nüí¨\nüìù üìù\n\n\n\n4\nTeoria\n29/09/25\nUnitat 02: Arrencada del sistema (III)\nüìñ\n\n\nüí¨\nüìù üìù\nüë©üèª‚Äçüíª\n\n\n4\nLaboratori\n01/10/25\nNetworking\n\n\nüß™\n\n\n\n\n\n5\nTeoria\n06/10/25\nUnitat 03: Sistemes de fitxers (Part 1)\nüìñ\n\n\n\nüìù\n\n\n\n5\nLaboratori\n08/10/25\nNetworking\n\n\nüß™\n\n\n\n\n\n6\nTeoria\n13/10/25\nUnitat 03: Sistemes de fitxers (Part 2)\nüìñ\n\n\n\nüìù\n\n\n\n6\nLaboratori\n15/10/25\n(Vaga general)\n\n\n\n\n\n\n\n\n7\nTeoria\n20/10/25\nUnitat 03: Sistemes de fitxers (Part 3)\nüìñ\n\n\n\nüìù\n\n\n\n7\nLaboratori\n22/10/25\nUnitat 03: Pr√†ctica 02\n\n\n\n¬†\n\nüë©üèª‚Äçüíª"
  },
  {
    "objectID": "course-information/schedule.html#planificaci√≥",
    "href": "course-information/schedule.html#planificaci√≥",
    "title": "AMSA 105013: System Administration",
    "section": "",
    "text": "A continuaci√≥ es presenta un calendari complet dels temes, el contingut del curs i les tasques per al semestre. Tingueu en compte que aquest calendari √©s un document viu i es pot actualitzar. Tots els canvis es publicaran aqu√≠ per assegurar-vos que teniu la informaci√≥ m√©s actual.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSetmana\nTipus\nData\nTema\nDiapositives\nApunts\nLaboratori\nAltres\nTasques\nLliuraments\n\n\n\n\n1\nTeoria\n10/09/25\nUnitat 01: Fonaments de l‚ÄôAdministraci√≥ de Sistemes\nüìñ\n\n\n\nüìù üìù\n\n\n\n2\nLaboratori\n15/09/25\nUnitat 01: Fonaments de l‚ÄôAdministraci√≥ de Sistemes\n\n\nüß™ üß™\n\n\n\n\n\n2\nTeoria\n17/09/25\nUnitat 02: Arrencada del sistema\nüìñ\n\n\n\nüìù üìù üìù\n\n\n\n3\nLaboratori\n24/09/25\nUnitat 02: Arrencada del sistema (II)\nüìñ\n\n\nüí¨\nüìù üìù\n\n\n\n4\nTeoria\n29/09/25\nUnitat 02: Arrencada del sistema (III)\nüìñ\n\n\nüí¨\nüìù üìù\nüë©üèª‚Äçüíª\n\n\n4\nLaboratori\n01/10/25\nNetworking\n\n\nüß™\n\n\n\n\n\n5\nTeoria\n06/10/25\nUnitat 03: Sistemes de fitxers (Part 1)\nüìñ\n\n\n\nüìù\n\n\n\n5\nLaboratori\n08/10/25\nNetworking\n\n\nüß™\n\n\n\n\n\n6\nTeoria\n13/10/25\nUnitat 03: Sistemes de fitxers (Part 2)\nüìñ\n\n\n\nüìù\n\n\n\n6\nLaboratori\n15/10/25\n(Vaga general)\n\n\n\n\n\n\n\n\n7\nTeoria\n20/10/25\nUnitat 03: Sistemes de fitxers (Part 3)\nüìñ\n\n\n\nüìù\n\n\n\n7\nLaboratori\n22/10/25\nUnitat 03: Pr√†ctica 02\n\n\n\n¬†\n\nüë©üèª‚Äçüíª"
  },
  {
    "objectID": "slides/02-booting-part3.html#etapes-de-larrancada",
    "href": "slides/02-booting-part3.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Etapes de l‚Äôarrancada",
    "text": "Etapes de l‚Äôarrancada"
  },
  {
    "objectID": "slides/02-booting-part3.html#pid-1-initsystemd",
    "href": "slides/02-booting-part3.html#pid-1-initsystemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "PID 1: init/systemd",
    "text": "PID 1: init/systemd\nQuan s‚Äôacaba el proc√©s d‚Äôinicialitzaci√≥ del sistema en l‚Äôespai del kernel i es descomprimeix i executa l‚Äôinitramfs, es produeix una transici√≥ important cap a l‚Äôespai d‚Äôusuari.\nexec switch_root /mnt /sbin/init\n\nEl comandament switch_root substitueix l‚Äôarrel del sistema de fitxers actual (l‚Äôinitramfs) per la partici√≥ arrel real del sistema operatiu.\nEl kernel deixa de gestionar directament els processos i passa el control a un proc√©s en l‚Äôespai d‚Äôusuari.\nEl proc√©s PID 1 √©s el primer proc√©s que s‚Äôinicia en l‚Äôespai d‚Äôusuari i √©s responsable de la gesti√≥ dels processos del sistema operatiu.\nTradicionalment, aquest proc√©s era el programa init, per√≤ en els sistemes moderns, systemd ha substitu√Øt init com a responsable principal de la gesti√≥ de processos."
  },
  {
    "objectID": "slides/02-booting-part3.html#funcions-de-pid-1",
    "href": "slides/02-booting-part3.html#funcions-de-pid-1",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Funcions de PID 1",
    "text": "Funcions de PID 1\n\nGesti√≥ de la inicialitzaci√≥ del sistema. Carrega els serveis i dimonis necessaris per al bon funcionament del sistema.\nGesti√≥ dels processos del sistema. Controla la creaci√≥, execuci√≥ i finalitzaci√≥ dels processos. Si un proc√©s orfe (un proc√©s que perd el seu proc√©s pare) continua en execuci√≥, el PID 1 assumeix la seva gesti√≥ i, eventualment, la seva terminaci√≥.\nArrel de l‚Äôarbre de processos: Tots els altres processos del sistema pengen d‚Äôell, directament o indirectament. Aix√≤ fa que sigui fonamental per a l‚Äôestabilitat i la continu√Øtat del sistema.\nApagat i reinici del sistema: El PID 1 tamb√© √©s responsable de controlar l‚Äôapagat i reinici del sistema, garantint que els processos es tanquin adequadament i que el sistema es desconnecti de manera segura"
  },
  {
    "objectID": "slides/02-booting-part3.html#systemd-vs-sysvinit",
    "href": "slides/02-booting-part3.html#systemd-vs-sysvinit",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Systemd vs SysVinit",
    "text": "Systemd vs SysVinit\nEl canvi de SysVinit a Systemd en moltes distribucions de Linux va ser motivat per la necessitat de millorar l‚Äôefici√®ncia i la gesti√≥ dels serveis del sistema.\n\n\nSysVinit\n\nSeq√ºencial: Basat en scripts. Cada servei dep√®n de l‚Äôexecuci√≥ completa del servei anterior, la qual cosa pot ser lenta.\nSimple: Cada servei s‚Äôinicia amb un script directament llegible i modificable per l‚Äôadministrador del sistema.\nInflexible: Dificultat engestionar depend√®ncies. No permet arrencar serveis en paral¬∑lel ni controlar els processos un cop arrencats.\n\n\nSystemd\n\nRendiment: Capacitat de carregar serveis en paral¬∑lel. Reducci√≥ temps d‚Äôinici del sistema.\nModularitat: Els serveis es gestionen a trav√©s d‚Äôunitats (unit files) que poden especificar depend√®ncies, condicions de reinici autom√†tic,etc.\nCgroups: Limitar/gestionar els recursos assignats a cada servei.\nMonitoratge: Control i seguiment granular dels serveis amb journalctl."
  },
  {
    "objectID": "slides/02-booting-part3.html#cr√≠tiques-a-systemd",
    "href": "slides/02-booting-part3.html#cr√≠tiques-a-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Cr√≠tiques a Systemd",
    "text": "Cr√≠tiques a Systemd\n\nComplexitat: Integra m√∫ltiples funcionalitats (gesti√≥ de serveis, journal, timers, logind, networkd, etc.) en un sol proc√©s. Aix√≤ pot augmentar la superf√≠cie de fallada i dificultar la depuraci√≥.\nTrenca amb la filosofia Unix tradicional\n\nUnix promou eines petites, especialitzades i composables.\n\nSystemd concentra moltes tasques en un √∫nic sistema de gesti√≥.\n\nDepend√®ncia del sistema: Molts scripts, paquets i eines modernes depenen de systemd, dificultant la compatibilitat amb sistemes alternatius (SysVinit, OpenRC).\n\n\nDebat en la comunitat\n\nEls defensors de systemd argumenten que simplifica l‚Äôadministraci√≥ de sistemes moderns i ofereix funcions que abans requerien m√∫ltiples eines externes.\n\nEls cr√≠tics insisteixen en que √©s massa intrusiu i redueix la flexibilitat per a administradors avan√ßats i entorns m√≠nims."
  },
  {
    "objectID": "slides/02-booting-part3.html#backdoor-en-xz-utils-i",
    "href": "slides/02-booting-part3.html#backdoor-en-xz-utils-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Backdoor en XZ Utils (I)",
    "text": "Backdoor en XZ Utils (I)\nRecents vulnerabilitats en paquets com xz-utils han posat en evid√®ncia la complexitat de Systemd i com una backdoor ocult pot comprometre gran part de la infraestructura moderna de Linux.\n\nEl backdoor va ser introdu√Øt de manera gradual, comen√ßant amb contribucions sospitoses al projecte libarchive el 2021.\nDurant el 2022, un desenvolupador desconegut, JiaT75, va guanyar influ√®ncia dins del projecte xz-utils, substituint el contacte del mantenidor original i introduint canvis que van ocultar les vulnerabilitats.\nEl 2023, JiaT75 va introduir modificacions malicioses a xz-utils, aprofitant-les per comprometre sistemes a trav√©s de depend√®ncies amb Systemd.\n\nCVE-2024-3094: Vulnerabilitat que permet l‚Äôexecuci√≥ de codi malici√≥s en el sistema mitjan√ßant un defecte en la descompressi√≥ de fitxers .xz."
  },
  {
    "objectID": "slides/02-booting-part3.html#backdoor-en-xz-utils-ii",
    "href": "slides/02-booting-part3.html#backdoor-en-xz-utils-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Backdoor en XZ Utils (II)",
    "text": "Backdoor en XZ Utils (II)\nAquesta vulnerabilitat va afectar molts servidors Linux, que van actualitzar xz-utils amb la versi√≥ compromesa.\n\nliblzma √©s una llibreria de compressi√≥ que es pot enlla√ßar amb altres programes. Per exemple, OpenSSH es pot vincular a liblzma per gestionar la descompressi√≥ de fitxers de configuraci√≥.\nEn sistemes amb systemd, OpenSSH enlla√ßa amb systemd, que a la vegada enlla√ßa amb liblzma. Aix√≤ permet a XZ Utils controlar indirectament serveis essencials com sshd.\nMitjan√ßant una backdoor oculta en versions modificades de xz-utils, un atacant amb una clau de xifrat pr√®viament establerta podria carregar codi malici√≥s en certificats SSH i executar-lo en dispositius compromesos.\n\n\nAquests esdeveniments posen de manifest les contrapartides de la complexitat de Systemd i com una vulnerabilitat en un paquet aparentment inofensiu com xz-utils pot tenir un impacte significatiu en la seguretat del sistema i serveis cr√≠tics com sshd."
  },
  {
    "objectID": "slides/02-booting-part3.html#executar-els-targets-o-runlevels",
    "href": "slides/02-booting-part3.html#executar-els-targets-o-runlevels",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Executar els Targets o Runlevels",
    "text": "Executar els Targets o Runlevels\nEl PID 1 executa els targets de systemd o runlevels d‚Äôinit. Els targets representen un conjunt de serveis i m√≤duls que s‚Äôexecuten per a cada estat del sistema. La seva funci√≥ √©s definir l‚Äôestat del sistema i els serveis que s‚Äôhan de carregar en aquest estat. La transici√≥ entre els targets es pot fer manualment amb la comanda systemctl isolate o autom√†ticament amb la comanda systemctl set-default.\n\n\ndefault.target: Apunta a graphical.target o multi-user.target-\ngraphical.target: Defineix un entorn gr√†fic.\nmulti-user.target: Proporciona un entorn no gr√†fic, permetent m√∫ltiples usuaris al sistema, habitual per a servidors.\nrescue.target: Proporciona un entorn de rescat amb una consola de l√≠nia de comandes.\nemergency.target: Ofereix un entorn d‚Äôemerg√®ncia que inicialitza el m√≠nim de serveis necessaris per a la soluci√≥ de problemes.\nshutdown.target: Gestiona l‚Äôapagat del sistema.\nreboot.target: Gestiona el reinici del sistema."
  },
  {
    "objectID": "slides/02-booting-part3.html#units-de-systemd",
    "href": "slides/02-booting-part3.html#units-de-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Units de systemd",
    "text": "Units de systemd\nEls units s√≥n els fitxers de configuraci√≥ de systemd que defineixen els serveis, ens permeten gestionar-los i controlar-los.\n\n/etc/systemd/system/: Fitxers d‚Äôunitat personalitzats per l‚Äôadministrador.\n/run/systemd/system/: Configuraci√≥ en temps d‚Äôexecuci√≥, √©s a dir, afecta nom√©s un arrencada √∫nica.\n/usr/lib/systemd/system/: Configuraci√≥ proporcionada per la distribuci√≥. A Debian √©s /lib/systemd/system/.\n\n\nQuan hi ha dos fitxers de configuraci√≥ amb el mateix nom, systemd carregar√† nom√©s un des del directori que estigui m√©s alt en la jerarquia. Per exemple, la configuraci√≥ a /etc sempre sobreescriu la configuraci√≥ a /usr.\n\n\nDespr√©s de canviar la configuraci√≥, √©s necessari recarregar systemd amb: systemctl daemon-reload."
  },
  {
    "objectID": "slides/02-booting-part3.html#tipus-dunitats",
    "href": "slides/02-booting-part3.html#tipus-dunitats",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Tipus d‚Äôunitats",
    "text": "Tipus d‚Äôunitats\n\nServeis: Fitxers que defineixen com s‚Äôinicien, s‚Äôaturen i es gestionen els serveis. Ex: /etc/systemd/system/sshd.service (servei SSH).\nSockets: Units que gestionen els sockets de comunicaci√≥ per als serveis.\nDevices: Units que representen dispositius de maquinari.\nMounts: Units que gestionen els punts de muntatge del sistema de fitxers.\nPaths: Units que monitoren els canvis en fitxers o directoris espec√≠fics.\nTimers: Units que planifiquen tasques per a la seva execuci√≥ en moments espec√≠fics.\nTargets: Units que agrupen altres units per a l‚Äôarrencada d‚Äôestats del sistema."
  },
  {
    "objectID": "slides/02-booting-part3.html#targets-i-systemd",
    "href": "slides/02-booting-part3.html#targets-i-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Targets i Systemd",
    "text": "Targets i Systemd"
  },
  {
    "objectID": "slides/02-booting-part3.html#exemple-de-fitxer-dunitat",
    "href": "slides/02-booting-part3.html#exemple-de-fitxer-dunitat",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Exemple de fitxer d‚Äôunitat",
    "text": "Exemple de fitxer d‚Äôunitat\n\n\n[Unit]\nDescription=CUPS Scheduler\nDocumentation=man:cupsd(8)\nAfter=network.target\n[Service]\nExecStart=/usr/sbin/cupsd -l\nType=notify\n[Install]\nAlso=cups.socket cups.path\nWantedBy=printer.target\n\n\nCUPS (Common Unix Printing System) √©s un sistema d‚Äôimpressi√≥ utilitzat en sistemes Unix i Linux.\nT√© una depend√®ncia amb la xarxa (After=network.target), ja que sovint es connecta a impressores de xarxa.\n\n\n\nS‚Äôinicia amb el comandament /usr/sbin/cupsd -l, que posa en marxa el servei d‚Äôimpressi√≥.\nEs configura per iniciar-se autom√†ticament quan s‚Äôarrenca el sistema (WantedBy=printer.target).\nCups.socket √©s una unitat de tipus socket que permet a CUPS escoltar connexions entrants per a serveis d‚Äôimpressi√≥.\nCups.path √©s una unitat de tipus path que monitoritza canvis en fitxers o directoris relacionats amb la configuraci√≥ d‚Äôimpressi√≥.\n\n\nAquest fitxer defineix el servei CUPS (Common Unix Printing System) √©s un sistema que t√© una depen√®ncia amb la xarxa (After=network.target), s‚Äôinicia amb el comandament /usr/sbin/cupsd -l i es configura per iniciar-se autom√†ticament quan s‚Äôarrenca el sistema (WantedBy=printer.target). Printer.target √©s un target que agrupa serveis relacionats amb la impressi√≥. Cups.socket i cups.path s√≥n altres unitats que tamb√© s‚Äôinicien quan s‚Äôinicia el servei CUPS ja que estan lligades a aquest servei. El tipus de servei √©s notify, el qual indica que el servei enviar√† una notificaci√≥ a systemd quan estigui llest."
  },
  {
    "objectID": "slides/02-booting-part3.html#depend√®ncies-entre-unitats-i",
    "href": "slides/02-booting-part3.html#depend√®ncies-entre-unitats-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Depend√®ncies entre unitats (I)",
    "text": "Depend√®ncies entre unitats (I)\nLes unitats s√≥n objectes gestionats per systemd. Les depend√®ncies s√≥n associacions entre elles. Cada tipus d‚Äôunitat t√© algunes depend√®ncies per defecte (a menys que s‚Äôespecifiqui el contrari).\nRelacionals\n\nRequires: Indica que una unitat dep√®n d‚Äôuna altra unitat per a la seva activaci√≥. Si la unitat requerida no est√† activa, la unitat que la requereix no s‚Äôactivar√†.\nWants: Similar a Requires, per√≤ no √©s tan estricte. Si la unitat requerida no est√† activa, la unitat que la vol no es bloquejar√†.\nBindsTo: Similar a Requires, per√≤ si la unitat requerida es det√©, la unitat que la vincula tamb√© es detindr√†.\nPartOf: Indica que una unitat √©s part d‚Äôuna altra unitat. Si la unitat pare es det√©, la unitat fill tamb√© es detindr√†.\nConflicts: Indica que dues unitats no poden estar actives al mateix temps. Si una unitat s‚Äôactiva, l‚Äôaltra es detindr√† autom√†ticament."
  },
  {
    "objectID": "slides/02-booting-part3.html#depend√®ncies-entre-unitats-ii",
    "href": "slides/02-booting-part3.html#depend√®ncies-entre-unitats-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Depend√®ncies entre unitats (II)",
    "text": "Depend√®ncies entre unitats (II)\nOrdenaci√≥\n\nAfter: Indica que una unitat s‚Äôha d‚Äôiniciar despr√©s d‚Äôuna altra unitat. No crea una depend√®ncia estricta, nom√©s defineix l‚Äôordre d‚Äôinici.\nBefore: Indica que una unitat s‚Äôha d‚Äôiniciar abans d‚Äôuna altra unitat. No crea una depend√®ncia estricta, nom√©s defineix l‚Äôordre d‚Äôinici."
  },
  {
    "objectID": "slides/02-booting-part3.html#transaccions-a-systemd-i",
    "href": "slides/02-booting-part3.html#transaccions-a-systemd-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Transaccions a systemd (I)",
    "text": "Transaccions a systemd (I)\nCada vegada que l‚Äôusuari o un servei sol¬∑licita una acci√≥ (per exemple, iniciar o aturar un servei), es crea una transacci√≥ que gestiona l‚Äôexecuci√≥ ordenada de les unitats afectades.\n\nCreaci√≥ de feines (jobs)\n\nEs crea una feina per a la unitat sol¬∑licitada.\n\nS‚Äôafegeixen recursivament les feines corresponents a totes les depend√®ncies de la unitat.\n\nMinimitzaci√≥ de la transacci√≥\n\nEliminar feines duplicades o redundants.\n\nEliminar feines que no estiguin referenciades per cap altre job (ancoratge).\n\nResoluci√≥ de cicles de depend√®ncies\n\nDetectar loops en el gr√†fic de depend√®ncies.\n\nTrencar-los eliminant feines problem√†tiques per evitar deadlocks."
  },
  {
    "objectID": "slides/02-booting-part3.html#transaccions-a-systemd-i-1",
    "href": "slides/02-booting-part3.html#transaccions-a-systemd-i-1",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Transaccions a systemd (I)",
    "text": "Transaccions a systemd (I)\n\nFusi√≥ i optimitzaci√≥ de feines\n\nFusionar feines similars per reduir el nombre d‚Äôoperacions.\n\nPrioritzar feines ja existents a la cua.\n\nEnviament i execuci√≥\n\nAfegir les feines a la cua de jobs de systemd.\n\nExecutar les feines segons la depend√®ncia i l‚Äôordre optimitzat.\n\n\n\nGaranteix que les unitats es gestionin de manera at√≤mica i ordenada, permetent a systemd paral¬∑lelitzar serveis mentre respecta les depend√®ncies.\n\n\n\nLes transaccions garanteixen que les unitats es gestionin de manera at√≤mica i ordenada.\n\nAix√≤ permet a systemd paral¬∑lelitzar serveis mentre respecta les depend√®ncies.\n\nCadascuna de les feines cont√© informaci√≥ sobre la unitat, la seva acci√≥ (start, stop, reload) i les condicions d‚Äôexecuci√≥."
  },
  {
    "objectID": "slides/02-booting-part3.html#systemctl-i",
    "href": "slides/02-booting-part3.html#systemctl-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "systemctl (I)",
    "text": "systemctl (I)\nLa comanda systemctl √©s l‚Äôeina principal per interactuar amb systemd i gestionar els serveis i unitats del sistema. Algunes de les operacions m√©s comunes inclouen:\n\n\n\n\n\n\n\nComanda\nDescripci√≥\n\n\n\n\nsystemctl start &lt;unit&gt;\nInicia una unitat (servei, socket, etc.).\n\n\nsystemctl stop &lt;unit&gt;\nAtura una unitat.\n\n\nsystemctl restart &lt;unit&gt;\nReinicia una unitat.\n\n\nsystemctl status &lt;unit&gt;\nMostra l‚Äôestat actual d‚Äôuna unitat.\n\n\nsystemctl enable &lt;unit&gt;\nHabilita una unitat perqu√® s‚Äôinici√Ø autom√†ticament en arrencar el sistema.\n\n\nsystemctl disable &lt;unit&gt;\nDeshabilita una unitat perqu√® no s‚Äôinici√Ø autom√†ticament.\n\n\nsystemctl is-active &lt;unit&gt;\nComprova si una unitat est√† activa.\n\n\nsystemctl is-enabled &lt;unit&gt;\nComprova si una unitat est√† habilitada per arrencar autom√†ticament."
  },
  {
    "objectID": "slides/02-booting-part3.html#systemctl-ii",
    "href": "slides/02-booting-part3.html#systemctl-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "systemctl (II)",
    "text": "systemctl (II)\n\n\n\n\n\n\n\nComanda\nDescripci√≥\n\n\n\n\nsystemctl list-units\nLlista totes les unitats carregades actualment.\n\n\nsystemctl list-unit-files\nLlista tots els fitxers d‚Äôunitats disponibles.\n\n\nsystemctl list-dependencies &lt;SERVICE&gt;\nMostra les depend√®ncies d‚Äôuna unitat.\n\n\nsystemctl list-jobs\nMostra les feines pendents i en execuci√≥."
  },
  {
    "objectID": "slides/02-booting-part3.html#unitat-install",
    "href": "slides/02-booting-part3.html#unitat-install",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Unitat [INSTALL]",
    "text": "Unitat [INSTALL]\n[Install]\nWantedBy=multi-user.target\nAlso=sysstat-collect.timer\nAlso=sysstat-summary.timer\nAlias=monitoring.service\n\nLa secci√≥ [Install] defineix com s‚Äôinstal¬∑la i s‚Äôinicia una unitat.\nWantedBy=multi-user.target indica que aquesta unitat s‚Äôha d‚Äôiniciar quan s‚Äôarrenca el sistema en mode multiusuari (runlevel 3).\nAlso= permet associar altres unitats que s‚Äôhan d‚Äôiniciar juntament amb aquesta.\nAlias= crea un nom alternatiu per a la unitat, facilitant la seva refer√®ncia.\n\n\nEn aquest cas, la unitat s‚Äôiniciar√† autom√†ticament en arrencar el sistema en mode multiusuari, i tamb√© s‚Äôiniciaran els temporitzadors sysstat-collect.timer i sysstat-summary.timer. A m√©s, es pot referenciar aquesta unitat amb el nom alternatiu monitoring.service."
  },
  {
    "objectID": "slides/02-booting-part3.html#opcions-service-i",
    "href": "slides/02-booting-part3.html#opcions-service-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Opcions [Service] (I)",
    "text": "Opcions [Service] (I)\n\n\n\n\n\n\n\nOpci√≥\nDescripci√≥\n\n\n\n\nType=\nDefineix el tipus de servei (simple, forking, oneshot, notify, idle).\n\n\nExecStart=\nComanda que s‚Äôexecuta per iniciar el servei.\n\n\nExecStop=\nComanda que s‚Äôexecuta per aturar el servei.\n\n\nExecReload=\nComanda que s‚Äôexecuta per recarregar la configuraci√≥ del servei.\n\n\nRemainAfterExit=\nIndica si el servei es mant√© actiu despr√©s de finalitzar.\n\n\nRestart=\nDefineix si el servei s‚Äôha de reiniciar en cas de fallada.\n\n\nUser=\nDefineix l‚Äôusuari amb el qual s‚Äôexecuta el servei.\n\n\nGroup=\nDefineix el grup amb el qual s‚Äôexecuta el servei."
  },
  {
    "objectID": "slides/02-booting-part3.html#opcions-service-ii",
    "href": "slides/02-booting-part3.html#opcions-service-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Opcions [Service] (II)",
    "text": "Opcions [Service] (II)\n\n\n\n\n\n\n\nOpci√≥\nDescripci√≥\n\n\n\n\nEnvironment=\nDefineix variables d‚Äôentorn per al servei.\n\n\nWorkingDirectory=\nDefineix el directori de treball del servei.\n\n\nPIDFile=\nEspecifica el fitxer que cont√© el PID del servei.\n\n\nTimeoutStartSec=\nTemps d‚Äôespera per a l‚Äôinici del servei.\n\n\nTimeoutStopSec=\nTemps d‚Äôespera per a l‚Äôaturada del servei.\n\n\nStandardOutput=\nDefineix on s‚Äôenvia la sortida est√†ndard del servei.\n\n\nStandardError=\nDefineix on s‚Äôenvia l‚Äôerror"
  },
  {
    "objectID": "slides/02-booting-part3.html#tipus-de-serveis-i",
    "href": "slides/02-booting-part3.html#tipus-de-serveis-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Tipus de serveis (I)",
    "text": "Tipus de serveis (I)\n\nSimple: Per defecte, aquest servei s‚Äôinicia immediatament despr√©s del fork(). No espera cap senyal de que el servei estigui llest.\nForking: Aquest tipus de servei √©s per a processos que es bifurquen (fork) i es converteixen en dimonis. El servei es considera actiu despr√©s que el proc√©s pare finalitzi.\nOneshot: Aquest tipus √©s per a serveis que realitzen una tasca √∫nica i despr√©s finalitzen. Systemd espera que el proc√©s acabi abans de considerar el servei com a actiu.\nNotify: Aquest tipus de servei utilitza el mecanisme de notificaci√≥ de systemd per informar quan est√† llest. El servei ha d‚Äôenviar una notificaci√≥ expl√≠cita a systemd.\nDBus: Aquest tipus de servei s‚Äôutilitza per a serveis que es comuniquen a trav√©s de DBus. El servei es considera actiu quan el nom del bus apareix al bus de sistema.\nIdle: Aquest tipus de servei s‚Äôinicia nom√©s quan el sistema est√† inactiu, √©s a dir, quan no hi ha altres feines pendents."
  },
  {
    "objectID": "slides/02-booting-part3.html#efecte-del-tipus-de-servei-al-runtime",
    "href": "slides/02-booting-part3.html#efecte-del-tipus-de-servei-al-runtime",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Efecte del tipus de servei al runtime",
    "text": "Efecte del tipus de servei al runtime"
  },
  {
    "objectID": "slides/02-booting-part3.html#script-de-lusuari",
    "href": "slides/02-booting-part3.html#script-de-lusuari",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Script de l‚Äôusuari",
    "text": "Script de l‚Äôusuari\nUn cop s‚Äôhan carregat tots els serveis i el sistema est√† en marxa, els usuaris poden iniciar sessi√≥ al sistema. Els scripts de l‚Äôusuari es troben a la carpeta /etc/profile.d/ i s‚Äôexecuten quan l‚Äôusuari inicia sessi√≥.\n\n/etc/profile: Cont√© la configuraci√≥ global per a tots els usuaris. S‚Äôexecuta en iniciar sessi√≥ en un entorn de shell.\n/etc/bashrc: Proporciona configuraci√≥ per a shells interactius. S‚Äôexecuta cada vegada que s‚Äôinicia una nova sessi√≥ de shell.\n~/.bashrc: Fitxer de configuraci√≥ espec√≠fic per a l‚Äôusuari, que s‚Äôexecuta en iniciar una sessi√≥ de shell interactiu.\n~/.bash_profile: S‚Äôexecuta quan l‚Äôusuari inicia sessi√≥ a la terminal. Normalment, s‚Äôutilitza per configurar l‚Äôentorn de l‚Äôusuari, incloent la configuraci√≥ de l‚ÄôPATH.\n~/.bash_logout: S‚Äôexecuta quan l‚Äôusuari tanca la sessi√≥ de shell. Aqu√≠ es poden incloure comandes de neteja o tancament.\n~/.bash_history: Fitxer que emmagatzema l‚Äôhist√≤ric de les comandes executades per l‚Äôusuari en la sessi√≥ de shell."
  },
  {
    "objectID": "slides/02-booting-part3.html#exercicis-propostas",
    "href": "slides/02-booting-part3.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nAn√†lisi del proc√©s d‚Äôarrencada amb systemd\nServei de C√≤pia de Seguretat Autom√†tica amb systemd\nDiscussi√≥: Secure Boot √©s realment segur?: Cerca not√≠cies recents sobre Secure Boot i comparteix-les al f√≤rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi√®ncies personals.\nPr√†ctica 01: Snapshots i restauraci√≥ amb systemd i initramfs"
  },
  {
    "objectID": "slides/02-booting-part3.html#thats-all",
    "href": "slides/02-booting-part3.html#thats-all",
    "title": "Arrencada del sistema (Part 3)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc√©s d‚Äôarrencada √©s un proc√©s complex. Els administradors de sistemes han de con√®ixer aquest proc√©s per poder gestionar i solucionar problemes durant l‚Äôarrencada del sistema i garantir un sistema segur, estable i eficient."
  },
  {
    "objectID": "slides/02-booting.html#etapes-de-larrancada",
    "href": "slides/02-booting.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Etapes de l‚Äôarrancada",
    "text": "Etapes de l‚Äôarrancada"
  },
  {
    "objectID": "slides/02-booting.html#fase-1-m√†quinaria",
    "href": "slides/02-booting.html#fase-1-m√†quinaria",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 1: M√†quinaria",
    "text": "Fase 1: M√†quinaria\n\nEn pr√©mer el bot√≥ d‚Äôencesa, la placa base envia un senyal a la PSU (Power Supply Unit).\nLa PSU proporciona tensi√≥ estable a tots els components i activa la CPU.\nLa CPU inicialitza registres interns i col¬∑loca el Puntador d‚ÄôInstrucci√≥ (EIP) a la direcci√≥ de reset 0xFFFFFFF0.\n\n\n\nAquesta adre√ßa cont√© una instrucci√≥ de salt (jmp) que redirigeix la CPU al Firmware (BIOS/UEFI) per iniciar el proc√©s de diagn√≤stic i arrencada del sistema (POST)."
  },
  {
    "objectID": "slides/02-booting.html#fase-2-firmware",
    "href": "slides/02-booting.html#fase-2-firmware",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 2: Firmware",
    "text": "Fase 2: Firmware\nEl teu ordinador necessita un firmware per: provar, detectar, configurar i inicialitzar dispositius. Aquest firmware en sistemes moderns √©s l‚ÄôUEFI i en sistemes antics el BIOS (normalment compatibles amb IBM PC).\n\n\nYou‚Äôve probably read a lot of stuff on the internet about UEFI. Here is something important you should understand: 95% of it was probably garbage. ‚Äî Adam Williamson"
  },
  {
    "objectID": "slides/02-booting.html#fase-2-etapes",
    "href": "slides/02-booting.html#fase-2-etapes",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 2: Etapes",
    "text": "Fase 2: Etapes\n\nInicialitzaci√≥ del firmware\n\nCarrega i execuci√≥ del codi de firmware (BIOS/UEFI).\nLectura de la configuraci√≥ de la NVRAM.\nVerificaci√≥ de la integritat del firmware.\n\nDiagn√≤stic i detecci√≥\n\nPower-On Self Test (POST): comprovaci√≥ de CPU, RAM, gr√†fics b√†sics‚Ä¶\nDetecci√≥ i inicialitzaci√≥ dels dispositius connectats.\nAplicaci√≥ de la configuraci√≥ als dispositius.\n\nArrencada del sistema\n\nSelecci√≥ del dispositiu d‚Äôarrencada.\nC√†rrega del bootloader de primera etapa.\nTransfer√®ncia del control al bootloader."
  },
  {
    "objectID": "slides/02-booting.html#actualitzaci√≥-del-firmware",
    "href": "slides/02-booting.html#actualitzaci√≥-del-firmware",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Actualitzaci√≥ del firmware",
    "text": "Actualitzaci√≥ del firmware\nEl firmware est√† emmagatzemat en un xip de mem√≤ria flash a la placa base. L‚Äôactualitzaci√≥ (flashing) substitueix el contingut d‚Äôaquest xip per una versi√≥ nova.\n\n\nüöÄ Objectius\n\nCorregir errades de microcodi de la CPU.\nAfegir suport per a nou maquinari (CPU, RAM, targetes).\nAplicar parches de seguretat (ex.: vulnerabilitats Spectre/Meltdown.\nMillorar funcions de gesti√≥ d‚Äôenergia i arrencada segura (Secure Boot).\n\n\n‚ö†Ô∏è Riscos\n\nUn error en el proc√©s (tall de corrent, imatge corrupta, versi√≥ incorrecta) pot deixar el xip inservible (brick).\nAlguns fabricants ofereixen mecanismes de recuperaci√≥ (dual BIOS, BIOS flashback, c√†psules UEFI).\nEn entorns de producci√≥, √©s recomanable validar la nova versi√≥ en un entorn de test abans de desplegar-la."
  },
  {
    "objectID": "slides/02-booting.html#difer√®ncies-entre-bios-i-uefi-i",
    "href": "slides/02-booting.html#difer√®ncies-entre-bios-i-uefi-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Difer√®ncies entre BIOS i UEFI (I)",
    "text": "Difer√®ncies entre BIOS i UEFI (I)\n\n\n\n\n\n\n\n\nCaracter√≠stica\nBIOS\nUEFI\n\n\n\n\nEmmagatzematge\nTradicionalment en ROM (avui dia flash EEPROM)\nFlash SPI a la placa base + EFI System Partition (ESP) al disc\n\n\nCapacitat de disc\nFins a 2,2 TB (per limitaci√≥ 32-bit LBA, sectors 512 B)\nFins a 9,4 ZB (GPT)\n\n\nInterf√≠cie\nText\nGr√†fica, amb suport per ratol√≠ i resolucions altes\n\n\nSeguretat\nSense proteccions avan√ßades\nSecure Boot, verificaci√≥ de signatures i protecci√≥ contra codi malici√≥s\n\n\nCompatibilitat\nPrincipalment IBM PC compatibles antics\nCompatible amb sistemes moderns, amb suport per Legacy BIOS via CSM"
  },
  {
    "objectID": "slides/02-booting.html#difer√®ncies-entre-bios-i-uefi-ii",
    "href": "slides/02-booting.html#difer√®ncies-entre-bios-i-uefi-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Difer√®ncies entre BIOS i UEFI (II)",
    "text": "Difer√®ncies entre BIOS i UEFI (II)\n\n\n\n\n\n\n\n\nCaracter√≠stica\nBIOS\nUEFI\n\n\n\n\nVelocitat d‚Äôarrencada\nM√©s lenta\nM√©s r√†pida gr√†cies a inicialitzaci√≥ paral¬∑lela de drivers i fast boot\n\n\nTaula de particions\nMBR\nGPT\n\n\nNombre m√†xim de particions\n4 prim√†ries (amb l√≤giques dins d‚Äôestesa)\nFins a 128 entrades de particions\n\n\nModularitat\nMonol√≠tica\nModular, permet afegir drivers, aplicacions i extensions UEFI"
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-mbr",
    "href": "slides/02-booting.html#taula-de-particions-mbr",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions MBR",
    "text": "Taula de particions MBR\n\n\nEstructura\n\nBootloader de primera etapa (446 bytes): Cont√© el codi d‚Äôarrencada.\nTaula de particions (64 bytes): Cont√© la informaci√≥ de les particions. Pot contenir fins a 4 entrades.\nSignatura (2 bytes): Marca de final de la taula de particions. Permet identificar la taula de particions com a v√†lida.\n\n\n\n\n\n\n\n\nL√≠mitaci√≥\n\n\n\nCom MBR utiltiza entrades de 32 bits per blocs l√≤gics (LBA) ‚Üí \\(2^{32}\\) sectors √ó \\(512 B = 2 TB\\) aproximadament.\nNom√©s suporta 4 particions prim√†ries."
  },
  {
    "objectID": "slides/02-booting.html#particions-mbr-i",
    "href": "slides/02-booting.html#particions-mbr-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Particions MBR (I)",
    "text": "Particions MBR (I)\n\nParticions prim√†ries\n\nFins a 4 per disc.\nContenen directament un sistema de fitxers (ext4, NTFS, FAT32).\nPot tenir un Volume Boot Record (VBR) que carrega el sistema operatiu de la partici√≥.\n\nPartici√≥ estesa\n\nUna partici√≥ prim√†ria especial per superar la limitaci√≥ de 4 prim√†ries.\nNo cont√© sistema de fitxers ni VBR; actua com a contenidor de particions l√≤giques.\n\nParticions l√≤giques\n\nResideixen dins de la partici√≥ estesa.\nCada partici√≥ l√≤gica t√© un Extended Boot Record (EBR) amb la seva taula de particions.\nLa linked list d‚ÄôEBRs permet afegir din√†micament m√©s particions l√≤giques.\nPot contenir un VBR per carregar el sistema operatiu"
  },
  {
    "objectID": "slides/02-booting.html#particions-mbr-ii",
    "href": "slides/02-booting.html#particions-mbr-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Particions MBR (II)",
    "text": "Particions MBR (II)"
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-gpt-i",
    "href": "slides/02-booting.html#taula-de-particions-gpt-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions GPT (I)",
    "text": "Taula de particions GPT (I)\n\nCompatibilitat i protecci√≥\n\nBloqueja utilitats basades en MBR per no sobreescriure un disc GPT.\nCont√© una √∫nica partici√≥ especial que identifica el disc com GPT.\nOS i eines que no suporten GPT reconeixen el disc, per√≤ normalment no el modifiquen.\n\nGPT Header Primari\n\nSituat al segon sector del disc (LBA 1).\nDefineix els blocs utilitzables del disc.\nCont√© la taula de particions (m√≠nim 128 entrades, 128 B cadascuna).\n\nGPT Header Secundari\n\nC√≤pia de seguretat del Primary GPT Header.\nSituat als √∫ltims sectors del disc.\nPermet recuperar la informaci√≥ si el Primary Header est√† corrupte."
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-gpt",
    "href": "slides/02-booting.html#taula-de-particions-gpt",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions GPT",
    "text": "Taula de particions GPT"
  },
  {
    "objectID": "slides/02-booting.html#qu√®-√©s-uefi-i",
    "href": "slides/02-booting.html#qu√®-√©s-uefi-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu√® √©s UEFI? (I)",
    "text": "Qu√® √©s UEFI? (I)\n\nSistema de fitxers propi\n\nUEFI no utilitza MBR tradicional de 512 B ni codi de boot limitat.\nDisposa d‚Äôun filesystem propi (FAT32, 100 a 550 MB) anomenat EFI System Partition (ESP).\nLa partici√≥ EFI √©s marcada amb boot flag, per√≤ mai cont√© OS partitions.\n\nEstructura de la partici√≥ EFI\n\nCada OS t√© la seva carpeta dins de la ESP.\nCont√© tots els fitxers necessaris per carregar el sistema operatiu.\nEn Linux, la ESP sovint es munta sota /boot/efi.\n\n\n\n/\n‚îú‚îÄ‚îÄ boot\n‚îÇ   ‚îú‚îÄ‚îÄ efi\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EFI\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BOOT\n‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BOOTX64.EFI"
  },
  {
    "objectID": "slides/02-booting.html#qu√®-√©s-uefi-ii",
    "href": "slides/02-booting.html#qu√®-√©s-uefi-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu√® √©s UEFI? (II)",
    "text": "Qu√® √©s UEFI? (II)\n\nMini sistema operatiu\n\nUEFI √©s com un mini sistema operatiu.\n\nExecuta fitxers en format EFI executable.\nPermet drivers i aplicacions independents del SO.\n\nQuan escrius un bootloader natiu UEFI, has de respectar aquest format.\n\nUEFI Boot Manager\n\nMotor de pol√≠tica del firmware per arrencada.\nConfigurable via variables globals a NVRAM.\nCarrega drivers UEFI i aplicacions UEFI (incloent OS bootloaders) en l‚Äôordre definit per les variables.\nLinux disposa de l‚Äôeina efibootmgr per modificar la configuraci√≥ del boot manager."
  },
  {
    "objectID": "slides/02-booting.html#m√≤duls-de-la-uefi",
    "href": "slides/02-booting.html#m√≤duls-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "M√≤duls de la UEFI",
    "text": "M√≤duls de la UEFI"
  },
  {
    "objectID": "slides/02-booting.html#efibootmgr",
    "href": "slides/02-booting.html#efibootmgr",
    "title": "Arrencada del sistema (Part 1)",
    "section": "efibootmgr",
    "text": "efibootmgr\n# efibootmgr -v\nBootCurrent: 0002\nTimeout: 3 seconds\nBootOrder: 0003,0002,0000,0004\nBoot0000* CD/DVD Drive  BIOS(3,0,00)\nBoot0001* Hard Drive    HD(2,0,00)\nBoot0002* Fedora        HD(1,800,61800,6d98f360-cb3e-4727-8fed-5ce0c040365d)File(\\EFI\\fedora\\grubx64.efi)\nBoot0003* opensuse      HD(1,800,61800,6d98f360-cb3e-4727-8fed-5ce0c040365d)File(\\EFI\\opensuse\\grubx64.efi)\nBoot0004* Hard Drive    BIOS(2,0,00)P0: ST1500DM003-9YN16G \n\nLes entrades Boot0000 i Boot0004 corresponen a modes de compatibilitat BIOS (CSM), no s√≥n natives- d‚ÄôUEFI.\nGenerades autom√†ticament pel firmware, sense intervenci√≥ externa.\nS‚Äôafegeixen directament a les variables NVRAM del sistema.\nEntrades UEFI natives (Boot0002, Boot0003) apunten directament als fitxers EFI dels OS:\n\nFedora : \\EFI\\fedora\\grubx64.efi\nopenSUSE: \\EFI\\opensuse\\grubx64.efi\n\nL‚Äôordre d‚Äôarrencada es defineix a la variable BootOrder."
  },
  {
    "objectID": "slides/02-booting.html#qu√®-√©s-la-consola-de-la-uefi",
    "href": "slides/02-booting.html#qu√®-√©s-la-consola-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu√® √©s la consola de la UEFI?",
    "text": "Qu√® √©s la consola de la UEFI?\nLa consola de la UEFI √©s una interf√≠cie de l√≠nia de comandes que permet interactuar directament amb el firmware UEFI per realitzar tasques avan√ßades de diagn√≤stic, configuraci√≥ i manteniment del sistema.\n\n\nFuncions\n\nConfiguraci√≥ del maquinari i perif√®rics (CPU, mem√≤ria, dispositius PCIe).\nComprovaci√≥ del funcionament dels dispositius i diagn√≤stic de fallades.\nAcc√©s als sistemes de fitxers EFI i gesti√≥ de fitxers de boot.\nInstal¬∑laci√≥, reparaci√≥ o actualitzaci√≥ de bootloaders i OS.\nExecuci√≥ de aplicacions UEFI natives (mini-aplicacions tipus OS).\n\n\nAcc√©s\n\nPrement una tecla durant l‚Äôengegada del sistema, segons el fabricant: F2, F10, F12, ESC o Supr.\nDes de sistemes operatius:\n\nLinux: efibootmgr o systemctl reboot --firmware-setup.\nWindows: Opci√≥ Advanced Startup i UEFI Firmware Settings.\nmacOS: Reboot amb Option/Alt."
  },
  {
    "objectID": "slides/02-booting.html#comandes-de-la-consola-de-la-uefi",
    "href": "slides/02-booting.html#comandes-de-la-consola-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Comandes de la consola de la UEFI",
    "text": "Comandes de la consola de la UEFI\n\n\n\n\n\n\n\n\nComanda\nFunci√≥\nExemple\n\n\n\n\nmap\nMostra els dispositius detectats i les unitats l√≤giques associades\nmap fs* ‚Üí llista tots els sistemes de fitxers detectats\n\n\nmem\nMostra l‚Äô√∫s de mem√≤ria i mapa f√≠sic de la RAM\nmemmap ‚Üí mapa detallat de la mem√≤ria f√≠sica\n\n\nls\nLlista fitxers i directoris dins un FS accessible\nls fs0:\\EFI\\Boot ‚Üí mostra fitxers de la partici√≥ EFI\n\n\ncd\nNavegar entre carpetes dins del FS\ncd EFI\\Boot ‚Üí mou a la carpeta d‚Äôarrencada EFI\n\n\ncp\nCopiar fitxers entre unitats o directoris\ncp fs0:\\EFI\\Boot\\bootx64.efi fs1:\\EFI\\Backup\\\n\n\nedit\nEditar fitxers, √∫til per configurar scripts d‚Äôarrencada\nedit fs0:\\EFI\\Boot\\bootx64.efi"
  },
  {
    "objectID": "slides/02-booting.html#import√†ncia-de-la-partici√≥-efi",
    "href": "slides/02-booting.html#import√†ncia-de-la-partici√≥-efi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Import√†ncia de la partici√≥ EFI",
    "text": "Import√†ncia de la partici√≥ EFI\n\nPunt de partida per a l‚Äôarrencada del sistema operatiu.\nEssencial per a l‚Äôarrencada dels sistemes UEFI.\nCont√© fitxers cr√≠tics per carregar el bootloader de segona etapa, com:\n\nGRUB (Linux)\nGestor d‚Äôarrencada de Windows\n\nPermet tenir m√∫ltiples sistemes operatius en el mateix disc.\nFacilita la gesti√≥ i actualitzaci√≥ de bootloaders sense afectar les particions del sistema operatiu."
  },
  {
    "objectID": "slides/02-booting.html#arrencar-sense-partici√≥-efi",
    "href": "slides/02-booting.html#arrencar-sense-partici√≥-efi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Arrencar sense partici√≥ EFI",
    "text": "Arrencar sense partici√≥ EFI\n\nTe√≤ricament possible: configurar UEFI per carregar el bootloader directament des del disc dur.\nPoc com√∫ i no recomanat, ja que:\n\nComplica la gesti√≥ dels sistemes operatius.\nImpedeix actualitzacions i reparacions autom√†tiques dels bootloaders.\n\nLa partici√≥ EFI proporciona un punt centralitzat i est√†ndard per a tots els fitxers d‚Äôarrencada."
  },
  {
    "objectID": "slides/02-booting.html#tipus-de-bootloaders",
    "href": "slides/02-booting.html#tipus-de-bootloaders",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Tipus de bootloaders",
    "text": "Tipus de bootloaders\n\nBootloader de primera etapa: Carregat directament pel firmware (BIOS/UEFI). S‚Äôencarrega de carregar el bootloader de segona etapa.\nBootloader de segona etapa: Carregat pel bootloader de primera etapa. S‚Äôencarrega de carregar el sistema operatiu.\n\n\nEn sistemes UEFI, el bootloader de primera etapa √©s un fitxer executable en format EFI (per exemple, grubx64.efi per a GRUB). Mentre que en sistemes BIOS, el bootloader de primera etapa es troba en el MBR del disc."
  },
  {
    "objectID": "slides/02-booting.html#funcions-del-bootloader",
    "href": "slides/02-booting.html#funcions-del-bootloader",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Funcions del bootloader",
    "text": "Funcions del bootloader\nUn bootloader √©s el programa encarregat de:\n\nMostrar un men√∫ amb les diverses opcions d‚Äôarrencada disponibles.\nCarregar el nucli (kernel) i l‚ÄôInitrd (si s‚Äôescau) a la mem√≤ria principal.\nEl kernel de linux t√© una convenci√≥ d‚Äôarrencada on el bootloader ha de preparar el mapa de mem√≤ria i els registres de la CPU abans de transferir el control al nucli."
  },
  {
    "objectID": "slides/02-booting.html#diferents-gestors-darrencada",
    "href": "slides/02-booting.html#diferents-gestors-darrencada",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Diferents gestors d‚Äôarrencada",
    "text": "Diferents gestors d‚Äôarrencada\n\n\n\n\n\n\n\n\nBootloader\nCompatibilitat\nCaracter√≠stiques principals\n\n\n\n\nLILO\nBIOS\nAntic bootloader Linux, obsolet.\n\n\nGRUB\nBIOS/UEFI\nPopular en Linux; men√∫ configurable; suport multiboot.\n\n\nGRUB2\nBIOS/UEFI\nVersi√≥ moderna; suport FAT, NTFS, ext4; millor multiboot i scripting.\n\n\nrEFInd\nUEFI\nPermet arrencar m√∫ltiples OS; interf√≠cie gr√†fica amigable.\n\n\nsystemd-boot\nUEFI\nSimple i r√†pid; integraci√≥ amb systemd; no recomanat per multiboot.\n\n\nWindows Boot Manager\nUEFI\nGestiona arrencada de Windows i altres OS compatibles; integraci√≥ amb BCD."
  },
  {
    "objectID": "slides/02-booting.html#exercicis-propostas",
    "href": "slides/02-booting.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nBooting amb MBR i BIOS\nBooting amb UEFI\nDual Boot amb UEFI"
  },
  {
    "objectID": "slides/02-booting.html#thats-all",
    "href": "slides/02-booting.html#thats-all",
    "title": "Arrencada del sistema (Part 1)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc√©s d‚Äôarrencada √©s un proc√©s complex. Els administradors de sistemes han de con√®ixer aquest proc√©s per poder gestionar i solucionar problemes durant l‚Äôarrencada del sistema i garantir un sistema segur, estable i eficient."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#contextutalitzaci√≥",
    "href": "slides/03-filesystem-part3.html#contextutalitzaci√≥",
    "title": "Sistema de fitxers (III)",
    "section": "Contextutalitzaci√≥",
    "text": "Contextutalitzaci√≥\nImaginem que disposem d‚Äôun servidor amb un √∫nic disc dur, dividit en quatre particions. Aquestes particions s√≥n:\nFilesystem      Size  Used   Avail  Use%   Mounted on\n/dev/sda1       20G   5.5G   14G    29%    /\n/dev/sda2       10G   10G    0G     100%   /home\n/dev/sda3       5G    1G     4G     20%    /var\n/dev/sda4       5G    1G     4G     20%    /tmp\n\nQu√® passa si la partici√≥ /home s‚Äôomple i la resta de particions tenen espai lliure?\n\n\nLa soluci√≥ tradicional seria redimensionar les particions per alliberar espai per a /home.\n\n\n‚û°Ô∏è Aix√≤ implica complexitat i possibilitat d‚Äôerrors.\n\n\nPer tant, necessitem una soluci√≥ m√©s flexible que ens permeti redimensionar les particions sense haver de moure dades i en temps real.\n\n\nUna situaci√≥ t√≠pica quan administrem servidors √©s que una partici√≥ s‚Äôompli i la resta de particions tinguin espai lliure. En aquest cas, la partici√≥ /home s‚Äôha omplert i la resta de particions tenen espai lliure. Per solucionar aquest problema, haur√≠em de redimensionar les particions per alliberar espai per a /home. Aix√≤ implica complexitat i possibilitat d‚Äôerrors. Per tant, necessitem una soluci√≥ m√©s flexible. Que ens permeti redimensionar les particions sense haver de moure dades i en temps real."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#introducci√≥-a-lvm-1",
    "href": "slides/03-filesystem-part3.html#introducci√≥-a-lvm-1",
    "title": "Sistema de fitxers (III)",
    "section": "Introducci√≥ a LVM",
    "text": "Introducci√≥ a LVM\nLogical Volume Manager (LVM) √©s un sistema de gesti√≥ de discos que permet als administradors gestionar l‚Äôespai de disc de manera m√©s flexible que amb les particions tradicionals, resolent problemes comuns.\n\nEn la situaci√≥ anterior, LVM ens permetria en temps real i sense aturar el sistema:\n\nRedimensionar les particions /var i /tmp per alliberar espai per a /home.\nRedimensionar la partici√≥ /home a partir de l‚Äôespai alliberat.\n\n\n\no b√© tamb√© ens permetria:\n\nAfegir un nou disc dur f√≠sic al servidor.\nUtilitzar aquest disc dur per a augmentar l‚Äôespai de la partici√≥ /home.\n\n\n\nCrear, eliminar, redimensionar i moure particions en temps real."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#caracter√≠stiques-de-lvm",
    "href": "slides/03-filesystem-part3.html#caracter√≠stiques-de-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Caracter√≠stiques de LVM",
    "text": "Caracter√≠stiques de LVM\n\nAprovisionament: Permet combinar la capacitat de diferents dispositius f√≠sics per crear un √∫nic o m√∫ltiples volums v√≠rtuals. Per exemple, es poden combinar quatre discs durs de 1TB per crear un √∫nic volum virtual de 4TB.\nElasticitat: Permet augmentar o disminuir l‚Äôespai assignat a un volum virtual, sense necessitat de reiniciar el sistema. Per exemple, si un volum virtual s‚Äôest√† quedant sense espai, es pot augmentar la seva mida o reduir-la.\nEscalabilitat: Permet afegir o eliminar dispositius f√≠sics al grup de volums per augmentar o disminuir l‚Äôespai d‚Äôemmagatzematge segons les necessitats. Per exemple, si es necessita m√©s espai d‚Äôemmagatzematge, es poden afegir nous discs f√≠sics.\nResili√®ncia: Atorga la capacitat de crear c√≤pies de seguretat de les dades per protegir-les davant possibles errors o danys. Per exemple, es poden crear snapshots o miralls (mirroring)."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#components-de-lvm",
    "href": "slides/03-filesystem-part3.html#components-de-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Components de LVM",
    "text": "Components de LVM\n\n\n\nPV (Physical Volume): Dispositiu f√≠sic que es pot utilitzar per emmagatzemar dades. Per exemple, un disc dur, una partici√≥, un dispositiu RAID, etc.\nLV (Logical Volume): Bloc de dades que es pot utilitzar per emmagatzemar dades i contenir el seu propi sistema de fitxers. Equivalent a una partici√≥ de disc en un sistema sense LVM.\nVG (Volume Group): Agrupaci√≥ de LVs i PVs en una unitat administrativa. Un VG pot contenir diversos PVs i LVs."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#mapeig-i-extensions",
    "href": "slides/03-filesystem-part3.html#mapeig-i-extensions",
    "title": "Sistema de fitxers (III)",
    "section": "Mapeig i Extensions",
    "text": "Mapeig i Extensions\n\n\nPE (Physical Extent)\n√âs la unitat m√≠nima d‚Äôemmagatzematge que es pot assignar a un PV. Normalment, un PE t√© una mida de 4MB.\nLE (Logical Extent)\n√âs la unitat m√≠nima d‚Äôemmagatzematge que es pot assignar a un LV. Per exemple, si un LE t√© una mida de 4MB, un LV de 1GB tindr√† 256 LE.\nObservacions\n\nCada VG s‚Äôencarrega de gestionar l‚Äôemmagatzematge f√≠sic (physical extents) mappejant-lo en emmagatzematge l√≤gic (logical extents).\nEls PE i LE tenen la mateixa mida per√≤ s√≥n diferents en funci√≥ de l‚Äôestrategia de mapeig."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#estrat√®gies-de-mapeig",
    "href": "slides/03-filesystem-part3.html#estrat√®gies-de-mapeig",
    "title": "Sistema de fitxers (III)",
    "section": "Estrat√®gies de Mapeig",
    "text": "Estrat√®gies de Mapeig"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemple-i-consideracions",
    "href": "slides/03-filesystem-part3.html#exemple-i-consideracions",
    "title": "Sistema de fitxers (III)",
    "section": "Exemple i Consideracions",
    "text": "Exemple i Consideracions\n\n\n\n\n\nEs poden utilitzar dispositius de diferents mides i velocitats.\nUn PV nom√©s pot pert√†nyer a un VG.\nUn LV nom√©s pot pert√†nyer a un VG.\nUn VG pot contenir diversos PVs i LVs.\nLes funcions de mirror i snapshot requereixen m√©s d‚Äôun PV."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#snapshots",
    "href": "slides/03-filesystem-part3.html#snapshots",
    "title": "Sistema de fitxers (III)",
    "section": "Snapshots",
    "text": "Snapshots\nEls snapshots s√≥n c√≤pies instant√†nies d‚Äôun LV en un moment concret. El seu funcionament √©s incremental: nom√©s es copien les dades que han canviat des de l‚Äô√∫ltim snapshot.\nPer qu√® s√≥n √∫tils?\n\nC√≤pies de seguretat: Realitzar c√≤pies de seguretat de les dades sense aturar el sistema.\nRestauraci√≥: Restaurar les dades a un estat anterior.\nTests: Provar canvis en el sistema sense afectar les dades originals.\n\nCompte!\nLes instant√†nies ocupen espai en el VG. Per tant, si es crea una instant√†nia i despr√©s es sobreescriu completament el LV original, l‚Äôinstant√†nia hauria de ser almenys tan gran com el LV original per poder emmagatzemar tots els canvis."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#paquet-lvm2",
    "href": "slides/03-filesystem-part3.html#paquet-lvm2",
    "title": "Sistema de fitxers (III)",
    "section": "Paquet lvm2",
    "text": "Paquet lvm2\nEn la majoria de les distribucions de Linux, el paquet lvm2 permet la creaci√≥ i gesti√≥ de dispositius LVM.\n\n\nDistribucions basades en Red Hat\ndnf search lvm2\ndnf install lvm2 -y\n\nDistribucions basades en Debian\napt search lvm2\napt install lvm2 -y\n\n\nEl funcionament del paquet lvm2 √©s similar en totes les distribucions de Linux. Per tant, les instruccions d‚Äô√∫s s√≥n similars i no importa la distribuci√≥ que s‚Äôutilitzeu."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#creaci√≥-de-pvs",
    "href": "slides/03-filesystem-part3.html#creaci√≥-de-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Creaci√≥ de PVs",
    "text": "Creaci√≥ de PVs\npvcreate PV [opcions]\nOn: PV pot ser un disc dur, una partici√≥, un dispositiu RAID, etc.\n\n‚Äìdataalignment mida[Unitat]: Alinia el comen√ßament del PV.\n‚Äìdataalignmentoffset mida[Unitat]: Offset per modificar alineaci√≥ de dades.\n‚Äìlabelsector sector: Per defecte, el PV est√† etiquetat amb un identificador LVM2 al seu segon sector (sector 1). Aix√≤ us permet utilitzar un sector diferent a prop de l‚Äôinici del disc (entre 0 i 3).\n‚Äìmetadatasize mida[Unitat]: Mida de les metadades.\n‚Äìsetphysicalvolumesize mida[Unitat]: Mida dels PE.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man pvcreate).\n‚Äìuuid uuid: Assigna un UUID al PV.\n\n\n√ös tradicional: pvcreate /dev/sdb sense opcions."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#organitzaci√≥-interna-dels-pvs",
    "href": "slides/03-filesystem-part3.html#organitzaci√≥-interna-dels-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Organitzaci√≥ interna dels PVs",
    "text": "Organitzaci√≥ interna dels PVs"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemples-de-l√∫s-de-pvcreate",
    "href": "slides/03-filesystem-part3.html#exemples-de-l√∫s-de-pvcreate",
    "title": "Sistema de fitxers (III)",
    "section": "Exemples de l‚Äô√∫s de pvcreate",
    "text": "Exemples de l‚Äô√∫s de pvcreate\n\nInicialitzaci√≥ a partir d‚Äôun disc dur amb alineaci√≥ de dades de 1MB comen√ßant des del sector 7.\n\n\npvcreate --dataalignment 1M --dataalignmentoffset 7s /dev/sdb\n\n\nInicialitzaci√≥ a partir d‚Äôuna partici√≥ amb un UUID espec√≠fic.\n\n\npvcreate --uuid \"my-pv-uuid\" /dev/sdb1\n\n\nInicialitzaci√≥ a partir d‚Äôun raid amb mida de metadades 128MB i 8MB per PE (enlloc de 4MB).\n\n\npvcreate --setphysicalvolumesize 8M --metadatasize 128M /dev/md0"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#modificar-pvs-amb-pvchange",
    "href": "slides/03-filesystem-part3.html#modificar-pvs-amb-pvchange",
    "title": "Sistema de fitxers (III)",
    "section": "Modificar PVs amb pvchange",
    "text": "Modificar PVs amb pvchange\npvchange [opcions] PV\n\n‚Äìall: Aplica l‚Äôacci√≥ a tots els PVs (no cal especificar el PV).\n‚Äìaddtag tag: Afegeix una etiqueta al PV.\n‚Äìdeltag tag: Elimina una etiqueta del PV.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man pvcreate).\n‚Äìuuid uuid: Assigna un UUID al PV.\n‚Äìallocatable y/n: Activa o desactiva l‚Äôassignaci√≥ de PE al PV.\n‚Äìautobackup y/n: Activa o desactiva la c√≤pia de seguretat autom√†tica de les metadades."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#redimensionar-pvs-amb-pvresize",
    "href": "slides/03-filesystem-part3.html#redimensionar-pvs-amb-pvresize",
    "title": "Sistema de fitxers (III)",
    "section": "Redimensionar PVs amb pvresize",
    "text": "Redimensionar PVs amb pvresize\npvresize [opcions] PV\n\n‚Äìsetphysicalvolumesize mida[Unitat]: Redimensiona el PV.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man pvresize).\n\n\nConsideracions pr√†ctiques\n\npvresize redimensiona el PV, per√≤ no redimensiona les particions o els sistemes de fitxers que cont√©. Haur√†s de fer aix√≤ manualment si √©s necessari.\npvresize refusar√† reduir un PV si t√© extensiones assignades m√©s enll√† del nou final. Haur√†s de moure o eliminar aquestes extensions primer.\npvresize permet redimensionar un PV encara que estigui incl√≤s en un VG amb LVs actius."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemples-pvresize",
    "href": "slides/03-filesystem-part3.html#exemples-pvresize",
    "title": "Sistema de fitxers (III)",
    "section": "Exemples pvresize",
    "text": "Exemples pvresize\n\nExpandir un PV despr√©s d‚Äôampliar la partici√≥ per utilitzar tot el nou espai disponible.\n\n\npvresize /dev/sdb1\n\n\nReduir un PV abans de reduir la partici√≥ (assegurar-se que la mida del PV √©s adequada per a la nova mida de la partici√≥).\n\n\npvresize --setphysicalvolumesize 40G /dev/sdb1"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#eliminar-pvs-amb-pvremove",
    "href": "slides/03-filesystem-part3.html#eliminar-pvs-amb-pvremove",
    "title": "Sistema de fitxers (III)",
    "section": "Eliminar PVs amb pvremove",
    "text": "Eliminar PVs amb pvremove\npvremove PV\n# Podeu obtenir la llista d'opcions amb pvremove --longhelp \n# o b√© pvremove --help\n\npvremove elimina totes les metadades del PV, per√≤ no elimina les dades.\npvremove no permet eliminar PVs que estiguin en √∫s. Haur√†s de moure o eliminar les extensions primer.\npvremove no permet eliminar PVs que formin part d‚Äôun VG. Haur√†s de treure el PV del VG primer.\n\n\nPer eliminar les dades del PV, haur√†s de sobreescriure el PV amb zeros dd if=/dev/zero of=PV bs=1M count=1 o b√© formatejar el dispositiu."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#obtenir-informaci√≥-pvs",
    "href": "slides/03-filesystem-part3.html#obtenir-informaci√≥-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Obtenir informaci√≥ pvs",
    "text": "Obtenir informaci√≥ pvs\npvs [opcions]\n\n‚Äìallpvs: Mostra tots els PVs, inclosos els PVs inactius.\n‚Äìall: Mostra tots els dispositius que no han estat inicialitzats com a PVs.\n‚Äìnoheadings: No mostra la cap√ßalera (bona combinaci√≥ amb grep).\n‚Äìdevices PV: Restringeix la sortida als PVs especificats.\n‚Äìoptions String: Permet seleccionar les columnes a mostrar. Per a m√©s informaci√≥, consulteu pvs -o help.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man pvs).\n\n\nAltres opcions per a visualitzar informaci√≥n s√≥n: pvdisplay i pvscan. La principal difer√®ncia √©s que pvdisplay mostra la informaci√≥ de tots els PVs, mentre que pvscan escaneja tots els dispositius per trobar PVs."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#inicialitzaci√≥-de-vgs",
    "href": "slides/03-filesystem-part3.html#inicialitzaci√≥-de-vgs",
    "title": "Sistema de fitxers (III)",
    "section": "Inicialitzaci√≥ de VGs",
    "text": "Inicialitzaci√≥ de VGs\nvgcreate VG PV [opcions]\n\n‚Äìclustered y/n: Activa o desactiva el VG per a l‚Äô√∫s en un cl√∫ster.\n‚Äìmaxlogicalvolumes nombre: N√∫mero m√†xim de LVs que es poden crear en el VG.\n‚Äìmaxphysicalvolumes nombre: N√∫mero m√†xim de PVs que es poden afegir al VG.\n‚Äìphysicalextentsize mida[Unitat]: Mida dels PE.\n‚Äìmetadatasize mida[Unitat]: Mida de les metadades.\n‚Äìalloc [contiguous|cling|normal|anywhere]: Estrat√®gia d‚Äôassignaci√≥ de PE.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man vgcreate).\n\n\nQuan un VG s‚Äôinicialitza a partir d‚Äôun PV, els valors de la mida de les metadades, comen√ßament dels PE,‚Ä¶ es prenen del PV, encara que s‚Äôhagin especificat opcions diferents amb vgcreate. ‚û°Ô∏è si voleu canviar-ho, pvremove. I despr√©s vgcreate amb les opcions desitjades.\n\n\n\nvgcreate incialitza el PV en cas que no estigui inicialitzat."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#augmentar-o-reduir-vgs-amb-vgextend-i-vgreduce",
    "href": "slides/03-filesystem-part3.html#augmentar-o-reduir-vgs-amb-vgextend-i-vgreduce",
    "title": "Sistema de fitxers (III)",
    "section": "Augmentar o Reduir VGs amb vgextend i vgreduce",
    "text": "Augmentar o Reduir VGs amb vgextend i vgreduce\nvgextend VG PV [opcions] # Afegir un PV o una llista de PVs a un VG\nvgreduce VG PV [opcions] # Treure un PV o una llista de PVs d'un VG\n\nvgextend permet afegir PVs no inicialitzats. En aquest cas, vgextend inicialitzar√† els PVs amb les opcions especificades de --labelsector, --metadatasize, --metadataignore, --pvmetadatacopies, --dataalignment, --dataalignmentoffset.\nvgreduce detecta que un o m√©s PVs estan perduts, necessita vgreduce --removemissing per fer que les metadades del VG siguin consistents de nou."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#altres-operacions-amb-vgs",
    "href": "slides/03-filesystem-part3.html#altres-operacions-amb-vgs",
    "title": "Sistema de fitxers (III)",
    "section": "Altres operacions amb VGs",
    "text": "Altres operacions amb VGs\n\nModificar les propietats d‚Äôun VG\n\n\nvgchange [opcions] VG\n\n\nEliminar un VG\n\n\nvgremove VG\n\n\nMostrar informaci√≥ detallada d‚Äôun VG\n\n\nvgs\nvgdisplay VG\nvgscan\n\n\nTotes aquestes comandes tenen opcions similars a les ja vistes per a pvchange, pvremove, pvs, pvdisplay i pvscan. Per a m√©s informaci√≥, consulteu el manual de cada comanda."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#inicialitzaci√≥-de-lvs",
    "href": "slides/03-filesystem-part3.html#inicialitzaci√≥-de-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Inicialitzaci√≥ de LVs",
    "text": "Inicialitzaci√≥ de LVs\nlvcreate LV VG [opcions]\n\n-n|‚Äìname nom: Nom del LV.\n-L|‚Äìsize mida[Unitat]: Mida del LV en unitats com MiB,GiB,TiB,‚Ä¶.\n-l|‚Äìextents nombre: Defineix com un % del VG o b√© com un nombre enter.\n-i|‚Äìstripes nombre: Defineix el nombre de stripes a utilitzar.\n-I|‚Äìstripesize mida[Unitat]: Defineix la mida de les stripes.\n-m|‚Äìmirrors nombre: Defineix el nombre de miralls a utilitzar.\n-s|‚Äìsnapshot: Crea un snapshot del LV.\n-c|‚Äìchunksize mida[Unitat]: Defineix la mida dels chunks.\n-C|‚Äìcontiguous y/n: Activa o desactiva l‚Äôassignaci√≥ de PE contigus.\n-p|‚Äìpermission r|rw: Defineix els permisos del LV.\n-t|‚Äìthinpool VG: Crea un thin pool LV.\n‚Äìlonghelp: Mostra totes les opcions (semblant a man lvcreate)."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#consideracions-pr√†ctiques-sobre-lvcreate-i",
    "href": "slides/03-filesystem-part3.html#consideracions-pr√†ctiques-sobre-lvcreate-i",
    "title": "Sistema de fitxers (III)",
    "section": "Consideracions pr√†ctiques sobre lvcreate (I)",
    "text": "Consideracions pr√†ctiques sobre lvcreate (I)\n\nlvcreate crea un nou LV en un VG. ‚û°Ô∏è Assigna extensions l√≤giques a les extensions f√≠siques lliures del VG.\n\n\nQu√® passaria si no hi ha prou espai lliure al VG? Haur√≠em d‚Äôampliar el VG amb altres PVs (vgextend), o b√© reduir o eliminar els LV existents (lvremove, lvreduce). Aquesta √©s una consideraci√≥ important a tenir en compte quan es treballa amb grans volums de dades.\n\n\nlvcreate permet especificar quins PVs utilitzar√† un nou LV. ‚û°Ô∏è lvcreate assignar√† extensi√≥ f√≠siques nom√©s dels PVs especificats. Aix√≤ pot ser √∫til quan es vol controlar l‚Äôassignaci√≥ d‚Äôespai en un sistema amb m√∫ltiples PVs.\nlvcreate tamb√© pot crear LV RAID especificant un tipus de LV en crear el LV. ‚û°Ô∏è Diferents nivells de RAID requereixen diferents nombres de PVs √∫nics en el VG per a l‚Äôassignaci√≥. Aix√≤ pot ser √∫til per a la redund√†ncia de dades i la toler√†ncia a fallades."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#consideracions-pr√†ctiques-sobre-lvcreate-ii",
    "href": "slides/03-filesystem-part3.html#consideracions-pr√†ctiques-sobre-lvcreate-ii",
    "title": "Sistema de fitxers (III)",
    "section": "Consideracions pr√†ctiques sobre lvcreate (II)",
    "text": "Consideracions pr√†ctiques sobre lvcreate (II)\n\nlvcreate tamb√© pot crear thin pools i cache pools. ‚û°Ô∏è Aquests no s√≥n utilitzables com a dispositius de bloc est√†ndard, per√≤ els noms dels LV actuen com a refer√®ncies. Aquests pools ens poden interesar en servidors on molts usuaris comparteixen recursos d‚Äôemmagatzematge i es volen limitar els recursos d‚Äôemmagatzematge per usuari.\nlvcreate tamb√© pot crear LV thin i LV VDO. ‚û°Ô∏è Aquests es creen amb una mida virtual en lloc d‚Äôuna mida f√≠sica. Permeten sobreprovisionament i compressi√≥ de dades. ‚û°Ô∏è Tots el usuaris tenen dret a m√©s espai del que realment tenen.\nPodeu utilitzar qualsevol --size o --extents per especificar la mida del LV.\nEn cas de no especificar un nom, es generar√† un nom de LV amb el prefix lvol i un sufix num√®ric √∫nic. Aix√≤ pot ser √∫til quan es vol crear m√∫ltiples LVs de forma r√†pida i eficient."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#altres-operacions-amb-lvs",
    "href": "slides/03-filesystem-part3.html#altres-operacions-amb-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Altres operacions amb LVs",
    "text": "Altres operacions amb LVs\nEls LVs ens permeten les mateixes operacions amb opcions similars a les ja vistes per a PVs i VGs:\n\nMostrar informaci√≥ detallada d‚Äôun LV: lvs, lvdisplay, lvscan.\nModificar les propietats d‚Äôun LV: lvchange.\nEliminar un LV: lvremove.\nIncrementar o disminuir la mida d‚Äôun LV: lvextend, lvreduce.\n\n\nPer a m√©s informaci√≥, consulteu el manual de cada comanda o b√© executeu comanda --help."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-01-lvm-i-bootloaders",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-01-lvm-i-bootloaders",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 01: LVM i BootLoaders",
    "text": "Cas Pr√†ctic 01: LVM i BootLoaders\nDurant la realitzaci√≥ d‚Äôuna instal¬∑laci√≥ d‚Äôun sistema operatiu, s‚Äôha de decidir si utilitzar LVM per a la partici√≥ /boot o /boot/efi. Creus que √©s recomanable utilitzar LVM per a aquestes particions?\n\nNo, no √©s recomanable utilitzar LVM per a la partici√≥ /boot o /boot/efi. Els BootLoaders com GRUB no poden llegir els sistemes de fitxers LVM. Per tant, √©s millor utilitzar particions tradicionals per a /boot i /boot/efi.\n\n\nDurant el proc√©s d‚Äôarrancada, el bootloader carrega el kernel i la imatge initramfs des de la partici√≥ /boot. Si aquesta partici√≥ est√† en un sistema de fitxers LVM, el bootloader no podr√† llegir-la i no podr√† carregar el sistema operatiu."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-02-dispositiu-compartit-usb",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-02-dispositiu-compartit-usb",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 02: Dispositiu compartit (USB)",
    "text": "Cas Pr√†ctic 02: Dispositiu compartit (USB)\nAssumeix que tens un disc dur extern de 2TB i vols fer-ho servir per guardar c√≤pies de seguretat de dos usuaris. El disc es connecta per usb f√≠sicament als dos dispositius. L‚Äôusuari 1 necessita 1TB i l‚Äôusuari 2 necessita 500GB. Assumeix que l‚Äôusuari 1 utilitza Windows i l‚Äôusuari 2 utilitza Linux. Recomanaries utilitzar LVM per aquest cas d‚Äô√∫s?\n\nNo, LVM √©s una tecnologia espec√≠fica de Linux i no √©s compatible amb Windows. Per tant, no √©s recomanable utilitzar LVM per aquest cas d‚Äô√∫s. En aquest cas, seria millor utilitzar particions tradicionals per a cada usuari. Podeu crear dues particions: una de 1TB formatada amb NTFS per a l‚Äôusuari 1 (Windows) i una altra de 500GB formatada amb ext4 per a l‚Äôusuari 2 (Linux). La resta de l‚Äôespai es podria deixar sense particionar o crear una partici√≥ compartida si es desitja."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-02-dispositiu-compartit-nas",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-02-dispositiu-compartit-nas",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 02: Dispositiu compartit (NAS)",
    "text": "Cas Pr√†ctic 02: Dispositiu compartit (NAS)\nAssumeix ara que el disc dur extern s‚Äôutilitza en un NAS on s‚Äôofereix emmagatzematge compartit per a tots els usuaris en xarxa local. En aquest cas, recomanaries utilitzar LVM per aquest cas d‚Äô√∫s?\n\nS√≠, en aquest cas, LVM pot ser una bona opci√≥ per a la gesti√≥ de l‚Äôespai d‚Äôemmagatzematge compartit. LVM permet crear volums l√≤gics que es poden redimensionar en temps real. Cada usuari podria tenir el seu LV per emmagatzemar les seves dades. Com el NAS √©s un servidor de xarxa, els usuaris podrien accedir als seus LVs a trav√©s de la xarxa; independentment del sistema operatiu que utilitzin els usuaris en els seus dispositius."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-03-servidor-de-base-de-dades",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-03-servidor-de-base-de-dades",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 03: Servidor de Base de Dades",
    "text": "Cas Pr√†ctic 03: Servidor de Base de Dades\nConsiderant que hem de configurar un servidor de base de dades amb 4 discos durs de 1TB cadascun. Quins avantatges i desavantatges tindria la implementaci√≥ de LVM en aquest context?\n\nLVM permet la creaci√≥ de volums l√≤gics que es poden distribuir en diversos discos f√≠sics, cosa que pot millorar el rendiment mitjan√ßant el striping. ‚û°Ô∏è Aquesta configuraci√≥ pot ser √∫til per a bases de dades que requereixen un alt rendiment d‚ÄôE/S. Per√≤, tamb√© augmenta la complexitat i pot induir a overheads addicionals dels Volums L√≤gics.\n\n\nA m√©s, LVM admet instant√†nies, que poden ser √∫tils per a les c√≤pies de seguretat i la recuperaci√≥ de les dades. Ara b√©, si les instant√†nies es guarden en el mateix disc f√≠sic que la base de dades, i aquest disc falla, es perdran tant la base de dades com les instant√†nies.\n\n\nTamb√© permet afegir o eliminar discos f√≠sics sense temps d‚Äôinactivitat, cosa que millora la disponibilitat del servidor de base de dades. ‚û°Ô∏è Ens permet la seva ampliaci√≥ en un futur sense haver de parar el servei."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-04-errors-i-fallades-i",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-04-errors-i-fallades-i",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 04: Errors i Fallades (I)",
    "text": "Cas Pr√†ctic 04: Errors i Fallades (I)\nImagineu-vos que esteu treballant amb un grup de volums (VG1) que cont√© diversos discos f√≠sics, entre ells el PV1. A m√©s, teniu un altre grup de volums (VG2) en un disc f√≠sic diferent (PV2) on guardeu les vostres instant√†nies. Qu√® passaria amb les metadades de LVM i les instant√†nies si el disc f√≠sic PV1 falla?\n\nSi les metadades de LVM no estan en el disc fallat PV1, llavors els volums l√≤gics que no estaven en el disc fallat segueixen estant disponibles. ‚û°Ô∏è En aquest cas, les metadades de LVM no es perden i es pot recuperar la informaci√≥ dels volums l√≤gics del VG1.\n\n\nNo obstant aix√≤, si el disc fallat PV1 contenia dades d‚Äôun volum l√≤gic, aquestes dades es perdran a menys que tinguem una instant√†nia. A m√©s, si el disc fallat contenia una part d‚Äôun volum l√≤gic que s‚Äôestenia per diversos discos (com en el cas d‚Äôun volum l√≤gic distribu√Øt o striped), tot el volum l√≤gic pot quedar inutilitzable. ‚û°Ô∏è En aquest cas, les metadades de LVM es perden i no es pot recuperar la informaci√≥ dels volums l√≤gics del VG1.\n\n\nVG2 cont√© les instant√†nies, per tant, si el disc f√≠sic PV1 falla, les instant√†nies no es perdran. ‚û°Ô∏è Aix√≤ permet restaurar les dades del volum l√≤gic original del VG1 a partir de les instant√†nies del VG2."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-i",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-i",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (I)",
    "text": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (I)\nUna empresa est√† experimentant un r√†pid creixement i necessita implementar un nou servidor per donar suport a una nova aplicaci√≥ cr√≠tica per al negoci. El departament d‚ÄôIT t√© pressupost limitat i nom√©s t√© disponible un emmagatzematge de 2TB per a aquest nou servidor. L‚Äôaplicaci√≥ requereix un m√≠nim de 1TB d‚Äôemmagatzematge per funcionar correctament, per√≤ es preveu que el seu √∫s creixer√† r√†pidament en els propers mesos.\n\nCom a administrador us plantejeu la possibilitat d‚Äôutilitzar el thin provisioning de LVM per donar suport a l‚Äôaplicaci√≥ en creixement. Aquesta t√®cnica permet sobreprovisionar l‚Äôespai d‚Äôemmagatzematge, √©s a dir, assignar m√©s espai del que realment teniu. Aix√≤ √©s possible perqu√® el thin provisioning de LVM nom√©s assigna l‚Äôespai d‚Äôemmagatzematge real a mesura que l‚Äôaplicaci√≥ l‚Äôutilitza.‚û°Ô∏è Si assigneu 4TB d‚Äôemmagatzematge a l‚Äôaplicaci√≥ en un VG format pel disc de 2TB, inicialment nom√©s s‚Äôutilitzar√† l‚Äôespai que l‚Äôaplicaci√≥ necessita realment. Aix√≠, podreu planificar una ampliaci√≥ del disc dur a 4TB en el futur sense haver de parar el servei."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-ii",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-ii",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (II)",
    "text": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (II)\nNo obstant aix√≤, que pot passar si les vostres previsions no s√≥n correctes i el creixement es mes r√°pid de l‚Äôesperat. ‚û°Ô∏è L‚Äôaplicaci√≥ intenta escriure m√©s de 2TB de dades al disc.\n\nEl thin provisioning de LVM no evitar√† que l‚Äôaplicaci√≥ s‚Äôaturi o es produeixin errors d‚ÄôE/S quan l‚Äôaplicaci√≥ excedeixi la capacitat real. ‚û°Ô∏è Quan l‚Äôaplicaci√≥ intenti escriure m√©s de 2TB de dades al disc, es produir√† un error d‚ÄôE/S, ja que no hi haur√† prou espai d‚Äôemmagatzematge disponible per emmagatzemar les dades.\n\n\nEn aquest cas, es necessitar√† afegir m√©s espai d‚Äôemmagatzematge al grup de volums i ampliar el volum l√≤gic thin provisioned per donar suport a l‚Äôaplicaci√≥ en creixement."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-iii",
    "href": "slides/03-filesystem-part3.html#cas-pr√†ctic-05-escalabilitat-dapps-iii",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (III)",
    "text": "Cas Pr√†ctic 05: Escalabilitat d‚ÄôApps (III)\nEn la situaci√≥ anterior, heu decidit utilitzar el thin provisioning de LVM per donar suport a l‚Äôaplicaci√≥ en creixement. Per√≤, com a administrador de sistemes, us preocupa que l‚Äôaplicaci√≥ pugui aturar-se o produir errors d‚ÄôE/S si l‚Äôespai d‚Äôemmagatzematge s‚Äôomple r√†pidament. Qu√® far√≠eu per reduir el risc d‚Äôaturades i errors d‚ÄôE/S en aquest escenari?\n\nUna opci√≥ seria implementar un sistema de monitoreig i alertes que supervisi l‚Äô√∫s de l‚Äôespai d‚Äôemmagatzematge del grup de volums. Quan l‚Äô√∫s d‚Äôemmagatzematge superi un determinat llindar, el sistema generaria una alerta per afegir m√©s espai d‚Äôemmagatzematge al grup de volums i ampliar el volum l√≤gic thin provisioned per donar suport a l‚Äôaplicaci√≥ en creixement."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratoris",
    "href": "slides/03-filesystem-part3.html#laboratoris",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratoris",
    "text": "Laboratoris\n\nLaboratori 01: Instal¬∑laci√≥ de LVM a AlmaLinux\nLaboratori 02: Gesti√≥ de LVM a AlmaLinux"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-installaci√≥-de-lvm-a-almalinux",
    "href": "slides/03-filesystem-part3.html#laboratori-01-installaci√≥-de-lvm-a-almalinux",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Instal¬∑laci√≥ de LVM a AlmaLinux",
    "text": "Laboratori 01: Instal¬∑laci√≥ de LVM a AlmaLinux\nRequeriments\n\nM√†quina virtual amb 1 disc dur de 20 GB, 1 GB de RAM i 1 CPU.\nImatge ISO d‚ÄôAlmaLinux.\n\n\nTasques\n\nInstal¬∑lar AlmaLinux i configurar LVM durant la instal¬∑laci√≥.\nCrearem un PV a partir del disc dur principal de 20GB.\nCrearem un VG anomenta almalinux.\n/ ser√† un LV amb un sistema de fitxers xfs de 16,4 GB (almalinx-root).\n/boot i boot/efi seran particions tradicionals de 600MiB i 1024MiB respectivament.\nswap ser√† un LV de 2GB (almalinux-swap)."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-selecci√≥-de-dispositius",
    "href": "slides/03-filesystem-part3.html#laboratori-01-selecci√≥-de-dispositius",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Selecci√≥ de dispositius",
    "text": "Laboratori 01: Selecci√≥ de dispositius"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-configuraci√≥-lvm",
    "href": "slides/03-filesystem-part3.html#laboratori-01-configuraci√≥-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Configuraci√≥ LVM",
    "text": "Laboratori 01: Configuraci√≥ LVM"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-configuraci√≥-de-les-particions",
    "href": "slides/03-filesystem-part3.html#laboratori-01-configuraci√≥-de-les-particions",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Configuraci√≥ de les particions",
    "text": "Laboratori 01: Configuraci√≥ de les particions"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-configuraci√≥-manual-lvm",
    "href": "slides/03-filesystem-part3.html#laboratori-02-configuraci√≥-manual-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Configuraci√≥ manual LVM",
    "text": "Laboratori 02: Configuraci√≥ manual LVM\nRequeriments\n\nAfegir un disc dur secundari de 10 GB a la m√†quina virtual.\n\n\nTasques\n\nCrear un PV a partir del disc dur secundari.\nCrear un VG anomenat datavg a partir del PV.\nCrear un LV anomenat home amb un sistema de fitxers ext4 de 5GB.\nMuntarem el LV home a /home.\nRedimensionarem el LV en calent."
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-creaci√≥-de-pvs-vgs-i-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-creaci√≥-de-pvs-vgs-i-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Creaci√≥ de PVs, VGs i LVs",
    "text": "Laboratori 02: Creaci√≥ de PVs, VGs i LVs\n\nCreaci√≥ d‚Äôun PV amb el dispositiu /dev/vdb:\n\n\npvcreate /dev/vdb\n\n\nCreaci√≥ d‚Äôun VG anomenat datavg amb el PV /dev/vdb:\n\n\nvgcreate datavg /dev/vdb\n\n\nCreaci√≥ d‚Äôun LV de 5GB anomenat home en el VG datavg:\n\n\nlvcreate -L 5GB M -n home datavg"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-creaci√≥-de-sistema-de-fitxers-i-muntatge",
    "href": "slides/03-filesystem-part3.html#laboratori-02-creaci√≥-de-sistema-de-fitxers-i-muntatge",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Creaci√≥ de sistema de fitxers i muntatge",
    "text": "Laboratori 02: Creaci√≥ de sistema de fitxers i muntatge\n\nCreaci√≥ d‚Äôun sistema de fitxers ext4 en el LV home:\n\n\nmkfs.ext4 /dev/datavg/home\n\n\nMuntatge del LV home en el directori /home:\n\n\nmount /dev/datavg/home /home"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-ampliaci√≥-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-ampliaci√≥-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Ampliaci√≥ LVs",
    "text": "Laboratori 02: Ampliaci√≥ LVs\n\nAmpliaci√≥ del LV home a 7GB:\n\n\nlvextend -L 7GB /dev/datavg/home\n\n\nRedimensionar el sistema de fitxers ext4:\n\n\nresize2fs /dev/datavg/home"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-reducci√≥n-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-reducci√≥n-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Reducci√≥n LVs",
    "text": "Laboratori 02: Reducci√≥n LVs\n\nReducci√≥ del sistema de fitxers ext4:\n\n\nresize2fs /dev/datavg/home 6G\n\n\nReducci√≥ del LV home a 6GB:\n\n\nlvreduce -L 6GB /dev/datavg/home"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exercicis",
    "href": "slides/03-filesystem-part3.html#exercicis",
    "title": "Sistema de fitxers (III)",
    "section": "Exercicis",
    "text": "Exercicis\n\nDeplegament d‚Äôun servidor web amb LVM"
  },
  {
    "objectID": "slides/03-filesystem-part3.html#thats-all",
    "href": "slides/03-filesystem-part3.html#thats-all",
    "title": "Sistema de fitxers (III)",
    "section": "That‚Äôs all",
    "text": "That‚Äôs all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\n\nLVM √©s una eina potent que simplifica la gesti√≥ de l‚Äôespai d‚Äôemmagatzematge en sistemes Linux.\nOfereix als administradors de sistemes la flexibilitat de crear, modificar i eliminar particions de manera din√†mica sense necessitat d‚Äôaturar el sistema."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html",
    "title": "Emulaci√≥ en mode d‚Äôusuari amb QEMU",
    "section": "",
    "text": "Aquest exercici t‚Äôintroduir√† a l‚Äôemulaci√≥ en mode d‚Äôusuari de QEMU, una eina que et permet executar un programa compilat per a una arquitectura de CPU diferent de la teva m√†quina. Concretament, executar√†s un programa de 32 bits compilat per a ARM en un sistema x86 (processadors Intel o AMD) o ARM de 64 bits (processadors Apple M). Per simplificar l‚Äôexercici, utiltizarem un Hello, World! com a programa d‚Äôexemple."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#requeriments-previs",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#requeriments-previs",
    "title": "Emulaci√≥ en mode d‚Äôusuari amb QEMU",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nDisposar d‚Äôuna m√†quina virtual amb Debian configurada segons les instruccions de l‚Äôexercici de configuraci√≥ d‚Äôentorn de virtualitzaci√≥.\nDisposar de les eines b√†siques de desenvolupament instal¬∑lades a la m√†quina virtual (compilador gcc, make, etc.). Pots instal¬∑lar-les com a root amb la comanda seg√ºent: apt install build-essential."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#objectius",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#objectius",
    "title": "Emulaci√≥ en mode d‚Äôusuari amb QEMU",
    "section": "Objectius",
    "text": "Objectius\n\nIntroduir-se en l‚Äô√∫s de QEMU en mode d‚Äôusuari per a l‚Äôemulaci√≥ d‚Äôaplicacions.\nComprendre la difer√®ncia entre compilaci√≥ nativa i compilaci√≥ creuada.\nCompilar i executar un programa senzill per a una arquitectura diferent de la teva m√†quina."
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#tasques",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#tasques",
    "title": "Emulaci√≥ en mode d‚Äôusuari amb QEMU",
    "section": "Tasques",
    "text": "Tasques\n\nEscriure i compilar un programa Hello World per a ARM\n\nCrea un fitxer anomenat hello.c amb el seg√ºent contingut:\n\n#include &lt;stdio.h&gt;\n\nint main() {\n    printf(\"Hello, World!\\n\");\n    return 0;\n}\nPer compilar-lo per a l‚Äôarquitectura ARM, necessites un compilador creuat. En aquest laboratori, utilitzarem el GNU ARM toolchain per a Linux. Instal¬∑la‚Äôl amb la seg√ºent comanda:\n# Com a root\napt install gcc-arm-linux-gnueabi\nAra, compila el programa per a ARM amb aquesta comanda:\n# Com a usuari normal\narm-linux-gnueabi-gcc -o helloarm -static hello.c\nAix√≤ generar√† un executable anomenat helloarm. La bandera -static crea un binari est√†ticament enlla√ßat, la qual cosa significa que totes les biblioteques necess√†ries s‚Äôinclouen dins del propi fitxer.\nSi intentes executar helloarm directament, rebr√†s un error:\n./helloarm\n-bash: ./helloarm: no es pot executar el fitxer binari: Error de format d'execuci√≥\nAquest error es produeix perqu√® el teu sistema operatiu no reconeix l‚Äôarquitectura del fitxer. Pots verificar-ho amb la comanda file:\nfile helloarm\nhelloarm: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), statically linked, not stripped\n\n\nCompilaci√≥ per a l‚Äôarquitectura de la teva MV\nPer entendre la difer√®ncia, ara compila el mateix codi per a l‚Äôarquitectura de la teva m√†quina amb gcc:\ngcc -o hellohost hello.c\nSi l‚Äôexecutes, funcionar√† sense problemes:\n./hellohost\nHello, World!\nPer comprovar-ne l‚Äôarquitectura, utilitza de nou la comanda file:\nfile hellohost\n# Exemple per a x86\nhellohost: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked...\n# Exemple per a Apple M Series (ARM 64-bit)\nhellohost: ELF 64-bit LSB shared object, ARM aarch64, version 1 (SYSV), dynamically linked...\n\n\nExecuci√≥ del programa amb QEMU\nFinalment, per executar el binari ARM a la teva m√†quina, necessites el component de QEMU per a emulaci√≥ en mode d‚Äôusuari. Instal¬∑la‚Äôl amb aquesta comanda:\n# Com a root\napt install qemu-user\nUn cop instal¬∑lat, pots executar el programa helloarm amb l‚Äôemulador qemu-arm:\nqemu-arm helloarm\nHello, World!\n\n\nPreguntes finals\n\nInvestiga quines altres arquitectures s√≥n compatibles amb QEMU en mode d‚Äôusuari. Prova de compilar i executar un programa per a una d‚Äôaquestes arquitectures.\nPer qu√® la compilaci√≥ est√†tica √©s important en aquest context? Per qu√® no cal incloure la bandera -static en la compilaci√≥ normal? Quines avantatges i inconvenients t√© cada enfocament?"
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html",
    "href": "exercises/03-fs/08-ex-week5.html",
    "title": "Administraci√≥ b√†sica de Sistemes de Fitxers",
    "section": "",
    "text": "Crear particions i sistemes de fitxers (ext4, xfs).\nMigrar directoris reals a particions separades amb coher√®ncia i sense p√®rdua de dades.\nConfigurar el muntatge autom√†tic amb UUID i opcions de seguretat (nodev, nosuid, noexec).\nDiagnosticar i recuperar problemes reals: saturaci√≥ d‚Äôespai i corrupci√≥ de sistema de fitxers.\nEines: fdisk, mkfs.*, tune2fs, mount, rsync, xfs_repair, hexedit."
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#objectius",
    "href": "exercises/03-fs/08-ex-week5.html#objectius",
    "title": "Administraci√≥ b√†sica de Sistemes de Fitxers",
    "section": "",
    "text": "Crear particions i sistemes de fitxers (ext4, xfs).\nMigrar directoris reals a particions separades amb coher√®ncia i sense p√®rdua de dades.\nConfigurar el muntatge autom√†tic amb UUID i opcions de seguretat (nodev, nosuid, noexec).\nDiagnosticar i recuperar problemes reals: saturaci√≥ d‚Äôespai i corrupci√≥ de sistema de fitxers.\nEines: fdisk, mkfs.*, tune2fs, mount, rsync, xfs_repair, hexedit."
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#requeriments-previs",
    "href": "exercises/03-fs/08-ex-week5.html#requeriments-previs",
    "title": "Administraci√≥ b√†sica de Sistemes de Fitxers",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nTenir una m√†quina virtual (MV) amb Debian instal¬∑lat.\nCrear un disc dur virtual addicional de 10GB del tipus SATA o NVMe.\nInstal¬∑lar els paquets xfsprogs, rsync, hexedit i build-essential:\napt update -y && apt install xfsprogs rsync hexedit build-essential -y\nTotes les comandes s‚Äôhan d‚Äôexecutar amb permisos de superusuari (root). Per tant, su -.\nCompte amb el nom del disc dur addicional, en aquest cas /dev/nvme0n2, per√≤ pot variar en funci√≥ de la configuraci√≥ de la m√†quina virtual, utilitza la comanda lsblk per a identificar el disc dur addicional. Utilitza el nom correcte actualitzant-lo en les comandes que apareixen en aquest exercici."
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#particions-i-sistemes-de-fitxers",
    "href": "exercises/03-fs/08-ex-week5.html#particions-i-sistemes-de-fitxers",
    "title": "Administraci√≥ b√†sica de Sistemes de Fitxers",
    "section": "Particions i Sistemes de Fitxers",
    "text": "Particions i Sistemes de Fitxers\n\nCrear Particions i Sistemes de Fitxers\nAssegurarem que el disc dur addicional est√† detectat pel sistema. En aquest cas, el disc dur √©s /dev/nvme0n2, per√≤ pot variar en funci√≥ de la configuraci√≥ de la m√†quina virtual, utilitza la comanda lsblk per a identificar el disc dur addicional.\nUtilitzarem la comanda fdisk per a crear tres noves particions en el disc dur.\n\nLa primera partici√≥ ser√† per a /var amb el sistema de fitxers ext4, etiqueta var mida 4GB.\nLa segona partici√≥ ser√† per a /tmp amb el sistema de fitxers xfs, sense etiqueta i mida 2GB.\nLa tercera partici√≥ ser√† per a /opt amb el sistema de fitxers ext4, etiqueta opt mida 3GB.\nLa quarta partici√≥ ser√† /home amb el sistema de fitxers ext4, etiqueta home i la resta d‚Äôespai disponible (1GB).\n\nCrearem les noves particions en el disc dur. Podeu utilzar una pipeline per a automatitzar la creaci√≥ de les particions.\necho -e \"n\\np\\n\\n\\n+4G\\nn\\np\\n\\n\\n+2G\\nn\\np\\n\\n\\n+3G\\nn\\np\\n\\n\\n+1G\\nw\" | fdisk /dev/nvme0n2\nEl seg√ºent pas √©s crear els sistemes de fitxers en les particions que acabem de crear i assignar les etiquetes corresponents.\nmkfs.ext4 /dev/nvme0n2p1\ntune2fs -L \"var\" /dev/nvme0n2p1\nmkfs.xfs /dev/nvme0n2p2\nmkfs.ext4 /dev/nvme0n2p3\ntune2fs -L \"opt\" /dev/nvme0n2p3\nmkfs.xfs /dev/nvme0n2p4\ntune2fs -L \"home\" /dev/nvme0n2p4\nMonteu les particions en directoris temporals per a migrar les dades, per a aix√≤, creeu els directoris /mnt/var, /mnt/tmp , /mnt/opt i /mnt/home.\nmkdir /mnt/var /mnt/tmp /mnt/opt /mnt/home\nmount /dev/nvme0n2p1 /mnt/var\nmount /dev/nvme0n2p3 /mnt/opt\nmount /dev/nvme0n2p4 /mnt/home\n\n\n\n\n\n\nNota/tmp\n\n\n\nLa partici√≥ /tmp √©s temporal i no cont√© dades importants, per tant, no la muntarem en aquest pas, ja que no necessitem migrar cap dada. Les seves dades es perdran en el reinici del sistema.\n\n\n\n\nMigrar Directoris a les Noves Particions\nAbans de migrar les dades, √©s important assegurar-se que no hi ha processos que estiguin utilitzant els directoris que volem migrar. Per a aix√≤, podem utilitzar la comanda lsof per a llistar els fitxers oberts en aquests directoris.\nlsof +D /var\nlsof +D /opt\nlsof +D /home\n\n\n\n\n\n\nNotaFitxers oberts\n\n\n\nSi hi ha processos que estan utilitzant els directoris que volem migrar, √©s recomanable aturar aquests processos abans de continuar amb la migraci√≥. Aix√≤ √©s especialment important per al directori /var, ja que cont√© fitxers de registre i altres dades que poden ser utilitzades per diversos serveis del sistema.\n\n\nHi ha moltes comandes per a migrar dades entre directoris, per√≤ en aquest cas utilitzarem la comanda rsync ja que ens permet mostrar el progr√©s de la c√≤pia i tamb√© ens permet reprendre la c√≤pia en cas que es talli la connexi√≥ o hi hagi un error. A m√©s, tamb√© ens permet excloure directoris o fitxers que no volem migrar i ens permet fer c√≤pies incrementals.\nrsync -av /var/ /mnt/var\nrsync -av /opt/ /mnt/opt\nrsync -av /home/ /mnt/home\n\n\n\n\n\n\nNotarsync\n\n\n\nrsync √©s una eina molt potent per a la sincronitzaci√≥ de fitxers i directoris. En aquest cas, utilitzem les opcions -a (mode arxiu) i -v (verbose) per a conservar els permisos, propietaris, marques de temps i per a mostrar el progr√©s de la c√≤pia. La barra inclinada (/) al final dels directoris d‚Äôorigen √©s important perqu√® indica a rsync que nom√©s volem copiar el contingut del directori i no el directori en si mateix. Si no posem la barra inclinada, rsync crear√† un subdirectori amb el mateix nom que el directori d‚Äôorigen dins del directori de destinaci√≥. Per a m√©s informaci√≥ sobre rsync, podeu consultar la documentaci√≥ (man rsync).\n\n\nUn cop copiem les dades, √©s important verificar que les dades s‚Äôhan copiat correctament. Per a aix√≤, podem utilitzar la comanda diff per a comparar els directoris d‚Äôorigen i destinaci√≥.\ndiff -r /var /mnt/var\ndiff -r /opt /mnt/opt\ndiff -r /home /mnt/home\nSi la comanda diff no mostra cap sortida, significa que els directoris s√≥n id√®ntics i que les dades s‚Äôhan copiat correctament. Si hi ha difer√®ncies, la comanda diff mostrar√† les l√≠nies que s√≥n diferents entre els dos directoris.\nMuntarem les noves particions en els directoris corresponents.\nmount /dev/nvme0n2p1 /var\nmount /dev/nvme0n2p3 /opt\nmount /dev/nvme0n2p4 /home\nUtiltiza la comanda df per a comprovar que les particions s‚Äôhan muntat correctament o lsblk per a veure totes les particions i els seus punts de muntatge.\n\n\nConfigurar el Muntatge Autom√†tic\nSi ara reinicieu el sistema reboot, les particions no estaran muntades autom√†ticament. Per a que les particions es muntin autom√†ticament en l‚Äôarrencada del sistema, hem d‚Äôeditar el fitxer /etc/fstab i afegir les noves particions amb els seus punts de muntatge corresponents.\necho \"/dev/nvme0n2p1 /var ext4 defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p2 /tmp xfs defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p3 /opt ext4 defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p4 /home xfs defaults 0 0\" &gt;&gt; /etc/fstab\n\n\n\n\n\n\nNota/etc/fstab\n\n\n\nEl fitxer /etc/fstab cont√© la informaci√≥ de les particions que es muntaran autom√†ticament en l‚Äôarrencada del sistema. Cada l√≠nia del fitxer cont√© la informaci√≥ d‚Äôuna partici√≥. Els camps de cada l√≠nia s√≥n: dispositiu, punt de muntatge, sistema de fitxers, opcions, freq√º√®ncia de comprovaci√≥ i ordre de comprovaci√≥. Podeu consultar la documentaci√≥ del fitxer per a m√©s informaci√≥ (man fstab).\n\n\nPots provar la configuraci√≥ del fitxer /etc/fstab sense reiniciar el sistema amb la comanda mount -a. Aquesta comanda muntar√† totes les particions que estan definides en el fitxer /etc/fstab. Tamb√© podem fer un reboot per a comprovar que les particions es muntin autom√†ticament en l‚Äôarrencada del sistema, sempre hi quan la comanda mount -a no hagi donat cap error.\nEn aquest punt podriam optimitzar la configuraci√≥ particions per a millorar el rendiment del sistema.\n\nUtiltizarem els UUIDs en lloc dels dispositius per a muntar les particions. Aix√≤ ens permetr√† identificar les particions de forma un√≠voca i evitar problemes en cas que els dispositius canvi√Øn d‚Äôidentificador. Per fer-ho podem utilitzar la comanda sed per actualitzar el fitxer /etc/fstab.\nsed -i \"s|/dev/nvme0n2p1|UUID=$(blkid -s UUID -o value /dev/nvme0n2p1)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p2|UUID=$(blkid -s UUID -o value /dev/nvme0n2p2)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p3|UUID=$(blkid -s UUID -o value /dev/nvme0n2p3)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p4|UUID=$(blkid -s UUID -o value /dev/nvme0n2p4)|\" /etc/fstab\n\nüîç Pregunta: En quins casos poden canviar els dispositius o tenir duplicats?\nEls dispositius poden canviar d‚Äôidentificador en cas que es connectin m√©s dispositius al sistema o es canvii l‚Äôordre de connexi√≥ dels dispositius. Aix√≤ pot provocar que les particions es muntin en llocs diferents dels esperats. Per a evitar aquest problema, √©s recomanable utilitzar els UUIDs en lloc dels dispositius per a muntar les particions.\n\nUtilitzarem opcions m√©s espec√≠fiques per protegir la partici√≥ /tmp per a evitar que s‚Äôexecutin programes des de la partici√≥. Utilitzant les opcions nodev, nosuid, i noexec:\n\nEdita el fitxer /etc/fstab i afegeix les opcions nodev, nosuid, i noexec a la partici√≥ /tmp.\n\n\n\n\n\n\n\n\nNotaOpcions de Muntatge\n\n\n\nLa opci√≥ defaults √©s una col¬∑lecci√≥ d‚Äôopcions que s‚Äôutilitzen per defecte en la majoria de sistemes de fitxers. Aquestes opcions inclouen rw (lectura i escriptura), suid (permet l‚Äô√∫s de l‚Äôatribut suid), √©s a dir, evita que es puguin exectuar programaes amb permisos de superusuari, dev (permet l‚Äô√∫s de dispositius), exec (permet l‚Äôexecuci√≥ de fitxers binaris), auto (muntatge autom√†tic en l‚Äôarrencada del sistema), nouser (nom√©s l‚Äôusuari root pot muntar la partici√≥) i async (permet l‚Äôescriptura as√≠ncrona).\n\n\n\nComprova les opcions despr√©s d‚Äôeditar el fitxer /etc/fstab.\n\nmount | grep /tmp\n\nPer aplicar les opcions de muntatge a la partici√≥ /tmp, farem un reboot del sistema.\nTestem les opcions de muntatge de la partici√≥ /tmp:\n\nProva d‚Äôexecutar un programa des de la partici√≥ /tmp com a usuari no privilegiat.\n\necho \"echo 'Hello, World'\" &gt; /tmp/hello.sh\nchmod +x /tmp/hello.sh\n/tmp/hello.sh\nbash /tmp/hello.sh\n\nProva de fer el mateix com a usuari privilegiat.\n\nsu -\n/tmp/hello.sh\nbash /tmp/hello.sh\n\nüëÅÔ∏è Observaci√≥:\nObserveu que la opci√≥ noexec impedeix la execuci√≥ dels binaris per√≤ no ens protegeix contra l‚Äôexecuci√≥ de scripts de bash.\n\n\nProva d‚Äôaccedir a un dispositiu creat a /tmp:\n\nInicialitza un dispositiu a /tmp utilitzant la comanda mknod.\n\nmknod /tmp/dispositiu c 1 3\n\n‚ö†Ô∏è Compte:\nLa comanda mknod √∫nica i exclusivament la poden fer els usuaris amb permisos de superusuari. Per tant, feu servir la comanda su per a canviar a l‚Äôusuari root abans de fer servir la comanda mknod.\n\n\nPer accedir al dispositiu, utilitza la comanda cat.\n\ncat /tmp/dispositiu\n\nüëÅÔ∏è Observaci√≥:\nFixeu-vos que quan intento accedir a un dispositiu al directori actual, no hi ha cap problema. Per√≤ quan intento accedir al dispositiu creat a /tmp, rebre un missatge d‚Äôerror indicant que no es pot accedir al dispositiu. Aix√≤ √©s degut a la opci√≥ nodev que impedeix l‚Äôacc√©s a dispositius en la partici√≥.\n\n\n\nPer veure, les implicacions de la opci√≥ nosuid, podem realitzar el seg√ºent experiment:\nPer fer-ho, crearem un executable amb c que ens indicar√† l‚Äôidentificador de l‚Äôusuari real i l‚Äôidentificador de l‚Äôusuari efectiu. On l‚Äôusuari real √©s l‚Äôusuari que ha iniciat la sessi√≥ i l‚Äôusuari efectiu √©s l‚Äôusuari que executa el programa. Si un programa t√© el bit suid activat, l‚Äôusuari efectiu ser√† l‚Äôusuari propietari del programa i no l‚Äôusuari que l‚Äôha executat.\n#include &lt;stdio.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n\nint main() {\n    printf(\"Effective user ID: %d\\n\", geteuid());\n    printf(\"Real user ID: %d\\n\", getuid());\n    return 0;\n}\nCompilem el programa amb la comanda gcc.\ngcc -o /tmp/suid /tmp/suid.c\nDesactiva la opci√≥ nosuid i tamb√© la opci√≥ noexec per a la partici√≥ /tmp. Per fer-ho, utilitza l‚Äôusuari root per a editar el fitxer /etc/fstab.\nRemunta la partici√≥ /tmp.\nProva d‚Äôexecutar el programa com a usuari no privilegiat.\n/tmp/suid\nActiva la opci√≥ nosuid i torna a provar d‚Äôexecutar el programa.\n/tmp/suid\n\n\nüëÅÔ∏è Observaci√≥:\nFixeu-vos que quan la opci√≥ nosuid est√† activada, no es pot executar el programa amb permisos de superusuari. Aix√≤ √©s important per a evitar que els usuaris no privilegiats puguin executar programes amb permisos de superusuari. Aquesta opci√≥ pot permetre escalar privilegis i comprometre la seguretat del sistema.\n\n\n\nüîç Pregunta: Per qu√® √©s important tenir els directoris /var, /tmp i /opt en particions diferents?\nLa ra√≥ principal per a tenir els directoris /var, /tmp i /opt en particions diferents √©s per a millorar el rendiment i la seguretat del sistema. El directori /var cont√© dades variables com ara logs, bases de dades, correu electr√≤nic, etc. Si aquest directori es queda sense espai, el sistema podria fallar. El mateix raonament s‚Äôaplica al directori /tmp i /opt. Per aix√≤, √©s important tenir-los en particions separades per a evitar que el sistema falli. A m√©s, tenir els directoris /var, /tmp i /opt en particions separades tamb√© millora la seguretat del sistema ja que si una partici√≥ falla, les altres particions seguiran funcionant.\n\nAnem a fer una simulaci√≥ de com respon el sistema en cas de no tenir els directoris /var, /tmp i /opt en particions separades. Per a aix√≤, simularem que el directori /opt es va omplint fins a ocupar tot l‚Äôespai disponible en la partici√≥ principal del sistema.\n\nDesmuntem la partici√≥ /opt per a poder continuar amb l‚Äôexercici.\numount /opt\nCreeu un fitxer de 20GB al directori /opt:\ndd if=/dev/urandom of=/opt/fitxer bs=1M count=20480\nComprova l‚Äôestat del sistema.\ndf -h\n\n\n\nComprova l‚Äôestat del sistema\n\n\nIntenta instal¬∑lar un paquet amb apt i comprova que el sistema falla.\napt install htop\n\n\n\nIntenta instal¬∑lar un paquet amb apt i comprova que el sistema falla\n\n\nCom podeu veure, el sistema fallar√† ja que no t√© espai suficient per a instal¬∑lar el paquet. Aix√≤ √©s un problema greu ja que el sistema no podr√† funcionar correctament fins que no alliberem espai en la partici√≥ principal.\nElimina el fitxer que has creat per a poder continuar amb la resta de l‚Äôexercici.\nrm /opt/fitxer\nMunteu la partici√≥ /opt i torneu a crear el fitxer per a omplir el directori.\nmount /dev/nvme0n2p3 /opt\ndd if=/dev/urandom of=/opt/fitxer bs=1M count=20480\nAra √∫nicament teniu la partici√≥ /opt plena; per√≤ el sistema pot continuar fent tasques:\napt install htop"
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#simulant-una-corrupci√≥-a-home",
    "href": "exercises/03-fs/08-ex-week5.html#simulant-una-corrupci√≥-a-home",
    "title": "Administraci√≥ b√†sica de Sistemes de Fitxers",
    "section": "Simulant una corrupci√≥ a /home",
    "text": "Simulant una corrupci√≥ a /home\nEn aquest escenari simularem que hem patit una corrupci√≥ a la partici√≥ /home i quines eines podem utiltzar per intentar recuperar les dades. B√†sicament editarem alguns bits de la partici√≥ /home amb un editor hexadecimal per a simular la corrupci√≥ i despr√©s utilitzarem l‚Äôeina xfs_repair per a intentar recuperar les dades.\nEl primer pas que farem ser√† migrar el directori /home a una partici√≥ diferent per a poder simular la corrupci√≥. A continuaci√≥, simularem la corrupci√≥ i finalment recuperarem les dades.\nAra podem crear fitxers i directoris al directori /home del vostre usuari normal, en el meu cas jordi.\nmkdir codi\nmkdir dades\ntouch dades/pokemon.csv\ntouch codi/main.c\ntouch codi/Makefile\ntouch codi/README.md\ntouch .vim\nPer a simular una corrupci√≥ editarem alguns valors de la partici√≥ /home amb un editor hexadecimal.\n\nDesmuntem la partici√≥ /home.\numount /home\n\nCompte!: Si esteu connectats per SSH, no podreu desmuntar la partici√≥ /home ja que el vostre usuari est√† utilitzant aquesta partici√≥. En la primera sessi√≥. Per tant, haure de fer-ho a la consola de la m√†quina virtual.\n\nObrirem la partici√≥ /home amb un editor hexadecimal:\n\nhexedit /dev/nvme0n2p4 \n\nModifiqueu bits a l‚Äôatzar i deseu els canvis. Per fer-ho escriviu damunt dels valors hexadecimals altres valors. Un cop fet guardeu amb Ctrl + X i Y.\nAra intentarem muntar la partici√≥ /home per a comprovar que ha estat corrompuda.\n\nmount /home\nSi la partici√≥ /home s‚Äôha corromput, haur√≠eu de veure un missatge d‚Äôerror com aquest:\n\nEls diferents sistemes de fitxers tenen eines per a comprovar la integritat dels fitxers. Per exemple, el sistema de fitxers xfs t√© l‚Äôeina xfs_ncheck que permet comprovar la integritat dels fitxers.\nxfs_ncheck /dev/nvme0n2p4\nPer a reparar la partici√≥ /home utilitzarem l‚Äôeina xfs_repair.\nxfs_repair /dev/nvme0n2p4\nUn cop reparada la partici√≥ /home, la muntarem de nou.\nmount /home\nComprovarem que la partici√≥ /home s‚Äôha muntat correctament i cont√© els fitxers que hav√≠em creat.\nls /home"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html",
    "href": "exercises/03-fs/10-ex-week7.html",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "",
    "text": "En aquest laboratori aprendrem a utilitzar LVM (Logical Volume Manager) per administrar l‚Äôemmagatzematge d‚Äôun servidor web. Simularem un entorn real on diferents tipus de dades (codi font, dades de la web, i fitxers temporals) es gestionen mitjan√ßant volums l√≤gics, millorant la flexibilitat i escalabilitat del sistema."
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#objectius",
    "href": "exercises/03-fs/10-ex-week7.html#objectius",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üéØ Objectius",
    "text": "üéØ Objectius\n\nEntendre el funcionament i components de LVM: PV, VG i LV.\n\nCrear, formatar i muntar volums l√≤gics per a un servei web.\n\nAmpliar o reduir la mida dels volums.\n\nCrear i utilitzar snapshots per fer c√≤pies de seguretat en calent."
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#escenari",
    "href": "exercises/03-fs/10-ex-week7.html#escenari",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üß± Escenari",
    "text": "üß± Escenari\nGestionarem una aplicaci√≥ web desplegada en un servidor AlmaLinux.\n\n\n\nDirectori\nFunci√≥\nExemple de contingut\n\n\n\n\n/opt/webapp/sources\nCodi font Django\nPython, HTML, JS\n\n\n/opt/webapp/data\nDades, imatges, logs\nCSV, JPG, LOG\n\n\n/opt/webapp/run\nFitxers temporals i sockets\nPID, sock"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#preparaci√≥-de-la-m√†quina-virtual",
    "href": "exercises/03-fs/10-ex-week7.html#preparaci√≥-de-la-m√†quina-virtual",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üß© Preparaci√≥ de la m√†quina virtual",
    "text": "üß© Preparaci√≥ de la m√†quina virtual\n\nCrea una nova MV amb AlmaLinux i un disc principal de 20 GB.\nDurant la instal¬∑laci√≥, selecciona LVM com a esquema de particionat.\nAfegeix dos discos addicionals de 20 GB cadascun (ex. nvme0n2 i nvme0n3).\nComprova l‚Äôestat inicial del sistema:\nlsblk\nHauries de veure una sortida semblant a:\nnvme0n1     20G  \n‚îú‚îÄnvme0n1p1 600M  /boot/efi\n‚îú‚îÄnvme0n1p2   1G  /boot\n‚îú‚îÄnvme0n1p3   2G  [SWAP]\n‚îî‚îÄnvme0n1p4 16.4G /\nnvme0n2     20G\nnvme0n3     20G"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-1.-creaci√≥-dels-volums-f√≠sics-i-grup-de-volums",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-1.-creaci√≥-dels-volums-f√≠sics-i-grup-de-volums",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üß† Activitat 1. Creaci√≥ dels volums f√≠sics i grup de volums",
    "text": "üß† Activitat 1. Creaci√≥ dels volums f√≠sics i grup de volums\n\nPas 1: Crear els volums f√≠sics\npvcreate /dev/nvme0n2 /dev/nvme0n3\n\n\n\n\n\n\nAlertaüí° Comprova l‚Äôestat dels PV\n\n\n\nQuin √©s l‚Äôestat del camp Allocatable abans de crear el grup de volums?\n\n\n\n\nPas 2: Crear el grup de volums vg_webapp\nvgcreate vg_webapp /dev/nvme0n2 /dev/nvme0n3\n\n\n\n\n\n\nAlertaüí° Comprova l‚Äôestat del VG\n\n\n\n\nQuina √©s la mida total del grup de volums vg_webapp?\nQuants extents t√© el VG i quina √©s la mida de cada extent?"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-2.-creaci√≥-i-muntatge-dels-volums-l√≤gics",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-2.-creaci√≥-i-muntatge-dels-volums-l√≤gics",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "‚öôÔ∏è Activitat 2. Creaci√≥ i muntatge dels volums l√≤gics",
    "text": "‚öôÔ∏è Activitat 2. Creaci√≥ i muntatge dels volums l√≤gics\n\nPas 1: Crear els LV\nlvcreate -L 1G -n lv_sources vg_webapp\nlvcreate -L 10G -n lv_data vg_webapp\nlvcreate -L 1G -n lv_run vg_webapp\n\n\nPas 2: Formatar els LV amb sistemes de fitxers\nmkfs.xfs /dev/vg_webapp/lv_sources\nmkfs.ext4 /dev/vg_webapp/lv_data\nmkfs.xfs /dev/vg_webapp/lv_run\n\n\n\n\n\n\nAlertaüí° Discussi√≥\n\n\n\nPer qu√® podria ser interessant utilitzar xfs per a /run i ext4 per a /data o al rev√©s?\n\n\n\n\nPas 3: Muntar els volums\nmkdir -p /opt/webapp/{sources,data,run}\nmount /dev/vg_webapp/lv_sources /opt/webapp/sources\nmount /dev/vg_webapp/lv_data /opt/webapp/data\nmount /dev/vg_webapp/lv_run /opt/webapp/run\n\n\n\n\n\n\nAlertaüí° Comprova els muntatges\n\n\n\n\nUtilitza df -h per verificar que els volums estan muntats correctament.\nAfegeix les entrades corresponents a /etc/fstab per muntar-los autom√†ticament en reiniciar."
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-3.-redimensionar-volums-l√≤gics",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-3.-redimensionar-volums-l√≤gics",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üìè Activitat 3. Redimensionar volums l√≤gics",
    "text": "üìè Activitat 3. Redimensionar volums l√≤gics\n\nEscenari 1: Augmentar lv_data de 10 GB a 20 GB\nQuan s‚Äôamplia un volum l√≤gic, s‚Äôafegeixen nous extents al final del volum. Si el sistema de fitxers √©s ext4, cal actualitzar-ne la taula d‚Äôespai amb resize2fs.\nlvextend -L +10G /dev/vg_webapp/lv_data\nresize2fs /dev/vg_webapp/lv_data\n\n\nEscenari 2: Reduir lv_run de 1 GB a 500 MB\nEl sistema de fitxers xfs no permet reduir volums.\numount /opt/webapp/run\nlvremove /dev/vg_webapp/lv_run\nlvcreate -L 500M -n lv_run vg_webapp\nmkfs.xfs -f /dev/vg_webapp/lv_run\nmount /dev/vg_webapp/lv_run /opt/webapp/run\n\n\n\n\n\n\nAlertaüí° Reduir o Ampliar\n\n\n\nQu√® creus que √©s m√©s segur: redimensionar un volum l√≤gic cap amunt o cap avall? Per qu√®?"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-4.-creaci√≥-dsnapshots",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-4.-creaci√≥-dsnapshots",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "üíæ Activitat 4. Creaci√≥ d‚Äôsnapshots",
    "text": "üíæ Activitat 4. Creaci√≥ d‚Äôsnapshots\nEls snapshots LVM permeten fer c√≤pies de seguretat en calent del sistema de fitxers. Aquest mecanisme utilitza la t√®cnica Copy-on-Write (COW) per mantenir versions consistents de les dades mentre s‚Äôestan utilitzant.\n\nPas 1: Crear dades\necho \"Hello, World1!\" &gt; /opt/webapp/data/file1.txt\necho \"Hello, World2!\" &gt; /opt/webapp/data/file2.txt\necho \"Hello, World3!\" &gt; /opt/webapp/data/file3.txt\n\n\nPas 2: Crear snapshot\nlvcreate -L 1G -s -n snap_data /dev/vg_webapp/lv_data\n\n\nPas 3: Muntar snapshot\nmkdir /snaps\nmount /dev/vg_webapp/snap_data /snaps\ndiff -r /opt/webapp/data /snaps\n\n\nPas 4: Modificar dades originals i comparar\ndd if=/dev/zero of=/opt/webapp/data/file3.txt bs=1M count=100\ndiff -r /opt/webapp/data /snaps\n\n\n\n\n\n\nAlertaüí° Reflexi√≥: Mida snapshot\n\n\n\nQu√® passa amb la mida de l‚Äôsnapshot quan s‚Äôescriuen noves dades?\n\n\n\n\nPas 5: Crear un segon snapshot i comprovar versions\nlvcreate -L 1G -s -n snap_data2 /dev/vg_webapp/lv_data\numount /snaps\nmount /dev/vg_webapp/snap_data2 /snaps\nls -li /opt/webapp/data /snaps/\n\n\n\n\n\n\nAlertaInodes\n\n\n\nEls fitxers inalterats comparteixen inode; els modificats tenen un inode nou.\n\n\n\n\nüßπ Neteja\numount /snaps\nlvremove /dev/vg_webapp/snap_data\nlvremove /dev/vg_webapp/snap_data2"
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#exercicis-addicionals",
    "href": "exercises/03-fs/10-ex-week7.html#exercicis-addicionals",
    "title": "Laboratori: Desplegament d‚Äôun servidor web amb LVM",
    "section": "Exercicis addicionals",
    "text": "Exercicis addicionals\n\nDescriu els passos per migrar un LV existent a un altre PV utilitzant pvmove. Quin avantatge t√© aquest procediment respecte a copiar fitxers manualment?\nConfigura un mirall de /opt/webapp/data utilitzant LVM. Realitza una prova simulant la fallada d‚Äôun disc i comprova que les dades es mantenen accessibles. Quines implicacions t√© sobre el rendiment?\nCerca informaci√≥ sobre l‚Äôeina fio i realitza un experiment per avaluar el rendiment d‚Äôun volum striped. Representa una gr√†fica amb els resultats per diferents valors de --stripe-size (64K, 128K, 256K, 512K, 1M, 2M). Interpreta la relaci√≥ entre mida de bloc i rendiment."
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html",
    "href": "exercises/02-booting/06-ex-week4.html",
    "title": "An√†lisi del proc√©s d‚Äôarrencada amb systemd",
    "section": "",
    "text": "Aprendre a utilitzar les eines de systemd per analitzar el proc√©s d‚Äôarrencada del sistema.\nEntendre com identificar quines unitats s√≥n les m√©s cr√≠tiques per al temps d‚Äôarrencada.\nAprendre a interpretar la sortida de les comandes systemd-analyze i systemctl."
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#objectius",
    "href": "exercises/02-booting/06-ex-week4.html#objectius",
    "title": "An√†lisi del proc√©s d‚Äôarrencada amb systemd",
    "section": "",
    "text": "Aprendre a utilitzar les eines de systemd per analitzar el proc√©s d‚Äôarrencada del sistema.\nEntendre com identificar quines unitats s√≥n les m√©s cr√≠tiques per al temps d‚Äôarrencada.\nAprendre a interpretar la sortida de les comandes systemd-analyze i systemctl."
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#requeriments-previs",
    "href": "exercises/02-booting/06-ex-week4.html#requeriments-previs",
    "title": "An√†lisi del proc√©s d‚Äôarrencada amb systemd",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una m√†quina virtual (MV) amb Debian instal¬∑lat.\nTotes les comandes s‚Äôhan d‚Äôexecutar amb permisos de superusuari (root). Per tant, su -."
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#an√†lisi-del-proc√©s-darrencada-amb-systemd",
    "href": "exercises/02-booting/06-ex-week4.html#an√†lisi-del-proc√©s-darrencada-amb-systemd",
    "title": "An√†lisi del proc√©s d‚Äôarrencada amb systemd",
    "section": "An√†lisi del proc√©s d‚Äôarrencada amb systemd",
    "text": "An√†lisi del proc√©s d‚Äôarrencada amb systemd\nLa comanda systemd ens permet gestionar els serveis del sistema i controlar el proc√©s d‚Äôarrencada. Podeu comprovar les seves possibilitats amb la comanda man systemd. Una de les funcionalitats m√©s √∫tils de systemd √©s la capacitat de generar informaci√≥ detallada sobre el proc√©s d‚Äôarrencada del sistema.\nEl primer pas per analitzar el proc√©s d‚Äôarrencada amb systemd √©s utilitzar la comanda systemd-analyze per obtenir informaci√≥ sobre el temps que ha trigat el sistema a arrencar. Aquesta comanda mostrar√† informaci√≥ sobre el temps que ha trigat el sistema a arrencar, incloent el temps que ha trigat el kernel i l‚Äôespai d‚Äôusuari.\nStartup finished in 899ms (kernel) + 2.074s (userspace) = 2.973s\ngraphical.target reached after 2.068s in userspace.\n\n\n\nKernel\nEspai d‚Äôusuari\nTotal\n\n\n\n\n899ms\n2.074s\n2.973s\n\n\n\nEn aquest cas, els primers 899ms s‚Äôutilitzen per carregar les funcions del kernel com ara els controladors de dispositius i el sistema de fitxers. Els seg√ºents 2.074s s‚Äôutilitzen per carregar l‚Äôespai d‚Äôusuari, com ara els serveis i els processos del sistema. En total, el sistema ha trigat 2.973s a arrencar.\nAra que tenim aquesta informaci√≥, podem utilitzar la comanda systemd-analyze blame per obtenir informaci√≥ detallada sobre el temps que ha trigat cada unitat a carregar durant el proc√©s d‚Äôarrencada. Aquesta opci√≥ ens llistar√† les unitats ordenades per temps d‚Äôarrencada, de major a menor.\n\n\n\nTemps\nUnitat\n\n\n\n\n1.876s\nsystemd-random-seed.service\n\n\n784ms\ndbus.service\n\n\n782ms\ne2scrub_reap.service\n\n\n778ms\nsystemd-logind.service\n\n\n‚Ä¶\n‚Ä¶\n\n\n4ms\nsystemd-update-utmp-runlevel.service\n\n\n\nAmb aquesta informaci√≥, podem identificar les unitats que poden estar retardant el proc√©s d‚Äôarrencada i optimitzar-les si cal. Per obtenir m√©s informaci√≥ sobre una unitat espec√≠fica, podeu utilitzar la comanda systemctl status seguida del nom de la unitat. Per exemple, si volem informaci√≥ sobre la unitat systemd-random-seed.service, podem executar:\nsystemctl status systemd-random-seed.service\nAquesta informaci√≥ ens mostrar√†:\n\nL‚Äôestat actual de la unitat (inactiu, actiu, desactivat, error o recarregant).\nLa linia Loaded ens indica la ruta al fitxer on es desa la configuraci√≥ de la unitat. En aquest cas, /lib/systemd/system/systemd-random-seed.service. A m√©s ens indica static que vol dir que la unitat no es pot desactivar. Altres unitats ens poden indicar error, masked, not-found, enable o disabled\nLa entrada al manual de la unitat, si n‚Äôhi ha.\nFinalment, ens mostra informaci√≥ sobre el proc√©s: PID, estat del proc√©s i temps que ha estat en execuci√≥ (aix√≤ en el exemple) tamb√© pot mostrar la mem√≤ria, el cgroup, o el nombre de tasques associades.\n\nSi volem saber exactament qu√® fa aquest servei, podem consultar el manual amb la comanda man systemd-random-seed.service.\nEn el manual d‚Äôaquesta comanda us explicar√† de forma detallada qu√® aquest servei carrega una llavor aleat√≤ria al espai del nucli quan arranca i la desa quan s‚Äôapaga. Aquesta llavor es guarda a /var/lib/systemd/random-seed. Per defecte, no s‚Äôassigna entropia quan s‚Äôescriu la llavor al nucli, per√≤ aix√≤ es pot canviar amb $SYSTEMD_RANDOM_SEED_CREDIT. El servei s‚Äôexecuta despr√©s de muntar el sistema de fitxers /var/, per la qual cosa √©s recomanable utilitzar un carregador d‚Äôarrencada que passi una llavor inicial al nucli, com systemd-boot.\n\n\n\n\n\n\nNotaObservaci√≥\n\n\n\nAmb aquesta informaci√≥ podem identificar quina √©s la funci√≥ de cada servei i decidir si pel nostre sistema √©s necessari o no. En aquest cas, el servei systemd-random-seed.service √©s necessari per a la generaci√≥ de nombres aleatoris, per tant, no √©s recomanable desactivar-lo.\n\n\nSi volem informaci√≥ sobre la unitat systemd-random-seed.service, podem utilitzar la comanda systemctl cat systemd-random-seed.service per veure la configuraci√≥ de la unitat.\n# /lib/systemd/system/systemd-random-seed.service\n#  SPDX-License-Identifier: LGPL-2.1-or-later\n#\n#  This file is part of systemd.\n#\n#  systemd is free software; you can redistribute it and/or modify it\n#  under the terms of the GNU Lesser General Public License as published by\n#  the Free Software Foundation; either version 2.1 of the License, or\n#  (at your option) any later version.\n\n[Unit]\nDescription=Load/Save Random Seed\nDocumentation=man:systemd-random-seed.service(8) man:random(4)\nDefaultDependencies=no\nRequiresMountsFor=/var/lib/systemd/random-seed\nConflicts=shutdown.target\nAfter=systemd-remount-fs.service\nBefore=first-boot-complete.target shutdown.target\nWants=first-boot-complete.target\nConditionVirtualization=!container\nConditionPathExists=!/etc/initrd-release\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStart=/lib/systemd/systemd-random-seed load\nExecStop=/lib/systemd/systemd-random-seed save\n\n# This service waits until the kernel's entropy pool is initialized, and may be\n# used as ordering barrier for service that require an initialized entropy\n# pool. Since initialization can take a while on entropy-starved systems, let's\n# increase the timeout substantially here.\nTimeoutSec=10min\nAquesta informaci√≥ ens mostra la configuraci√≥ de la unitat, incloent la descripci√≥, la documentaci√≥, les depend√®ncies, les condicions, el tipus de servei, els comandaments d‚Äôinici i parada, i altres opcions de configuraci√≥. El servei t√© una depend√®ncia de muntatge per a /var/lib/systemd/random-seed, i s‚Äôexecuta despr√©s de systemd-remount-fs.service i abans de first-boot-complete.target i shutdown.target. A m√©s, ens indica que √©s un servei de tipus oneshot, que s‚Äôexecuta una sola vegada i roman actiu despr√©s de la sortida. Els comandaments d‚Äôinici i parada s√≥n /lib/systemd/systemd-random-seed load i /lib/systemd/systemd-random-seed save, respectivament.\n\n\n\n\n\n\nNotaNota\n\n\n\nSi observeu el param√®tre TimeoutSec=10min aquesta unitat pot trigar fins a 10 minuts a carregar. Si el sistema est√† en un entorn amb poca entropia, aquesta unitat pot trigar m√©s temps a carregar.\n\n\nPer exemple, editarem la unitat systemd-random-seed.service per activar la entropia al sistema. Per editar la unitat podeu utilitzar qualsevol editor de text ( i.e vi) o b√© la comanda systemctl edit systemd-random-seed.service que obrir√† un editor de text per afegir la l√≠nia. Un cop obert l‚Äôeditor heu d‚Äôafegir la l√≠na a la secci√≥ [Service] i desar el fitxer. Recordeu que per fer aquesta acci√≥ necessitareu permisos d‚Äôadministrador. Per tant, su - per canviar a l‚Äôusuari root i despr√©s fer la comanda.\nEnvironment=SYSTEMD_RANDOM_SEED_CREDIT=4096\n\nCompte! Si feu anar el systemctl edit aquest crear√† un fitxer de configuraci√≥ a /etc/systemd/system/systemd-random-seed.service.d/override.conf que sobreescriur√† la configuraci√≥ de la unitat original. Per afegir la configuraci√≥ c√≤pieu la configuraci√≥ original i afegiu la l√≠nia Environment=SYSTEMD_RANDOM_SEED_CREDIT=4096 a la secci√≥ [Service].\n\nEstem assignant un cr√®dit de 4096 a la llavor aleat√≤ria. Aix√≤ augmentar√† la quantitat d‚Äôentropia que es passa al nucli quan s‚Äôescriu la llavor. Un cr√®dit m√©s alt pot augmentar la seguretat del sistema, per√≤ tamb√© pot augmentar el temps d‚Äôarrencada en sistemes amb poca entropia.\nUn cop h√†gim fet els canvis, guardarem el fitxer i sortirem de l‚Äôeditor. Despr√©s, podem fer un reboot per aplicar els canvis. Quan el sistema s‚Äôhagi reiniciat, podem tornar a utilitzar la comanda systemd-analyze per comprovar si els canvis han tingut algun impacte en el temps d‚Äôarrencada del sistema.\nUna altra opci√≥ interesant que ens ofereix systemd √©s la comanda systemd-analyze critical-chain. Aquesta comanda ens permet veure la cadena cr√≠tica de les unitats de temps del sistema. Aix√≤ ens mostra quines unitats s√≥n les m√©s cr√≠tiques per al temps d‚Äôarrencada del sistema. Per analizar la sortida, heu de mirar el temps despr√©s del car√†cter @ per veure quant temps ha trigat la unitat a activar-se o iniciar-se, i el temps despr√©s del car√†cter + per veure quant temps ha trigat la unitat a iniciar-se. A m√©s, aquesta comanda nom√©s mostra el temps que les unitats han passat a l‚Äôestat activant-se, i no cobreix les unitats que mai han passat per l‚Äôestat activant-se (com les unitats de dispositius que passen directament de inactiu a actiu). Tot i aix√≤, √©s una eina √∫til per identificar les unitats que poden estar retardant el proc√©s d‚Äôarrencada.\ngraphical.target @2.076s\n‚îî‚îÄmulti-user.target @2.075s\n  ‚îî‚îÄssh.service @1.497s +578ms\n    ‚îî‚îÄnetwork.target @1.494s\n      ‚îî‚îÄnetworking.service @1.225s +268ms\n        ‚îî‚îÄapparmor.service @1.158s +63ms\n          ‚îî‚îÄlocal-fs.target @1.158s\n            ‚îî‚îÄrun-credentials-systemd\\x2dtmpfiles\\x2dsetup.service.mount @1.171s\n              ‚îî‚îÄlocal-fs-pre.target @242ms\n                ‚îî‚îÄsystemd-tmpfiles-setup-dev.service @224ms +17ms\n                  ‚îî‚îÄsystemd-sysusers.service @192ms +20ms\n                    ‚îî‚îÄsystemd-remount-fs.service @131ms +54ms\n                      ‚îî‚îÄsystemd-journald.socket @114ms\n                        ‚îî‚îÄ-.mount @86ms\n                          ‚îî‚îÄ-.slice @86ms\nEn aquest cas, podem veure que la unitat ssh.service √©s la m√©s cr√≠tica per al temps d‚Äôarrencada del sistema, ja que ha trigat 578ms a iniciar-se. A m√©s, podem veure les depend√®ncies de totes les unitats que s‚Äôhan carregat durant el proc√©s d‚Äôarrencada. Comen√ßant pel graphical.target i seguint per les unitats multi-user.target, aquestes dos unitats ens asseguren que el sistema ha arrencat en mode gr√†fic i multiusuari. A partir d‚Äôaquest moment es carreguen la resta de serveis.\nUn altra opci√≥ interessant √©s utilitzar la comanda systemd-analyze plot per generar un gr√†fic del proc√©s d‚Äôarrencada del sistema. Aquesta comanda generar√† un fitxer SVG amb el gr√†fic del proc√©s d‚Äôarrencada, que podeu visualitzar amb un navegador web o un visor d‚Äôimatges.\n\nSi volem analitzar tots les unitats:\nsystemd-analyze plot &gt; boot_system.svg\nSi volem analitzar les unitats de la instancia de l‚Äôusuari:\nsystemd-analyze --user plot &gt; boot_user.svg\nSi volem les unitats de l‚Äôarrencada del sistema:\nsystemd-analyze --system plot &gt; boot_system.svg\n\n\n\n‚ö†Ô∏è Compte: Com puc visualtizar una imatge SVG en un debian sense interf√≠cie gr√†fica?\nPer visualitzar una imatge SVG en un sistema sense interf√≠cie gr√†fica, podeu descarregar el fitxer SVG a la vostra m√†quina local i visualitzar-lo amb un visor d‚Äôimatges o un navegador web. Per exemple, podeu utilitzar la comanda scp per descarregar el fitxer SVG a la vostra m√†quina local:\nscp user@remote:/path/to/boot.svg /path/to/local/boot.svg\n\n\n\n‚ö†Ô∏è Compte: Debian no permet conexions remotes com a root per defecte. Abans de fer-ho, com debian per defecte no permet l‚Äôexecuci√≥ de scp com a root, caldr√† fer-ho com a usuari normal i despr√©s copiar el fitxer a la carpeta desitjada.\nmv boot.svg /tmp \nchown user:user /tmp/boot.svg  \n\nPer a m√©s informaci√≥ sobre les opcions de la comanda systemd-analyze, podeu consultar el manual amb la comanda man systemd-analyze.\nPer acabar, podem comentar que aix√≠ com systemctl status unitat ens mostra la informaci√≥ d‚Äôuna unitat. Tamb√© podem consultar la informaci√≥ de totes les unitats amb:\n\nsystemctl status: Mostra informaci√≥ sobre l‚Äôestat actual del sistema o d‚Äôuna unitat espec√≠fica acompanyada de les dades m√©s recents del registre del diari.\nsystemctl list-units: Mostra una llista de totes les unitats carregades al sistema, incloent les unitats actives, inactives i fallades."
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html",
    "href": "exercises/02-booting/07-ex-week4.html",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "",
    "text": "Aprendre a crear un servei b√†sic amb systemd.\nConfigurar un servei que s‚Äôexecuti a l‚Äôinici del sistema.\nEntendre els fitxers d‚Äôunitat de systemd i com gestionar-los.\nCrear un script senzill per realitzar una c√≤pia de seguretat de la carpeta /home i desar-lo a /backup."
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#objectius",
    "href": "exercises/02-booting/07-ex-week4.html#objectius",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "",
    "text": "Aprendre a crear un servei b√†sic amb systemd.\nConfigurar un servei que s‚Äôexecuti a l‚Äôinici del sistema.\nEntendre els fitxers d‚Äôunitat de systemd i com gestionar-los.\nCrear un script senzill per realitzar una c√≤pia de seguretat de la carpeta /home i desar-lo a /backup."
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#requeriments-previs",
    "href": "exercises/02-booting/07-ex-week4.html#requeriments-previs",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una m√†quina virtual (MV) amb Debian instal¬∑lat.\nTotes les comandes s‚Äôhan d‚Äôexecutar amb permisos de superusuari (root). Per tant, su -.\nRealitzar un apt update -y && apt upgrade -y per assegurar-se que el sistema est√† actualitzat.\nInstal¬∑lar el paquet vim per editar fitxers: apt install vim -y.\nCrear la carpeta /backup on es desaran les c√≤pies de seguretat: mkdir -p /backup."
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#servei-b√†sic-amb-systemd",
    "href": "exercises/02-booting/07-ex-week4.html#servei-b√†sic-amb-systemd",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "Servei b√†sic amb systemd",
    "text": "Servei b√†sic amb systemd\n\nCrearem un script que far√† la c√≤pia de seguretat de la carpeta /home, per fer-ho simplement crearem un arxiu .tar.gz amb la data i hora actual al nom de l‚Äôarxiu. Aquest arxiu es desar√† a la carpeta /backup que hem creat anteriorment. El script es col¬∑locar√† a /usr/local/bin/backup.sh.\n#!/bin/bash\ntar -czf /backup/system_backup_$(date +%Y%m%d_%H%M%S).tar.gz /home\nConfigurarem un servei que faci una c√≤pia de seguretat cada cop que s‚Äôinici√Ø el sistema. Crearem un fitxer de servei a /etc/systemd/system/backup.service.\n[Unit]\nDescription=Backup Service\nAfter=network.target\n\n[Service]\nType=oneshot\nExecStart=/usr/local/bin/backup.sh\n\n[Install]\nWantedBy=multi-user.target\n\n\n\n\n\n\n\nNota\n\n\n\nEl target multi-user.target s‚Äôutilitza perqu√® el servei s‚Äôexecuti quan el sistema est√† en mode multiusuari, √©s a dir, quan la majoria dels serveis del sistema ja estan en funcionament.\n\n\n\nActivarem el servei perqu√® s‚Äôexecuti a l‚Äôinici del sistema amb la comanda:\nsystemctl start backup.service\nComprova l‚Äôestat del servei amb:\nsystemctl status backup.service\n\n\n\n\n\n\n\nImportant\n\n\n\nEl servei no s‚Äôha arrancat degut a errors en l‚Äôscript. Revisa el fitxer de registre amb journalctl -xeu backup.service per veure els errors i corregir-los. On xeu indica que volem veure els missatges d‚Äôerror i advert√®ncia filtrant per unitat. El error que observareu √©s que el script no t√© permisos d‚Äôexecuci√≥. Per solucionar-ho, simplement afegiu permisos d‚Äôexecuci√≥ a l‚Äôscript amb chmod +x /usr/local/bin/backup.sh i torneu a iniciar el servei amb systemctl restart backup.service.\n\n\n\nComprovarem el contigut de la carpeta /backup. Un cop el servei s‚Äôhagi executat correctament, haur√≠eu de veure un fitxer de c√≤pia de seguretat amb la data actual al nom del fitxer.\nls -lh /backup\nActivarem el servei perqu√® s‚Äôexecuti a l‚Äôinici del sistema amb la comanda:\nsystemctl enable backup.service\nFinalment, reiniciarem el sistema per assegurar-nos que el servei s‚Äôexecuta correctament a l‚Äôinici:\nreboot\nDespr√©s de reiniciar, comprova que el fitxer de c√≤pia de seguretat s‚Äôha creat correctament a la carpeta /backup:\nls -lh /backup"
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#servei-amb-timer-amb-systemd",
    "href": "exercises/02-booting/07-ex-week4.html#servei-amb-timer-amb-systemd",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "Servei amb Timer amb systemd",
    "text": "Servei amb Timer amb systemd\nEl servei que hem creat anteriorment s‚Äôexecuta nom√©s una vegada a l‚Äôinici del sistema. Ara crearem un servei que s‚Äôexecuti di√†riament a una hora espec√≠fica utilitzant un timer de systemd. El primer pas √©s crear el servei que volem executar peri√≤dicament, en aquest cas, el mateix script de c√≤pia de seguretat que hem creat abans. El segon pas √©s crear un fitxer de timer que programi l‚Äôexecuci√≥ del servei.\n\nCrearem un fitxer de timer a /etc/systemd/system/backup-daily.timer per programar l‚Äôexecuci√≥ del servei di√†riament a les 2:00 AM.\n[Unit]\nDescription=Runs backup-daily.service daily at 2:00 AM\nRequires=backup-daily.service\n\n[Timer]\nOnCalendar=*-*-* 02:00:00\nPersistent=true\n\n[Install]\nWantedBy=timers.target\non el camp OnCalendar, *-*-* 02:00:00 indica que el servei s‚Äôexecutar√† di√†riament a les 2:00 AM. La l√≠nia Persistent=true assegura que si el sistema est√† apagat a l‚Äôhora programada, el servei s‚Äôexecutar√† tan aviat com el sistema s‚Äôinici√Ø. El *-*-* √©s un comod√≠ que representa qualsevol any, mes i dia.\nCrearem el fitxer de servei a /etc/systemd/system/backup-daily.service que ser√† el que s‚Äôexecutar√† di√†riament.\n[Unit]\nDescription=Daily Backup Service\n\n[Service]\nType=oneshot\nExecStart=/usr/local/bin/backup.sh\nActivarem el timer perqu√® s‚Äôexecuti di√†riament amb la comanda:\nsystemctl enable --now backup-daily.timer\n\n\n\n\n\n\n\nImportant\n\n\n\nL‚Äôargument --now activa el timer immediatament despr√©s d‚Äôhabilitar-lo, de manera que no cal reiniciar el sistema per comen√ßar a utilitzar-lo.\n\n\n\nComprova l‚Äôestat del timer amb:\nsystemctl status backup-daily.timer\nPer veure quan s‚Äôexecutar√† el proper cop el servei, utilitza la comanda:\nsystemctl list-timers --all\nPer provar que el servei funciona correctament, pots for√ßar l‚Äôexecuci√≥ del servei amb la comanda:\nsystemctl start backup-daily.service"
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#exercicis-proposats",
    "href": "exercises/02-booting/07-ex-week4.html#exercicis-proposats",
    "title": "Servei de C√≤pia de Seguretat Autom√†tica amb systemd",
    "section": "Exercicis Proposats",
    "text": "Exercicis Proposats\n\nModifica el servei perqu√® faci una c√≤pia de seguretat de la carpeta /var i /etc en lloc de /home. Un cop fet aix√≤, utilitza systemd-analyze i systemd-analyze blame per analitzar el servei abans i despr√©s d‚Äôactivar-lo. Comenta i justifica els resultats obtinguts.\nCrea un servei que permeti actualitzar el sistema autom√†ticament cada diumenge a les 3:00 AM. Aquest servei hauria d‚Äôexecutar apt update && apt upgrade -y."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html",
    "href": "exercises/02-booting/04-ex-week3.html",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "",
    "text": "Entendre com funciona la edici√≥ temporal del GRUB.\nEntendre com protegir el GRUB amb una contrasenya.\nEntendre com GRUB pot ser un vector d‚Äôacc√©s f√≠sic al sistema."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#objectiu",
    "href": "exercises/02-booting/04-ex-week3.html#objectiu",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "",
    "text": "Entendre com funciona la edici√≥ temporal del GRUB.\nEntendre com protegir el GRUB amb una contrasenya.\nEntendre com GRUB pot ser un vector d‚Äôacc√©s f√≠sic al sistema."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#escenari",
    "href": "exercises/02-booting/04-ex-week3.html#escenari",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "Escenari",
    "text": "Escenari\nUn atacant amb acc√©s f√≠sic al servidor podria modificar la contrasenya de l‚Äôusuari root iniciant el sistema des del GRUB. En aquesta pr√†ctica assumirem aquest escenari de manera controlada."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#requeriments-previs",
    "href": "exercises/02-booting/04-ex-week3.html#requeriments-previs",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nUna m√†quina virtual amb Debian 12 amb GRUB com a gestor d‚Äôarrencada."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#procediment",
    "href": "exercises/02-booting/04-ex-week3.html#procediment",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "Procediment",
    "text": "Procediment\n\nAcc√©s al GRUB\n\nReinicia el sistema i accedeix al men√∫ del bootloader GRUB.\nSelecciona la entrada del sistema operatiu i prem e per editar-la.\n\nModificaci√≥ de la l√≠nia del kernel\n\nLocalitza la l√≠nia que comen√ßa amb linux i acaba amb ro.\nAfageix init=/bin/bash al final.\nAquesta opci√≥ indica al kernel iniciar directament un shell sense passar pel proc√©s d‚Äôinicialitzaci√≥ normal.\n\n\n\n\n\n\n\n\nNotainit=/bin/bash\n\n\n\nAquesta opci√≥ fa que el sistema arranqui directament en un shell de bash com a root, evitant els processos d‚Äôinicialitzaci√≥ habituals. Tots els serveis systemd i altres processos no s‚Äôinicien, i el sistema es troba en un estat m√≠nim, amb nom√©s el shell disponible.\n\n\n\nInici amb les opcions modificades\n\nPrem Ctrl + X per iniciar el sistema amb aquesta configuraci√≥.\nAccedir√†s a un prompt de bash amb permisos de root.\n\nMuntar el sistema de fitxers en mode escriptura\nmount -o remount,rw /\n\n\n\n\n\n\n\nNotamount -o remount,rw /\n\n\n\nCom alternativa, es pot editar la l√≠nia del kernel per canviar ro (read-only) a rw (read-write). Aix√≤ permetr√† que el sistema de fitxers es monti en mode escriptura des del principi, evitant la necessitat de remuntar-lo m√©s tard.\n\n\n\nAccedir a l‚Äôarrel amb chroot\nchroot /\n\n\n\n\n\n\n\nNotachroot\n\n\n\nUna chroot (change root) √©s una operaci√≥ que canvia el directori arrel aparent d‚Äôun proc√©s i els seus fills a un directori especificat. Aix√≤ crea un entorn a√Øllat on el proc√©s veu el directori especificat com la seva arrel (/), permetent executar processos en un sistema de fitxers diferent sense afectar el sistema principal.\n\n\n\nCanviar la contrasenya de root\npasswd\n\nIntrodueix la nova contrasenya quan se‚Äôt demani.\n\nSincronitzar els canvis i reiniciar\nexit \nreboot\n\n\n\n\n\n\n\nNotaSolcuci√≥ si reboot no funciona\n\n\n\nSi el sistema no respon a la comanda reboot, pots for√ßar un reinici f√≠sic de la m√†quina virtual.\n\n\n\nIniciar sessi√≥ amb l‚Äôusuari normal.\nCanviar a l‚Äôusuari root amb la nova contrasenya. su -"
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#protecci√≥-del-grub",
    "href": "exercises/02-booting/04-ex-week3.html#protecci√≥-del-grub",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "Protecci√≥ del GRUB",
    "text": "Protecci√≥ del GRUB\nPer protegir el GRUB i evitar que un atacant amb acc√©s f√≠sic pugui modificar les opcions d‚Äôarrencada, es pot configurar una contrasenya per al GRUB.\n\nGenerar una contrasenya xifrada\n\nUtilitza la comanda seg√ºent per generar una contrasenya xifrada:\ngrub-mkpasswd-pbkdf2\nIntrodueix la contrasenya desitjada i copia la sortida que comen√ßa amb pbkdf2.\n\nEditar la configuraci√≥ del GRUB\n\nObre el fitxer de configuraci√≥ del GRUB:\n# Com a root\nvi /etc/grub.d/40_custom\nAfegeix les l√≠nies seg√ºents al fitxer, substituint your_encrypted_password per la contrasenya xifrada que has generat:\nset superusers=\"root\"\npassword_pbkdf2 root your_encrypted_password\n\nActualitzar la configuraci√≥ del GRUB\n\nDespr√©s d‚Äôhaver editat el fitxer, actualitza la configuraci√≥ del GRUB:\nupdate-grub    # Debian/Ubuntu\ngrub2-mkconfig -o /boot/grub2/grub.cfg  # Alma/Rocky (BIOS)\ngrub2-mkconfig -o /boot/efi/EFI/almalinux/grub.cfg  # Alma/Rocky (UEFI)\n\nReiniciar el sistema\n ```bash\n reboot\n ```\nVerificar la protecci√≥ del GRUB\n\nDurant l‚Äôarrencada, intenta editar una entrada del GRUB. Hauries de ser sol¬∑licitat per una contrasenya.\n\n\n\n\n\n\n\n\nImportantüëÅÔ∏è Observaci√≥\n\n\n\nMalgrat l‚Äô√∫s d‚Äôuna contrasenya per a protegir el GRUB, aquesta t√®cnica no √©s infal¬∑lible. Un atacant amb acc√©s f√≠sic pot montar un usb bootable i iniciar el sistema amb aquest dispositiu. Un cop iniciat el sistema, l‚Äôatacant podria montar el sistema de fitxers i modificar la contrasenya de l‚Äôusuari root. Ara b√©, es podria configurar el BIOS o UEFI per a desactivar l‚Äôarrencada des de dispositius externs com els USBs. Aix√≤ dificultaria l‚Äôacc√©s no autoritzat al sistema a trav√©s d‚Äôaquesta t√®cnica."
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#reflexions",
    "href": "exercises/02-booting/04-ex-week3.html#reflexions",
    "title": "Modificant la contrasenya de l‚Äôusuari root a trav√©s del GRUB",
    "section": "Reflexions",
    "text": "Reflexions\n\nControl f√≠sic del servidor: Limitar l‚Äôacc√©s f√≠sic √©s essencial.\nDesactivar arrencada des de dispositius externs: Configurar BIOS/UEFI per bloquejar USB/CD.\nAmb LUKS/dm-crypt, encara que l‚Äôatacant accedeixi f√≠sicament al GRUB, no podr√† llegir ni modificar les dades sense la clau.\nUEFI Secure Boot: Si est√† activat i el GRUB est√† signat, no es podr√† iniciar amb init=/bin/bash sense desactivar temporalment Secure Boot."
  }
]