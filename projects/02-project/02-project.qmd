---
title: "PrÃ ctica 02: DiagnÃ²stic i resoluciÃ³ d'incidÃ¨ncies en un servidor"
subtitle: "Unitat 3 Â· AdministraciÃ³ i Manteniment de Sistemes i Aplicacions (AMSA)"
author: "Jordi Mateo FornÃ©s <jordi.mateo@udl.cat>"
format: html
lang: ca
---

## Instruccions generals

Aquesta prÃ ctica Ã©s un **hack-the-box** de diagnosi i resoluciÃ³ dâ€™incidÃ¨ncies en un servidor Linux. El professor us proporcionarÃ  una mÃ quina virtual amb diversos problemes que haureu dâ€™identificar i solucionar en format contrarellotge (temps limitat de la classe).

- â± **Durada**: 2 hores
- ğŸ–¥ï¸ **Entorn**: mÃ quina virtual facilitada pel professor
- ğŸ‘¥ **Treball**: en grups de 2â€“3 persones
- ğŸ“„ **Entrega**: Informe en format pdf al campus virtual.


Podeu utilitzar qualsevol comanda i cercar informaciÃ³ en lÃ­nia. Actueu amb cura i preserveu evidÃ¨ncies abans de fer canvis irreversibles.

## Context

Heu rebut una trucada dâ€™un client que tÃ© problemes amb el seu servidor Linux. La imatge de la mÃ quina virtual que us ha facilitat contÃ© el servidor del client. La vostra missiÃ³ Ã©s identificar tots els problemes ocults al sistema, explicar-ne la causa, aplicar solucions raonades i deixar el sistema operatiu i net. Per a cada problema heu de documentar el procÃ©s de **diagnosi i resoluciÃ³**.

## Procediment

1. Arrencar la mÃ quina virtual i observar el comportament inicial.  
2. Investigar sistemÃ ticament per identificar problemes i causes. 
3. Aplicar solucions i verificar la recuperaciÃ³.  
4. Documentar tot el procÃ©s de diagnosi i resoluciÃ³.

## Tasques

- Comproveu els logs del sistema (`dmesg`, `journalctl`, `/var/log/syslog`).
- Verifiqueu l'estat dels serveis amb systemctl.
- Comproveu l'espai en disc amb la comanda `df`.
- Reviseu els permisos dels fitxers i directoris rellevants.
- Es molt important que l'usuari `jordi` tingui un programa amb `c` anomenat `hola` a `/home/jordi/bin/hola` que imprimeixi `Hola, mÃ³n!` quan s'executi.
- Es molt important que elimineu l'arxiu `/srv/lab/passwords.txt` que contÃ© contrasenyes en text pla i que no s'hauria d'haver creat mai.
- Reporteu els logs amb evidÃ¨ncies de cada problema, reviseu els logs tambÃ© entre arrencades.
  
> El sistema tÃ© 2 usuaris: `root` i `jordi`. 
> Els passwords d'aquests usuaris sÃ³n 1234.


## Entrega

Entregueu un informe:

1. DescripciÃ³ del sistema:

| Element                 | Dispositiu (e.g. /dev/sda1) | Punts de muntatge | Tipus FS | UUID | Mida | Espai lliure | Inodes totals | Inodes lliures | Notes |
| ----------------------- | --------------------------: | ----------------- | -------- | ---- | ---: | -----------: | ------------: | -------------: | ----- |
| |                            |                   |          |      |      |              |               |                |       |

2. Per a cada problema identificat, incloeu:

| Problema | SÃ­mptoma | Comandes de diagnosi | SoluciÃ³ aplicada | RecomanaciÃ³ futura | EvidÃ¨ncies |
| -------- | -------- | -------------------- | ---------------- | ------------------ | ---------- |
|          |          |                      |                  |                    |            |

3. Feu una recomanaciÃ³ general per millorar la seguretat i estabilitat del sistema.

### Contingut de l'informe

- SÃ­mptoma observat (captura o sortida de comandes).
- Comandes utilitzades per diagnosticar.
- SoluciÃ³ aplicada (i per quÃ¨).
- RecomanaciÃ³ per evitar-ho en futur.
- Arxius dâ€™evidÃ¨ncia: export de journals i logs rellevants.
- Llista de comandes executades (p. ex. un commands.txt amb les comandes clau).

## AvaluaciÃ³

|Criteri|Percentatge|
|---|---|
|IdentificaciÃ³ correcta dels problemes|40%|
|Solucions aplicades i afecte rebut|30%|
|Qualitat de la documentaciÃ³ i evidÃ¨ncies|20%|
|Bona prÃ ctica operativa (preservar evidÃ¨ncies, justificar canvis)|10%|

---

> Happy SysAdmin! ğŸ•µï¸â€â™‚ï¸